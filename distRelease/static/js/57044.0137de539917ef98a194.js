"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[57044],{63895:function(a,e,t){t.r(e);var i=t(5044),n=t(73473),l=t.n(n),r=t(90541),o=(t(88561),t(25108)),n={};function S(a){a=a.replace(/-/g,"/");return Date.parse(a)}n.handle=function(a,e){};var f=[];n.initHandle=function(t,a,n){"SqiqArAJBxTC7bI"==a.parameters.nodeId&&r.Z.http.post("fn/workhour/getSetting").then(function(a){var t=a.data;t&&t.data&&(n.formData.multinfos["220124104225OaDatbjshhgn5oaS1wl"].rows.forEach(function(a){var e=a["C-ERP-DETAILS-0001"].value;e&&e.indexOf(t.data.userId)<0&&f.push(a)}),(f=f.reverse()).forEach(function(a){a=n.formData.multinfos["220124104225OaDatbjshhgn5oaS1wl"].rows.indexOf(a);n.formData.multinfos["220124104225OaDatbjshhgn5oaS1wl"].rows.splice(a,1)}))}),n.$bus.on("selectDateTime",function(a){var e;o.log(a),"C-XMGL-XMJSZCSQ-011"!=a.metaData.metaId&&"C-XMGL-XMJSZCSQ-012"!=a.metaData.metaId||n.formData.main["C-XMGL-XMJSZCSQ-011"].value&&n.formData.main["C-XMGL-XMJSZCSQ-012"].value&&(a=S(t.main["C-XMGL-XMJSZCSQ-011"].value),e=S(t.main["C-XMGL-XMJSZCSQ-012"].value),0<(e=Math.floor((e-a)/864e5)+1)?n.$set(n.formData.main,"C-XMGL-XMJSZCSQ-013",{value:e}):(n.$set(n.formData.main,"C-XMGL-XMJSZCSQ-013",{value:"0"}),r.Z.layer.toast("实际结束时间不能早于实际开始时间")))})},n.saveFilter=function(n,a,e){var r,o,u;return"SqiqArAJBxTC7bI"==a.parameters.nodeId&&(a=n,e=e,o=r="",u=0,[].concat((0,i.Z)(f),(0,i.Z)(a.multinfos["220124104225OaDatbjshhgn5oaS1wl"].rows)).forEach(function(a,e){var t;"Deleted"!=a.action&&(0==e?(o=r=a.B0013.value,u=Number(a["C-ERP-DETAILS-0003"].value)):(""==o&&(o=S(a.B0013.value)),""==r&&(r=S(a.B0013.value)),e=S(o),t=S(r),e<(e=S(a.B0013.value))&&(o=a.B0013.value),e<t&&(r=a.B0013.value),u+=Number(a["C-ERP-DETAILS-0003"].value)))}),e.$set(e.formData.main["C-XMGL-XMJSZCSQ-011"],"value",r),e.$set(e.formData.main["C-XMGL-XMJSZCSQ-012"],"value",o),e.$set(e.formData.main["C-XMGL-XMJSZCSQ-013"],"value",u)),new(l())(function(a,e){var t=S(n.main["C-XMGL-XMJSZCSQ-011"].value);S(n.main["C-XMGL-XMJSZCSQ-012"].value)<t?e("实际结束时间不能早于实际开始时间"):a()})},e.default=n}}]);