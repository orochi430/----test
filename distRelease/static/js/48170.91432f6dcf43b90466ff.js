"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[48170],{48170:function(t,a,e){e.r(a),e.d(a,{default:function(){return c}});var s=e(25108),a={data:function(){return{message:"调用摄像头扫码中",zcData:{},showState:!0,loading:""}},computed:{showBtn:function(){return 1==this.$route.query.showBtn}},created:function(){this.scan()},methods:{scan:function(){var a=this;"app"==dsf.util.getClientName()?xsfBarcode.scan(function(t){s.log(t),dsf.layer.closeLoading(a.loading),t.text?dsf.http.post("ctrl/asset/check/startCheckAsset",{qcId:a.$route.query.qcId||"",zcId:t.text,isCheck:a.showBtn?"1":"0"}).then(function(t){if(200==t.data.code)switch(a.zcData=t.data.data.zcData,t.data.data.checkState){case"1":dsf.layer.toast("记录成功",!0),a.showState=!1;break;case"2":a.message="该资产已清查",a.showState=!0;break;case"3":a.message="该二维码无效(ID没有找到对应的资产卡片)",a.showState=!0;break;case"4":a.message="资产清查记录失败",a.showState=!0;break;case"5":a.message="清查id不存在",a.showState=!0;break;default:a.showState=!1}}):(a.message="该二维码无效",a.showState=!0)},function(t){dsf.layer.closeLoading(a.loading),a.message="扫码失败",a.showState=!0,alert("扫码失败: "+t)}):(this.message="需在app中进行扫码",this.showState=!0)}}},c=(0,e(51900).Z)(a,function(){var t=this,a=t._self._c;return a("div",{staticClass:"container",staticStyle:{height:"calc(100vh - 0.92rem)"}},[a("div",{staticClass:"detail"},[t.showState?a("div",{staticClass:"state"},[a("div",[a("van-icon",{attrs:{name:"warning",size:"1.5rem",color:"#f29b38"}})],1),t._v(" "),a("div",{staticClass:"message"},[t._v(t._s(t.message))])]):a("div",[a("van-cell",{attrs:{value:t.zcData.ZCMC,center:"",title:"资产名称"}}),t._v(" "),a("van-cell",{attrs:{value:t.zcData.ZCBH,center:"",title:"资产编号"}}),t._v(" "),a("van-cell",{attrs:{value:t.zcData.SYBM,center:"",title:"使用部门"}}),t._v(" "),a("van-cell",{attrs:{value:t.zcData.SYR,center:"",title:"使用人"}}),t._v(" "),a("van-cell",{attrs:{value:t.zcData.ZCZT,center:"",title:"资产状态"}}),t._v(" "),a("van-cell",{attrs:{value:t.zcData.CFDD,center:"",title:"存放地点"}})],1)]),t._v(" "),t.showBtn?a("div",{staticClass:"btn-container"},[a("van-button",{staticClass:"btn",attrs:{type:"info"},on:{click:t.scan}},[t._v("继续清查")])],1):t._e()])},[],!1,null,"15b80e0f",null).exports}}]);