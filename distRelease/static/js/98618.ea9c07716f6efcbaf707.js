"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[98618],{32203:function(t,a,e){e.r(a),e.d(a,{default:function(){return r}});var a=e(8450),s=e.n(a),a=e(79529),n=e.n(a),a=e(70596),i=e.n(a),c=e(25108),a={name:"total120",data:function(){return{isActive:1,tableData:{addressConfirm:0,newIncreased:0,addressBack:0,transportFail:0,transportSuccess:0,diseaseIssue:0}}},mounted:function(){this.$nextTick(function(){this.tableData={addressConfirm:0,newIncreased:0,addressBack:0,transportFail:0,transportSuccess:0,diseaseIssue:0},this.loadData(this.isActive)})},methods:{handClickBtn:function(t){this.isActive=t,this.$nextTick(function(){this.tableData={addressConfirm:0,newIncreased:0,addressBack:0,transportFail:0,transportSuccess:0,diseaseIssue:0},this.loadData(t)})},toList:function(t,a){if(t){var e="",t={type:this.isActive+1,street:2};switch(a){case"newIncreased":e="commonlist/2203262056424BtKR74wzH53InraLL5/2203231557166xI8tOHDMKIjT1QRrnD";break;case"addressConfirm":e="commonlist/220326214539fTuoACgjzNVy8tVawHW/2203231557166xI8tOHDMKIjT1QRrnD";break;case"diseaseIssue":e="commonlist/220326214605g6rwc3bmWvHxkxco6Xl/2203231557166xI8tOHDMKIjT1QRrnD";break;case"transportFail":e="commonlist/220326214622nq3xgYXKJupNmIk4xvX/2203231557166xI8tOHDMKIjT1QRrnD";break;case"transportSuccess":e="commonlist/220326214634fPoRpwxj2m6pJAGfnwF/2203231557166xI8tOHDMKIjT1QRrnD";break;case"addressBack":e="commonlist/220326214651CHO7vRo3X5hqgXDtK6W/2203231557166xI8tOHDMKIjT1QRrnD"}this.$router.push({path:e,query:{secQuery:s()(t)}})}},loadData:function(t){var o=this;dsf.http.post("fn/transport/statistical?street=2&type="+(t+1),{}).then(function(t){var a,e,s,n,i,r;"success"==t.data.type&&(t=t.data.data,o.tableData.addressConfirm=t.addressConfirm,o.tableData.newIncreased=t.newIncreased,o.tableData.addressBack=t.addressBack,o.tableData.transportFail=t.transportFail,o.tableData.transportSuccess=t.transportSuccess,o.tableData.diseaseIssue=t.diseaseIssue,(a={}).dataX=[],a.data=[],t.transportHospital.forEach(function(t){a.dataX.push(t.NAME),a.data.push(t.VALUE)}),(e={}).dataX=[],e.data=[],s=[],n=[],i=[],t.addressTransport.forEach(function(t){e.dataX.push(t.NAME),s.push(t.VALUE2),n.push(t.VALUE3),i.push(t.VALUE)}),e.data.push({name:"待确认",type:"bar",stack:"block",label:{show:!0},emphasis:{focus:"series"},data:s}),e.data.push({name:"已确认",type:"bar",stack:"block",label:{show:!0},emphasis:{focus:"series"},data:n}),c.log("addressObj",e),(r={}).dataX=[],r.data=[],t.timeStatistical.forEach(function(t){r.dataX.push(t.NAME),r.data.push(t.VALUE)}),o.drawChart("mainHispital",a),o.drawBarChart("mainAddress",e),o.drawTimeChart("mainAvg",r))})},drawBarChart:function(t,a){t=i().init(document.getElementById(t)),a={tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var a=t[0].name+"<br/>",e=0;return t.forEach(function(t){e+=t.value,a+=t.marker+t.seriesName+'<span style="display:inline-block;width:60px;text-align:right;">'+t.value+"</span><br/>"}),a+='<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:#d5d5d5;"></span>总数<span style="display:inline-block;width:60px;text-align:right;float:right;">'+e+"</span><br/>"}},legend:{},color:["#ee6666","#4096E9","#fac858"],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:a.dataX,inverse:!0},series:a.data};t.setOption(a)},drawTimeChart:function(t,a){t=i().init(document.getElementById(t)),a={color:["#4096E9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var a=n()(t[0].value/60),t=t[0].value%60;return 0==a&&0==t?0:(0==a&&0<t?"":"".concat(a,"小时")).concat(t,"分钟")}},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a.dataX,inverse:!0},series:[{name:(new Date).getMonth()+1+"-"+(new Date).getDate(),type:"bar",label:{show:!0,position:"right",formatter:function(t){var a=n()(t.value/60),t=t.value%60;return 0==a&&0==t?0:(0==a&&0<t?"":"".concat(a,"小时")).concat(t,"分钟")}},data:a.data}]};t.setOption(a)},drawChart:function(t,a){t=i().init(document.getElementById(t)),a={color:["#4096E9"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:a.dataX,inverse:!0},series:[{name:(new Date).getMonth()+1+"-"+(new Date).getDate(),type:"bar",label:{show:!0,position:"right"},data:a.data}]};t.setOption(a)}}},r=(0,e(51900).Z)(a,function(){var a=this,t=a._self._c;return t("div",{staticClass:"container",style:{minHeight:"calc(100vh - ".concat(a.dsf.util.getOffsetTop(),")")}},[t("div",{staticClass:"chart-container"},[t("div",{staticClass:"_btn _controlBtn"},[t("span",{class:"0"==a.isActive?"_active":"",on:{click:function(t){return a.handClickBtn(0)}}},[a._v("昨日")]),a._v(" "),t("span",{class:"1"==a.isActive?"_active":"",on:{click:function(t){return a.handClickBtn(1)}}},[a._v("今日")]),a._v(" "),t("span",{class:"2"==a.isActive?"_active":"",on:{click:function(t){return a.handClickBtn(2)}}},[a._v("总计")])]),a._v(" "),t("div",{staticClass:"totals"},[t("div",{on:{click:function(t){return a.toList(a.tableData.newIncreased,"newIncreased")}}},[t("span",[a._v("新增录入")]),a._v(" "),t("span",{staticStyle:{color:"#0073CA"}},[a._v(a._s(a.tableData.newIncreased||0))])]),a._v(" "),t("div",{on:{click:function(t){return a.toList(a.tableData.diseaseIssue,"diseaseIssue")}}},[t("span",[a._v("疾控下发")]),a._v(" "),t("span",{staticStyle:{color:"#F66C6C"}},[a._v(a._s(a.tableData.diseaseIssue||0))])]),a._v(" "),t("div",{on:{click:function(t){return a.toList(a.tableData.addressConfirm,"addressConfirm")}}},[t("span",[a._v("属地确认")]),a._v(" "),t("span",{staticStyle:{color:"#FA6400"}},[a._v(a._s(a.tableData.addressConfirm||0))])]),a._v(" "),t("div",{on:{click:function(t){return a.toList(a.tableData.transportFail,"transportFail")}}},[t("span",[a._v("转运未成功")]),a._v(" "),t("span",{staticStyle:{color:"#F7B500"}},[a._v(a._s(a.tableData.transportFail||0))])]),a._v(" "),t("div",{staticStyle:{"border-bottom":"none"},on:{click:function(t){return a.toList(a.tableData.transportSuccess,"transportSuccess")}}},[t("span",[a._v("转运成功")]),a._v(" "),t("span",{staticStyle:{color:"#E02020"}},[a._v(a._s(a.tableData.transportSuccess||0))])]),a._v(" "),t("div",{staticStyle:{"border-bottom":"none"},on:{click:function(t){return a.toList(a.tableData.addressBack,"addressBack")}}},[t("span",[a._v("属地退回")]),a._v(" "),t("span",{staticStyle:{color:"#FA6400"}},[a._v(a._s(a.tableData.addressBack||0))])])]),a._v(" "),t("div",{staticStyle:{"text-align":"center","font-size":"var(--font_size_2)"}},[a._v("属地统计")]),a._v(" "),t("div",{style:{width:"100%",height:"100%"},attrs:{id:"mainAddress"}}),a._v(" "),t("div",{staticStyle:{"text-align":"center","font-size":"var(--font_size_2)"}},[a._v("转送医院统计")]),a._v(" "),t("div",{style:{width:"100%",height:"100%"},attrs:{id:"mainHispital"}}),a._v(" "),t("div",{staticStyle:{"text-align":"center","font-size":"var(--font_size_2)"}},[a._v("时效统计（平均）")]),a._v(" "),t("div",{style:{width:"100%",height:"100%"},attrs:{id:"mainAvg"}})])])},[],!1,null,"1a664637",null).exports}}]);