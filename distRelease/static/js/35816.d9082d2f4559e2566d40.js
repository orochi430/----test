"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[35816],{40343:function(a,e,n){n.r(e);var t=n(73473),u=n.n(t),i=n(25108),t={handle:function(a,e){},initHandle:function(n,a,t){function E(a){a=a.replace(/-/g,"/");return Date.parse(a)}t.$bus.on("checkVal",function(a){i.log(a),"C-LEAVE-0001"==a.metaData.metaId&&(t.$set(t.formData.main,"C-LEAVE-0003",{value:""}),t.$set(t.formData.main,"C-LEAVE-0006",{value:""}))}),t.$bus.on("blurBus",function(a){var e;"C-LEAVE-0006"==a.metaData.metaId&&(a.value<0?(dsf.layer.toast("请输入正确天数！"),n.main["C-LEAVE-0006"].value=""):1==n.main["C-LEAVE-0001"].value&&n.main["C-LEAVE-0002"].value&&(a=E(n.main["C-LEAVE-0002"].value),e=n.main["C-LEAVE-0006"].value,a=new Date(a+864e5*(e-1)),e=dsf.date.format(a,"yyyy-mm-dd"),t.$set(n.main,"C-LEAVE-0003",{value:e})))}),t.$bus.on("selectDateTime",function(a){var e;"C-LEAVE-0003"!=a.metaData.metaId&&"C-LEAVE-0002"!=a.metaData.metaId||n.main["C-LEAVE-0003"].value&&n.main["C-LEAVE-0002"].value&&(a=E(n.main["C-LEAVE-0002"].value),e=E(n.main["C-LEAVE-0003"].value),0<Math.floor((e-a)/864e5)+1?dsf.http.post("fn/leave/offHoliday",{startTime:n.main["C-LEAVE-0002"].value,endTime:n.main["C-LEAVE-0003"].value}).then(function(a){t.$set(n.main,"C-LEAVE-0006",{value:a.data.data})}):(t.$set(n.main,"C-LEAVE-0006",{value:""}),t.$set(n.main,"C-LEAVE-0003",{value:""}),dsf.layer.toast("结束时间必须晚于开始时间")))})},saveFilter:function(n,a,e,t){function E(a){a=a.replace(/-/g,"/");return Date.parse(a)}return new(u())(function(a,e){("save"==t||"send"==t)&&E(n.main["C-LEAVE-0003"].value)<E(n.main["C-LEAVE-0002"].value)?e("请假结束时间不能早于请假开始时间"):a()})}};e.default=t}}]);