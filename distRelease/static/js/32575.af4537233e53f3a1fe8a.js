"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[32575],{32575:function(t,s,a){a.r(s),a.d(s,{default:function(){return e}});var s=a(79529),d=a.n(s),i=a(25108),s={name:"daibanDetail",props:[],components:{},data:function(){return{dbShow:!0,showPop:!1,flag:!1,contentList:{total:0,list:[{num:0,color:"#0091FF",text:"24小时内"},{num:0,color:"#FFBC05",text:"24-48小时"},{num:0,color:" #FA6400",text:"48-72小时"},{num:0,color:"#E02020",text:"超过72小时"}]},csData:{total:12,csList:[]},dbjjjsljs:{tt:0,jj:0,tj:0},dbjdpjhs:{24:0,72:0,"48-72":1,"24-48percentage":"0.0%","72percentage":"0.0%","24-48":0,"24percentage":"0.0%",pjddsc:"",dbjsl:"","48-72percentage":"100.0%"}}},created:function(){},mounted:function(){this.getDbData()},activated:function(){},computed:{},watch:{},methods:{ywEcharts:function(t){var s=document.getElementById("ywEcharts"),t={tooltip:{trigger:"item"},legend:{top:"center",right:"12%",orient:"vertical",textStyle:{fontWeight:"bold"}},series:[{name:"Access From",type:"pie",radius:["40%","70%"],right:"36%",silent:!0,avoidLabelOverlap:!1,label:{show:!1,position:"center",color:"#666666"},labelLine:{show:!1},data:t}]};echarts.init(s).setOption(t)},getDbData:function(){var c=dsf.layer.loading(),o=this;dsf.http.post("fn/efficiencySelect/timeConsumptionAnalysisOfPendingItemsDetails",{year:(new Date).getFullYear(),month:(new Date).getMonth()+1}).then(function(t){var s,a,i,e,n,l;dsf.layer.closeLoading(c),"success"===t.data.type?(e=t.data.data,s=e.dbjdpjhs,a=e.dbywlxzb,i=e.gcsdbqkfx,e=e.dbjjjsljs,o.dbjjjsljs=e,o.dbjdpjhs=s,o.contentList.total=s[24]+s["24-48"]+s["48-72"]+s[72],o.contentList.list.forEach(function(t){"24小时内"==t.text?t.num=s[24]:"24-48小时"==t.text?t.num=s["24-48"]:"48-72小时"==t.text?t.num=s["48-72"]:t.num=s[72]}),o.csData.total=i.length,n="",l=0,i.forEach(function(t,s){l=t.pjhs>l?t.pjhs:l}),n=100/Number(l),o.flag=10<i.length,i.forEach(function(t,s){o.csData.csList.push({id:s+1,name:t.csmc,accelerationTimer:t.dbl,rate2:(Number(t.pjhs)*n).toFixed()+"%",rate:Number(t.pjhs),flag:s<=9})}),o.ywEcharts([{value:d()(a.fw),name:"发文   "+a.fw,itemStyle:{color:"#0091FF"}},{value:d()(a.lw),name:"收文   "+a.lw,itemStyle:{color:"#FFB006"}}])):(dsf.layer.toast(t.data.message),o.dbShow=!1)}).catch(function(t){dsf.layer.closeLoading(c),o.dbShow=!1,i.log(t)})},viewTZ:function(){this.$router.push({path:"/commonList?fileType=cktz&title=待办台账"})},mroe:function(){this.flag=!1,this.csData.csList.forEach(function(t){t.flag=!0})}}},e=(0,a(51900).Z)(s,function(){var a=this,i=a._self._c;return i("div",{staticClass:"daibanDetail"},[i("div",{staticClass:"bg"},[i("div",{staticClass:"btn",on:{click:a.viewTZ}},[a._v("查看台账")]),a._v(" "),a.dbShow?i("div",{staticClass:"db_box"},[i("div",{staticClass:"text"},[a._v("待办件数量")]),a._v(" "),i("div",{staticClass:"num"},[i("span",[a._v(a._s(a.dbjdpjhs.dbjsl))]),a._v(" 件\n      ")]),a._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[a._v("特提(件)")]),a._v(" "),i("div",{staticClass:"num"},[a._v("\n            "+a._s(a.dbjjjsljs.tt)+"\n          ")])]),a._v(" "),i("div",{staticClass:"center"},[i("div",{staticClass:"title"},[a._v("特急(件)")]),a._v(" "),i("div",{staticClass:"num"},[a._v("\n            "+a._s(a.dbjjjsljs.tj)+"\n          ")])]),a._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[a._v("加急(件)")]),a._v(" "),i("div",{staticClass:"num"},[a._v("\n            "+a._s(a.dbjjjsljs.jj)+"\n          ")])])])]):i("commonempty",{staticStyle:{background:"#fff","border-radius":"10px"},attrs:{description:"数据获取失败"}})],1),a._v(" "),i("div",{staticClass:"hs_box"},[a._m(0),a._v(" "),i("div",{staticClass:"text"},[a._v("平均等待时长")]),a._v(" "),i("div",{staticClass:"num"},[i("span",[a._v(a._s(a.dbjdpjhs.pjddsc))]),a._v(" 小时\n    ")]),a._v(" "),i("div",{staticClass:"content"},[a._l(a.contentList.list,function(t,s){return i("div",{key:s,staticClass:"item"},[i("div",{staticClass:"gezhi",style:{background:t.color}}),a._v(" "),i("div",{staticClass:"gray"},[a._v(a._s(t.text))]),a._v(" "),i("div",{staticClass:"num"},[a._v(a._s(t.num))])])}),a._v(" "),i("div",{staticClass:"yanse"},a._l(a.contentList.list,function(t,s){return i("div",{key:s,style:{width:t.num/a.contentList.total*100+"%",background:t.color}})}),0)],2)]),a._v(" "),i("div",{staticClass:"cs_box"},[a._m(1),a._v(" "),i("div",{staticClass:"box"},[a._m(2),a._v(" "),a._l(a.csData.csList,function(t){return[t.flag?i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"radius"},[i("div",{staticClass:"serialNumber",style:{background:t.id<4?"#0086d9":""}},[a._v("\n              "+a._s(t.id)+"\n            ")])]),a._v(" "),i("div",{staticClass:"progress"},[i("div",{staticClass:"title"},[i("div",{staticStyle:{flex:"3"}},[a._v(a._s(t.name))]),a._v(" "),i("div",{staticStyle:{"text-align":"center",flex:"2"}},[a._v("\n                "+a._s(t.accelerationTimer)+"\n              ")]),a._v(" "),i("div",{staticStyle:{flex:"3","text-align":"right"}},[a._v("\n                "+a._s(t.rate)+"\n              ")])]),a._v(" "),i("van-progress",{attrs:{percentage:d()(t.rate2),color:"#0091FF","show-pivot":!1,"stroke-width":"6"}})],1)]):a._e()]}),a._v(" "),10<a.csData.total&&a.flag?i("div",{staticClass:"more",on:{click:a.mroe}},[a._v("\n        全部展示\n      ")]):a._e()],2)]),a._v(" "),a._m(3)])},[function(){var t=this,s=t._self._c;return s("div",{staticClass:"title"},[s("div",{},[s("span",{staticClass:"blue"}),t._v(" "),s("span",{staticClass:"yellow"}),t._v(" "),s("span",{staticClass:"bold"},[t._v("待办件各耗时频段数量")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"title"},[s("div",{},[s("span",{staticClass:"blue"}),t._v(" "),s("span",{staticClass:"yellow"}),t._v(" "),s("span",{staticClass:"bold"},[t._v("各处室待办情况分析")])]),t._v(" "),s("div",{staticClass:"text"},[t._v("说明：按平均等待时长排序")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"tabel"},[s("div",{staticStyle:{flex:"3"}},[t._v("处室名称")]),t._v(" "),s("div",{staticStyle:{flex:"2","text-align":"center"}},[t._v("待办量")]),t._v(" "),s("div",{staticStyle:{flex:"3","text-align":"right"}},[t._v("平均耗时(小时)")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"yw_box"},[s("div",{staticClass:"title"},[s("div",{},[s("span",{staticClass:"blue"}),t._v(" "),s("span",{staticClass:"yellow"}),t._v(" "),s("span",{staticClass:"bold"},[t._v("待办业务类型占比")])])]),t._v(" "),s("div",{staticClass:"ywEcharts",attrs:{id:"ywEcharts"}})])}],!1,null,"6f969843",null).exports}}]);