"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[31423],{31423:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var i=n(88561),a=n(25108),t={data:function(){return{active:"-1",meetingInfo:i.Z.loadSessionStore("meeting"),tabArr:[],detailArr:[],activeNames:0,default_avatar:'this.src="'+n(11727)+'"'}},created:function(){this.getSignInTabs()},methods:{getSignInTabs:function(){var t=this;dsf.http.post("fn/conferenceSignIn/signInTabs",{meetingId:this.meetingInfo.id,scheduleId:this.$route.query.id}).done(function(e){"success"==e.type&&e.data&&(t.tabArr=e.data,t.getSignInDetails())}).error(function(e){a.log("getAgendas-error",e)})},getSignInDetails:function(){var t=this;dsf.http.post("fn/conferenceSignIn/signInDetails",{meetingId:this.meetingInfo.id,scheduleId:this.$route.query.id,type:this.active,query_key:""}).done(function(e){"success"==e.type&&e.data&&(t.detailArr=e.data)}).error(function(e){a.log("getAgendas-error",e)})},tanClick:function(e,t){this.active=e,this.detailArr=[],this.getSignInDetails()},signReminder:function(e){var t=this;dsf.http.post("fn/conferenceSignIn/signInMessageReminder",{meetingId:this.meetingInfo.id,scheduleId:this.$route.query.id,signInIds:e}).done(function(e){"success"==e.type&&t.$toast.success(e.message)}).error(function(e){a.log(e)})}}},s=(0,n(51900).Z)(t,function(){var n=this,i=n._self._c;return i("div",{staticClass:"signManage"},[i("van-tabs",{on:{click:n.tanClick},model:{value:n.active,callback:function(e){n.active=e},expression:"active"}},n._l(n.tabArr,function(e,t){return i("van-tab",{key:t,attrs:{name:e.type,title:"".concat(e.typeName,"(").concat(e.count,")")}},[i("van-collapse",{class:{oneReminder:"-1"==n.active&&0!=n.detailArr.length},attrs:{accordion:""},model:{value:n.activeNames,callback:function(e){n.activeNames=e},expression:"activeNames"}},n._l(n.detailArr,function(e,t){return i("van-collapse-item",{key:t,attrs:{title:e.unitName,name:t}},[i("ul",{staticClass:"signManage_ul"},n._l(e.users,function(t,e){return i("li",{key:e+"a"},[i("img",{attrs:{src:t.img,alt:"",onerror:n.default_avatar}}),n._v(" "),i("div",{staticClass:"signManage_ul_div"},[i("span",{staticClass:"signManage_ul_name"},[n._v(n._s(t.name))]),n._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.time,expression:"userItem.time"}]},[n._v(n._s(t.time))])]),n._v(" "),i("van-button",{directives:[{name:"show",rawName:"v-show",value:-1==t.singValue,expression:"userItem.singValue==-1"}],attrs:{type:"info"},on:{click:function(e){return n.signReminder(t.id)}}},[n._v("提醒")])],1)}),0)])}),1)],1)}),1),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"-1"==n.active&&0!=n.detailArr.length,expression:"active=='-1'&&detailArr.length!=0"}],staticClass:"oneReminderBtn"},[i("van-button",{attrs:{type:"info"},on:{click:function(e){return n.signReminder("")}}},[n._v("一键提醒")])],1)],1)},[],!1,null,"025f2812",null).exports},11727:function(e,t,n){e.exports=n.p+"static/img/default-avatar.ad3a581..png"}}]);