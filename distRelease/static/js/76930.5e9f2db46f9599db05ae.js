"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[76930],{76930:function(t,a,s){s.r(a),s.d(a,{default:function(){return u}});var a=s(26243),n=s.n(a),a=s(62680),i=s.n(a),a=s(95366),c=s.n(a),a=s(6919),e=s.n(a),o=s(77193),a=s(73473),r=s.n(a),v=s(90541);function l(a,t){var s,e=n()(a);return i()&&(s=i()(a),t&&(s=s.filter(function(t){return c()(a,t).enumerable})),e.push.apply(e,s)),e}function d(a){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach(function(t){(0,o.Z)(a,t,s[t])}):e()?Object.defineProperties(a,e()(s)):l(Object(s)).forEach(function(t){Object.defineProperty(a,t,c()(s,t))})}return a}var a={name:"mine",data:function(){return{userInfo:{userName:"",cardId:"",orgNameLV1:""},default_avatar:'this.src="'+s(37649)+'"',avatar:"",keyword:"",kyactive:0,MonthActions:[],showPopover:!1,tabList:[{name:"项目明细",value:"xm"},{name:"著作",value:"zz"},{name:"论文",value:"lw"}],myteach:{exchangeNumber:0,classCourseAvgScore:0,classCourseNumber:0,scoreFirst:0,teachingGroupDay:0},mycourseeval:[],mykq:[{name:"加班",days:0,bgname:"totaljbcount"},{name:"应出勤",days:0,bgname:"ycqcount"},{name:"出勤",days:0,bgname:"cqcount"},{name:"请假",days:0,bgname:"totalqjcount"},{name:"公假",days:0,bgname:"gjcount"},{name:"事假",days:0,bgname:"sjcount"},{name:"病假",days:0,bgname:"bjcount"},{name:"婚假",days:0,bgname:"hjcount"},{name:"产假",days:0,bgname:"chjcount"},{name:"陪产假",days:0,bgname:"pcjcount"},{name:"丧假",days:0,bgname:"sangjcount"},{name:"工伤假",days:0,bgname:"gsjcount"},{name:"挂职",days:0,bgname:"gzcount"},{name:"借调",days:0,bgname:"jdcount"},{name:"旷工",days:0,bgname:"kgcount"},{name:"工作日加班",days:0,bgname:"jjbcount"},{name:"节假日加班",days:0,bgname:"gjbcount"}],myproject:[],myky:{kysituaion:[],datalist:[]},year:"",month:"",now:""}},activated:function(){this.getUserinfo()},created:function(){this.getUserinfo()},methods:{init:function(){this.getDate(),this.getMyTeach(),this.getMyCourseEval(),this.getMyProject(),this.getKy(),v.Z.layer.closeLoading(void 0)},deviceUnbind:function(){v.Z.layer.confirm({message:"是否退出登录？",confirmButtonText:"确认"},function(){"mobileIM"==navigator.userAgent?window.native&&window.native.unbindTrusfort():v.Z.layer.toast("请在IM中进行操作")})},getDate:function(){var s=this;v.Z.http.get("/ctrl/p2011commoncon/getCurrentTime").then(function(t){var a;t&&t.status&&"success"==t.data.type&&(a=s.dsf.date.format(t.data.data,"yyyy"),(t=s.dsf.date.format(t.data.data,"mm"))-1==0?(s.now="".concat(a-1,"年12月"),s.year=a-1,s.month=12):(s.now="".concat(a,"年").concat(t-1,"月"),s.year=a,s.month=9<t-1?t-1:"0"+(t-1)),s.MonthActions=[{text:s.month-2==0?"".concat(s.year-1,"年").concat(s.month-1==0?12:11,"月"):"".concat(s.year,"年").concat(9<s.month-2?s.month-1:"0"+(s.month-2),"月")},{text:s.month-1==0?"".concat(s.year-1,"年12月"):"".concat(s.year,"年").concat(9<s.month-1?s.month-1:"0"+(s.month-1),"月")},{text:"".concat(s.year,"年").concat(s.month,"月")}],s.getMyKq())}).catch(function(t){})},getUserinfo:function(){var a=this;v.Z.http.post("/ctrl/p2011commoncon/getUserInfo",{}).then(function(t){"success"==t.data.type&&t.data.data&&(a.userInfo.userName=t.data.data.userName,a.userInfo.cardId=t.data.data.cardId,a.userInfo.orgNameLV1=t.data.data.orgNameLV1,t.data)&&t.data.data&&t.data.data.sexText&&"女"==t.data.data.sexText?a.avatar=s(47436):a.avatar=s(37649),a.init(),t.data.cardId&&a.init()}).catch(function(t){a.avatar=s(37649)}).finally(function(){})},getMyTeach:function(){var a=this,t={userkey:a.userInfo.cardId};a.getApiMsg(v.Z.config.login.jwapiOrgin+"web/tcapp/datacenter/getTeacherStatistic",t,"post").then(function(t){t&&t.success&&(a.myteach.exchangeNumber=t.data.exchangeNumber,a.myteach.classCourseAvgScore=t.data.classCourseAvgScore,a.myteach.classCourseNumber=t.data.classCourseNumber,a.myteach.scoreFirst=t.data.scoreFirst,a.myteach.teachingGroupDay=t.data.teachingGroupDay)}).catch(function(t){})},getMyCourseEval:function(){var a=this,t={userkey:a.userInfo.cardId,pageindex:1,pagesize:3};a.getApiMsg(v.Z.config.login.jwapiOrgin+"web/tcapp/datacenter/getMySemesterEvaluatedData",t,"post").then(function(t){t&&t.success&&(a.mycourseeval=t.data)}).catch(function(t){})},getMyKq:function(){var t=this,a={cardid:t.userInfo.cardId,year:Number(t.year),month:Number(t.month)};t.getApiMsg(v.Z.config.login.kqapiOrgin+"api/attendance/getuserattendanceinfo",a,"post").then(function(a){a&&a.success&&t.mykq.forEach(function(t){t.days=a.data[t.bgname]})}).catch(function(t){})},getMyProject:function(){var a=this,t={usernumber:a.userInfo.cardId,pageSize:3,pageNum:1};a.getApiMsg(v.Z.config.login.cxapiOrgin+"api/tree/closing",t,"get").then(function(t){t&&t.success&&(a.myproject=t.data)}).catch(function(t){})},getKy:function(){var a=this,t={userkey:a.userInfo.cardId};a.getApiMsg(v.Z.config.login.kyapiOrgin+"dock/getResultCount",t,"post").then(function(t){t&&t.success&&(a.myky.kysituaion=t.data.data.map(function(t,a){return d(d({},t),{cssname:"bg_"+(4<a?"default":a)})}))}).catch(function(t){}),a.getTabList("xm")},getTabList:function(t){var a=this,t={userkey:a.userInfo.cardId,type:t,pageindex:1,pagesize:3};a.getApiMsg(v.Z.config.login.kyapiOrgin+"dock/getDataList",t,"post").then(function(t){t&&t.success&&(a.myky.datalist=t.data.data&&t.data.data.list?t.data.data.list:[])}).catch(function(t){})},getApiMsg:function(t,a,s){var n=d(d({apiUrl:t},a),{},{postType:s});return new(r())(function(s,e){v.Z.http.get("/ctrl/forward",n).then(function(a){if(a&&"success"==a.data.type)try{var t=JSON.parse(a.data.data);s(t)}catch(t){s(a.data.data)}else e(a.data.data)}).catch(function(t){e(t.data)})})},onSearch:function(){v.Z.layer.toast("功能正在建设中...")},onSelect:function(t){this.now=t.text,this.year=t.text.split("年")[0],this.month=t.text.split("年")[1].split("月")[0],this.getMyKq()},funsetting:function(){v.Z.layer.toast("功能正在建设中...")}}},u=(0,s(51900).Z)(a,function(){var s=this,e=s._self._c;return e("div",{staticClass:"mine"},[e("div",{staticClass:"bg"}),s._v(" "),e("div",{staticClass:"user-msg flex"},[e("img",{staticClass:"photo",attrs:{src:s.avatar,onerror:s.default_avatar,alt:""}}),s._v(" "),e("div",{staticClass:"msg"},[e("div",{staticClass:"name-zw flex"},[e("span",[s._v(s._s(s.userInfo.userName))]),s._v(" "),s.userInfo.cardId?e("span",{staticClass:"zgcode"},[s._v("职工代码:"+s._s(s.userInfo.cardId))]):s._e()]),s._v(" "),e("div",{staticClass:"dept"},[s._v(s._s(s.userInfo.orgNameLV1))])]),s._v(" "),e("span",{staticClass:"deviceUnbind",on:{click:s.deviceUnbind}},[s._v("退出登录")])]),s._v(" "),e("div",{staticClass:"main-cont"},[e("div",{staticClass:"table flex"},[e("div",{staticClass:"item gr",on:{click:s.funsetting}},[e("img",{attrs:{src:"static/images/zydx/table1.png",alt:""}}),s._v(" "),e("p",[s._v("个人信息填报")])]),s._v(" "),e("div",{staticClass:"item jxkh",on:{click:s.funsetting}},[e("img",{attrs:{src:"static/images/zydx/table2.png",alt:""}}),s._v(" "),e("p",[s._v("绩效考核登记表")])]),s._v(" "),e("div",{staticClass:"item ndkh",on:{click:s.funsetting}},[e("img",{attrs:{src:"static/images/zydx/table3.png",alt:""}}),s._v(" "),e("p",[s._v("年度考核登记表")])])]),s._v(" "),e("div",{staticClass:"myannual-summary"},[s._m(0),s._v(" "),e("div",{staticClass:"summary-card flex"},[e("div",{staticClass:"item",on:{click:s.funsetting}},[e("p",[s._v("2022年度总结")]),s._v(" "),e("span",[s._v("点击查看")])]),s._v(" "),e("div",{staticClass:"item",on:{click:s.funsetting}},[e("p",[s._v("2021年度总结")]),s._v(" "),e("span",[s._v("点击查看")])]),s._v(" "),e("div",{staticClass:"item",on:{click:s.funsetting}},[e("p",[s._v("2020年度总结")]),s._v(" "),e("span",[s._v("点击查看")])])])]),s._v(" "),e("div",{staticClass:"myproject"},[e("div",{staticClass:"tit flex"},[e("span",[s._v("我的创新工程")]),s._v(" "),e("van-icon",{attrs:{name:"arrow"},on:{click:s.funsetting}})],1),s._v(" "),e("div",{staticClass:"list"},[s.myproject.length?s._e():e("commonempty"),s._v(" "),s._l(s.myproject,function(t,a){return e("div",{key:a,staticClass:"item"},[e("div",{staticClass:"msg"},[e("p",[s._v(s._s(t.project_name))]),s._v(" "),e("ul",[e("li",[e("img",{attrs:{src:"static/images/zydx/lb.png",alt:""}}),s._v("\n                "+s._s(t.type_text)+"\n              ")]),s._v(" "),e("li",[e("img",{attrs:{src:"static/images/zydx/jx.png",alt:""}}),s._v("\n                "+s._s(t.zt)+"\n              ")])])]),s._v(" "),e("label",{class:"合格"==t.bmjydc_text?"hg":"不合格"==t.bmjydc_text?"bhg":"yx"},[s._v(s._s(t.bmjydc_text))])])})],2)]),s._v(" "),e("div",{staticClass:"myky"},[s._m(1),s._v(" "),e("div",{staticClass:"ky-card flex"},[e("ul",{staticClass:"flex"},s._l(s.myky.kysituaion,function(t,a){return e("li",{key:a,class:t.cssname},[e("p",[s._v(s._s(t.count))]),s._v(" "),e("div",[s._v(s._s(t.publishgrade))])])}),0)]),s._v(" "),e("div",{staticClass:"tabs flex"},[e("van-tabs",{ref:"vTabs",attrs:{ellipsis:!1,"line-width":s.tabList[s.kyactive].name.length+.5+"em"},on:{change:function(t){return s.getTabList(s.tabList[s.kyactive].value)}},model:{value:s.kyactive,callback:function(t){s.kyactive=t},expression:"kyactive"}},[e("van-tab",{attrs:{"title-style":{textAlign:"left"},title:"项目明细"}}),s._v(" "),e("van-tab",{attrs:{"title-style":{textAlign:"left"},title:"著作"}}),s._v(" "),e("van-tab",{attrs:{"title-style":{textAlign:"left"},title:"论文"}})],1),s._v(" "),e("van-icon",{attrs:{name:"arrow"},on:{click:s.funsetting}})],1),s._v(" "),e("div",{staticClass:"ky-list"},[s.myky.datalist.length?s._e():e("commonempty"),s._v(" "),s._l(s.myky.datalist,function(t,a){return e("div",{key:a,staticClass:"item flex"},[e("div",{staticClass:"year"},[s._v(s._s(t.year))]),s._v(" "),e("div",{staticClass:"ky-msg"},[e("p",[s._v(s._s(t.itemname))]),s._v(" "),e("ul",{staticClass:"flex"},[e("li",[e("img",{attrs:{src:"static/images/zydx/lb.png",alt:""}}),s._v("\n                "+s._s(t.type)+"\n              ")]),s._v(" "),t.number?e("li",[e("img",{attrs:{src:"static/images/zydx/ys.png",alt:""}}),s._v("\n                "+s._s(t.number)+"万\n              ")]):s._e()])])])})],2)]),s._v(" "),e("div",{staticClass:"myteach"},[s._m(2),s._v(" "),e("van-row",{attrs:{gutter:"10"}},[e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box bg1"},[e("p",[s._v(s._s(s.myteach.classCourseNumber))]),s._v(" "),e("div",[s._v("主体班课程总课次")])])]),s._v(" "),e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box bg2"},[e("p",[s._v(s._s(s.myteach.classCourseAvgScore))]),s._v(" "),e("div",[s._v("主体班课程平均分")])])]),s._v(" "),e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box bg3"},[e("p",[s._v(s._s(s.myteach.scoreFirst))]),s._v(" "),e("div",[s._v("教学评估第一的课程数")])])]),s._v(" "),e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box bg4"},[e("p",[s._v(s._s(s.myteach.teachingGroupDay))]),s._v(" "),e("div",[s._v("承担教学组（下班组）工作天数")])])]),s._v(" "),e("van-col",{attrs:{span:"24"}},[e("div",{staticClass:"box bg5"},[e("p",[s._v(s._s(s.myteach.exchangeNumber))]),s._v(" "),e("div",[s._v("承担双向交流、小组交流、论文指导课次数")])])])],1)],1),s._v(" "),e("div",{staticClass:"mycourseeval"},[e("div",{staticClass:"tit flex"},[e("span",[s._v("我的学期课程总评")]),s._v(" "),e("van-icon",{attrs:{name:"arrow"},on:{click:s.funsetting}})],1),s._v(" "),e("div",{staticClass:"eval-list"},[s.mycourseeval.length?s._e():e("commonempty"),s._v(" "),s._l(s.mycourseeval,function(t,a){return e("div",{key:a,staticClass:"item flex"},[e("div",{staticClass:"lf"},[e("p",[s._v(s._s(t.kcname))]),s._v(" "),e("div",{staticClass:"unit"},[e("img",{attrs:{src:"static/images/zydx/bjicon.png"}}),s._v(" "),e("span",[s._v(s._s(t.bcmc))])]),s._v(" "),e("div",{staticClass:"date"},[e("img",{attrs:{src:"static/images/zydx/date.png"}}),s._v(" "),e("span",[s._v(s._s(t.sksj_sdate))])])]),s._v(" "),t.target_total_score?e("div",{staticClass:"score"},[s._v(s._s(t.target_total_score)+"分")]):s._e()])})],2)]),s._v(" "),e("div",{staticClass:"mykq"},[e("div",{staticClass:"tit flex"},[e("span",[s._v("我的考勤")]),s._v(" "),e("div",{staticClass:"dp-menu"},[e("van-popover",{attrs:{actions:s.MonthActions,trigger:"click"},on:{select:s.onSelect},scopedSlots:s._u([{key:"reference",fn:function(){return[e("div",{staticClass:"date"},[e("span",[s._v(s._s(s.now))]),e("i",{staticClass:"iconfont icontriangle-left"})])]},proxy:!0}]),model:{value:s.showPopover,callback:function(t){s.showPopover=t},expression:"showPopover"}})],1)]),s._v(" "),e("van-row",{attrs:{gutter:"10"}},s._l(s.mykq,function(t,a){return e("van-col",{key:a,attrs:{span:"8"}},[e("div",{class:["box",t.bgname]},[e("p",[s._v(s._s(t.days))]),s._v(" "),e("div",[s._v(s._s(t.name))])])])}),1)],1),s._v(" "),s._m(3),s._v(" "),e("div",{staticClass:"mysalary"},[s._m(4),s._v(" "),e("van-row",{attrs:{gutter:"10"}},[e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box salary",on:{click:s.funsetting}},[e("p",[s._v("工资明细")]),s._v(" "),e("div",[s._v("查看")])])]),s._v(" "),e("van-col",{attrs:{span:"12"}},[e("div",{staticClass:"box partyfee",on:{click:s.funsetting}},[e("p",[s._v("应缴党费")]),s._v(" "),e("div",[s._v("查看")])])])],1)],1)])])},[function(){var t=this._self._c;return t("div",{staticClass:"tit"},[t("span",[this._v("我的年度总结")])])},function(){var t=this._self._c;return t("div",{staticClass:"tit flex"},[t("span",[this._v("我的科研情况")])])},function(){var t=this._self._c;return t("div",{staticClass:"tit flex"},[t("span",[this._v("我的教学情况")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"myexpense"},[a("div",{staticClass:"tit flex"},[a("span",[t._v("我的报销")])]),t._v(" "),a("ul",[a("li",{staticClass:"flex"},[a("div",[a("img",{attrs:{src:"static/images/zydx/ybx.png"}}),t._v("已报销"),a("span",[t._v("0")]),t._v("笔\n          ")]),t._v(" "),a("span",[t._v("¥ 0.00")])]),t._v(" "),a("li",{staticClass:"flex"},[a("div",[a("img",{attrs:{src:"static/images/zydx/wbx.png"}}),t._v("未报销 "),a("span",[t._v("0")]),t._v("笔\n          ")]),t._v(" "),a("span",[t._v("¥ 0.00")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"tit flex"},[t("span",[this._v("我的薪资")])])}],!1,null,"73e467d7",null).exports},37649:function(t,a,s){t.exports=s.p+"static/img/default-avatar-boy.b99a6fd..png"},47436:function(t,a,s){t.exports=s.p+"static/img/default-avatar-girl.4d6f9bd..png"}}]);