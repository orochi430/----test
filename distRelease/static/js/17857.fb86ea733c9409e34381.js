(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[17857],{66831:function(t,n,e){"use strict";e.r(n);var c=e(522),a=e(66250),o=e(13682),r=e(33453),l=e.n(r),r=e(66411),u=e.n(r),r=e(68522),i=e.n(r),r=e(18281),s=e.n(r),r=e(43562),m=e.n(r),r=e(8450),f=e.n(r),r=e(73473),d=e.n(r),v=e(90541),p=(e(88561),e(95572)),g=e(25108),r={},h=0;function S(t,n,e,o){v.Z.http.post("fn/inspectiontime/project/moduleList",{xmid:t,date:n}).then(function(t){t=t.data;"200"==t.code&&o.set(e,JSON.parse(f()(t.data).replace(/yfModuleName/g,"text").replace(/id/g,"value")))})}r.handle=function(t,n){},r.formHandle={get:function(t,n,e){return g.log("get",n),"object"===(0,o.Z)(t[n])&&null!==t[n]?new Proxy(t[n],handler):u()(t,n,e)},set:function(t,n,e,o){return g.log("set",n,e),i()(t,n,e,o)}},r.initHandle=function(){var o=(0,a.Z)(l().mark(function t(e,u,i){var f;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f=new(s()),t.next=3,v.Z.http.get("fn/inspectiontime/userType/get").then(function(t){t=t.data;g.log(u),"200"==t.code&&"1"!=t.data&&(g.log("1"),u.subform["2101141737471Goq5SfARFYBEtRtcSU"].controls.filter(function(t){return"C-GS-013"==t.metaId})[0].privilege.visible=!1,g.log(u))});case 3:e.main["C-GSZB-001"].value||(g.log(p.Z.format(new Date,"yyyy-m-d")),e.main["C-GSZB-001"].value=p.Z.format(new Date,"yyyy-m-d")),e.multinfos["2101141737471Goq5SfARFYBEtRtcSU"].rows.forEach(function(t,n){t["C-GS-011"].value&&S(t["C-GS-011"].value,e.main["C-GSZB-001"].value,n,f)}),i.$bus.on("inpBus",function(o){if("C-GS-008"==o.metaData.metaId){for(var a,n=0,r=m()(u.subform);n<r.length;n++)!function(){var t=(0,c.Z)(r[n],2),e=t[0];t[1].controls.forEach(function(t,n){t.controlId==o.metaData.controlId&&(a=e)})}();var e=0;i.formData.multinfos[a].rows.forEach(function(t){e+=Number(t["C-GS-008"].value)}),h=e,i.$set(i.formData.main["C-GSZB-003"],"value",h)}}),i.$bus.on("selectUserBus",function(o){if("C-GS-011"==o.metaData.metaId){g.log("--------------",o,e,u,i);for(var a,n=0,r=m()(u.subform);n<r.length;n++)!function(){var t=(0,c.Z)(r[n],2),e=t[0];t[1].controls.forEach(function(t,n){t.controlId==o.metaData.controlId&&(a=e),"C-GS-013"==t.metaId&&0})}();e.multinfos[a].rows[o.subFormIndex]["C-GS-013"]={value:""},S(o.value,e.main["C-GSZB-001"].value,o.subFormIndex,f)}}),i.$bus.on("showCheckBox",function(t){g.log(t),t.controlData.columnsValue.columns=f.get(t.subFormIndex),t.currentColumns=f.get(t.subFormIndex)});case 8:case"end":return t.stop()}},t)}));return function(t,n,e){return o.apply(this,arguments)}}(),r.saveFilter=function(t,n,e,o){return new(d())(function(n,e){v.Z.http.post("fn/time/checkFillGs",{begin:t.main["C-GSZB-001"].value,end:t.main["C-GSZB-002"].value}).then(function(t){t=t.data;("200"==t.code?24<h?(v.Z.layer.toast("当天合计工时不能超过24小时"),e):n:(v.Z.layer.toast(t.message),e))()})})},n.default=r},3896:function(t,n,e){e(94058),e(91867),e(73871),e(54138),e(82834),e(605),e(85828),t.exports=e(34579).Map},99137:function(t,n,e){e(26917),t.exports=e(34579).Reflect.get},28812:function(t,n,e){e(64894),t.exports=e(34579).Reflect.set},54138:function(t,n,e){"use strict";var o=e(56175),a=e(20765);t.exports=e(32269)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){t=o.getEntry(a(this,"Map"),t);return t&&t.v},set:function(t,n){return o.def(a(this,"Map"),0===t?0:t,n)}},o,!0)},26917:function(t,n,e){var r=e(76183),u=e(95089),i=e(27069),o=e(83856),f=e(36727),c=e(12159);o(o.S,"Reflect",{get:function t(n,e){var o,a=arguments.length<3?n:arguments[2];return c(n)===a?n[e]:(o=r.f(n,e))?i(o,"value")?o.value:void 0!==o.get?o.get.call(a):void 0:f(o=u(n))?t(o,e,a):void 0}})},64894:function(t,n,e){var i=e(4743),f=e(76183),c=e(95089),l=e(27069),o=e(83856),s=e(83101),m=e(12159),d=e(36727);o(o.S,"Reflect",{set:function t(n,e,o){var a,r=arguments.length<4?n:arguments[3],u=f.f(m(n),e);if(!u){if(d(a=c(n)))return t(a,e,o,r);u=s(0)}if(l(u,"value")){if(!1===u.writable||!d(r))return!1;if(a=f.f(r,e)){if(a.get||a.set||!1===a.writable)return!1;a.value=o,i.f(r,e,a)}else i.f(r,e,s(0,o));return!0}return void 0!==u.set&&(u.set.call(r,o),!0)}})},85828:function(t,n,e){e(6237)("Map")},605:function(t,n,e){e(46730)("Map")},82834:function(t,n,e){var o=e(83856);o(o.P+o.R,"Map",{toJSON:e(61718)("Map")})},18281:function(t,n,e){t.exports=e(3896)},66411:function(t,n,e){t.exports=e(99137)},68522:function(t,n,e){t.exports=e(28812)}}]);