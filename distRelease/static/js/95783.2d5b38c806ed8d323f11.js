"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[95783,89913],{21864:function(t,e,i){i.d(e,{Z:function(){return n}});var e={props:{fabItems:{type:Array,default:function(){return[]}},titleKey:{type:String,default:"title"}},data:function(){return{showFab:!1}},directives:{clickOutside:{bind:function(e,i,t){function n(t,e){return!t.el.contains(e.target)&&!e.target.dataset.outside&&(t.binding&&t.binding.value&&"function"==typeof t.binding.value?t.binding.value():void 0)}e.__clickOutside__=n,document.addEventListener("click",function(t){return n({el:e,binding:i},t)}),document.addEventListener("touchend",function(t){return n({el:e,binding:i},t)})},unbind:function(t){document.removeEventListener("click",t.__clickOutside__)}}},methods:{clickOutside:function(){this.showFab=!1},clickMain:function(){1==this.fabItems.length?this.clickItem(this.fabItems[0]):this.showFab=!this.showFab},clickItem:function(t){"go"==t.type?t.url?this.$router.push({path:t.url}):dsf.layer.toast("未传入跳转地址"):this.$emit("clickItem",t)}}},n=(0,i(51900).Z)(e,function(){var i=this,n=i._self._c;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:i.clickOutside,expression:"clickOutside"}],staticClass:"fab-container"},[0<i.fabItems.length?n("div",{staticClass:"main-btn",on:{click:i.clickMain}},[1<i.fabItems.length?n("transition",{attrs:{name:"change",mode:"out-in"}},[i.showFab?n("div",{key:"open"},[n("van-icon",{attrs:{name:"cross"}})],1):n("div",{key:"close"},[n("van-icon",{attrs:{name:"ellipsis"}})],1)]):n("i",{staticClass:"iconfont",class:i.fabItems[0].icon||"iconjiahao",staticStyle:{"font-size":"var(--font_size_0)","font-weight":"bold"}})],1):i._e(),i._v(" "),1<i.fabItems.length?n("transition",{attrs:{name:"fade"}},[i.showFab?n("div",{staticClass:"fab-btns",on:{click:function(t){i.showFab=!i.showFab}}},i._l(i.fabItems,function(e,t){return n("div",{key:t,staticClass:"dsf-fab-item",on:{click:function(t){return i.clickItem(e)}}},[e.icon?n("i",{staticClass:"iconfont",class:e.icon}):i._e(),i._v(" "),n("span",[i._v(i._s(e[i.titleKey]))])])}),0):i._e()]):i._e()],1)},[],!1,null,"75ba6501",null).exports},16489:function(t,e,i){i.d(e,{Z:function(){return a}});var e=i(8450),n=i.n(e),s=i(25108),e={props:{keyword:{type:String,default:""},initOrgId:{type:String,default:""},isShowCount:{type:Boolean,default:!0},url:{type:String,default:""}},data:function(){return{userList:[],allData:{}}},created:function(){this.userInfo=dsf.util.loadSessionStore("user"),this.init()},methods:{toDetail:function(t){this.$router.push({name:"mailDetail",params:t})},init:function(){this.crumbsList=[];var t=this.initOrgId&&this.userInfo?{orgId:this.userInfo[this.initOrgId]}:{};dsf.http.post(this.url,t).then(function(t){})},toNext:function(e){var i=this;e.hasChildren&&(this.$toast.loading({}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.timeout=null,dsf.http.post(i.url,{orgId:e.id,keyword:i.keyword}).then(function(t){t=t.data.data;i.organization=t.depts,i.userList=t.users,i.breadList.push(e)}),i.changeCrumbs(e),i.$toast.clear()},500))},deepCopy:function(t){return JSON.parse(n()(t))},changeCrumbs:function(t){t=this.deepCopy(t);this.crumbsList.push(t),s.log(this.crumbsList)}},filters:{filterName:function(t){return t.slice(0,1)},userAvatar:function(t){return t.slice(0,1)}}},a=(0,i(51900).Z)(e,function(){var i=this,n=i._self._c;return n("div",{staticClass:"organization fc pt10"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0<i.userList.length,expression:"userList.length>0"}],staticClass:"organizationPerson flex1"},i._l(i.userList,function(e,t){return n("div",{key:t,staticClass:"personInfo disfr ac",on:{click:function(t){return i.toDetail(e)}}},[e.photoSrc?n("img",{staticClass:"userImg",attrs:{src:e.photoSrc}}):n("div",{staticClass:"userImg"},[i._v(i._s(i._f("filterName")(e.userName)))]),i._v(" "),n("div",{staticClass:"itemContent fc jsb"},[n("span",{staticClass:"personName"},[i._v(i._s(e.userName))]),i._v(" "),n("span",{staticClass:"personNum"},[i._v(i._s(e.mobile))])])])}),0)])},[],!1,null,"0c06aa64",null).exports},52435:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var e=i(26243),s=i.n(e),e=i(62680),a=i.n(e),e=i(95366),r=i.n(e),e=i(6919),n=i.n(e),o=i(77193),e=i(73473),c=i.n(e),e=i(20629),u=i(15009),l=i(76039),f=i(16489),d=i(25108);function h(e,t){var i,n=s()(e);return a()&&(i=a()(e),t&&(i=i.filter(function(t){return r()(e,t).enumerable})),n.push.apply(n,i)),n}var u={data:function(){return{activeName:"",value:"",timer:"",currentRef:null,offsetTopTab:0}},components:{indexList:u.default,organization:l.default,commonUse:f.Z},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach(function(t){(0,o.Z)(e,t,i[t])}):n()?Object.defineProperties(e,n()(i)):h(Object(i)).forEach(function(t){Object.defineProperty(e,t,r()(i,t))})}return e}({tabList:function(){return dsf.config.addressList.tabs||[]}},(0,e.rn)({isShowAppFooter:function(t){return t.isShowAppFooter},isShowAppHeader:function(t){return t.isShowAppHeader}})),activated:function(){var t=this;this.$nextTick(function(){t.currentRef.addPopstate()})},created:function(){var t=this;this.activeName=this.tabList[0].type,this.$nextTick(function(){1<t.tabList.length?t.currentRef=t.$refs[t.activeName][0]:t.currentRef=t.$refs[t.activeName],t.currentRef.addPopstate()})},mounted:function(){var e=this;this.$nextTick(function(){var t=$(".van-search").outerHeight()+5;e.offsetTopTab=dsf.util.getOffsetTop(t)})},methods:{searchUser:function(){d.log(this.value,this.active),"indexList"==this.activeName&&(1<this.tabList.length?this.$refs.indexList[0]:this.$refs.indexList).search(this.value)},clearPopstate:function(t){return d.log(this.activeName,"->",t),this.currentRef.removePopstate(),new(c())(function(t){t(!0)})},resetPopstate:function(t,e){var i=this;d.log("resetPopstate",t,e),this.$nextTick(function(){1<i.tabList.length?(i.$refs[t][0].addPopstate(),i.currentRef=i.$refs[t][0]):(i.$refs[t].addPopstate(),i.currentRef=i.$refs[t])})}},deactivated:function(){this.currentRef.removePopstate(!0)}},p=(0,i(51900).Z)(u,function(){var i=this,n=i._self._c;return n("div",{staticClass:"mailList"},[n("van-sticky",[n("van-search",{style:{paddingTop:i.dsf.util.getOffsetTop("0.2rem",!0)},attrs:{placeholder:"搜索",sticky:"",clearable:!1},on:{search:i.searchUser},scopedSlots:i._u([{key:"left-icon",fn:function(){return[n("i",{staticClass:"iconfont iconsousuo1",staticStyle:{color:"#fff"}})]},proxy:!0},i.value?{key:"right-icon",fn:function(){return[n("span",{on:{click:function(t){i.value="",i.searchUser()}}},[i._v("取消")])]},proxy:!0}:null],null,!0),model:{value:i.value,callback:function(t){i.value=t},expression:"value"}})],1),i._v(" "),1<i.tabList.length?n("van-tabs",{attrs:{sticky:"","offset-top":i.offsetTopTab,"before-change":i.clearPopstate},on:{change:i.resetPopstate},model:{value:i.activeName,callback:function(t){i.activeName=t},expression:"activeName"}},i._l(i.tabList,function(t,e){return n("van-tab",{key:e,attrs:{title:t.tabName,name:t.type}},["indexList"==t.type?n("indexList",{ref:t.type,refInFor:!0,attrs:{ref:"indexList",keyword:i.value,url:t.url,searchUrl:t.searchUrl,itemtab:t}}):i._e(),i._v(" "),"dept"==t.type?n("organization",{ref:t.type,refInFor:!0,attrs:{itemtab:t,keyword:i.value,initOrgId:t.params.orgId,isShowCount:t.isShowCount,searchUrl:t.searchUrl,url:t.url}}):i._e(),i._v(" "),"commonUse"==t.type?n("commonUse",{ref:t.type,refInFor:!0,attrs:{itemtab:t,keyword:i.value,initOrgId:t.params.orgId,url:t.url}}):i._e()],1)}),1):["indexList"==i.tabList[0].type?n("indexList",{ref:i.tabList[0].type,attrs:{keyword:i.value,url:i.tabList[0].url,searchUrl:i.tabList[0].searchUrl}}):i._e(),i._v(" "),"dept"==i.tabList[0].type?n("organization",{ref:i.tabList[0].type,attrs:{keyword:i.value,initOrgId:i.tabList[0].params.orgId,isShowCount:i.tabList[0].isShowCount,searchUrl:i.tabList[0].searchUrl,url:i.tabList[0].url}}):i._e()]],2)},[],!1,null,"2d0bbfe3",null).exports}}]);