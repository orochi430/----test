"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[99851],{99851:function(W,e,t){t.r(e),t.d(e,{default:function(){return U}});var e=t(62680),i=t.n(e),e=t(95366),a=t.n(e),e=t(6919),o=t.n(e),n=t(522),s=t(66250),l=t(5044),r=t(77193),e=t(33453),c=t.n(e),e=t(18428),d=t.n(e),e=t(26243),u=t.n(e),e=t(8450),h=t.n(e),e=t(20629),m=t(69823),p=t(21864),f=t(39946),w=t(2728),g=t(9303),T=t(46385),y=t(63450),k=t(1696),b=t(56459),C=t(96345),I=t(38496),S=t(91369),v=t(30819),x=t(10221),E=t(13361),F=t(88561),P=t(53076),q=t(56166),V=t(74309),N=t(8449),A=t(18433),Z=t(11728),M=t(8250),O=t(50856),H=t(40954),D=t(25108);function j(t,e){var n,o=u()(t);return i()&&(n=i()(t),e&&(n=n.filter(function(e){return a()(t,e).enumerable})),o.push.apply(o,n)),o}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(e){(0,r.Z)(t,e,n[e])}):o()?Object.defineProperties(t,o()(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,a()(n,e))})}return t}var B,L,_,A={props:["params","tabsPage","clickTabIndex","routeKey","filterData","oppsetTop","ifshowSubtitle","mainKeyWord","currentTabs","checkTypePop","checkable","checkIds","noLoadJs","fideFilterIcon"],name:"DefaultList",components:R(R({chooseFolder:A.Z,DsfListTable:m.Z,RemindDialog:P.Z,dsfFab:p.Z,DsList:f.Z,SeparateRead:T.default,controlUserList:y.default,sendFile:C.Z,signFile:I.default,signFilePerson:S.default,workFlowDialog:v.Z,testChatUserDialog:x.Z,checkBoxDialog:E.Z,MeetingDialog:q.Z},k.Z),{},{rejectDialog:Z.Z,DsfButtonToolbox:O.Z,commonDialog:H.default}),mixins:[g.Z],data:function(){return{showChatUser:!1,data:[],columns:[],total:0,keyword:"",finished:!1,loading:!1,isLoading:!1,finishedTips:"",start:1,listButtons:{},listMainButtons:{},mobileStyle:"",showFyyj:!1,show:!1,searchValue:"",dateShow:!1,nowDate:new Date,startDate:"",endDate:"",keyColumn:"",listId:"",moduleId:"",fabActions:[{name:"nigao",icon:"assignment"}],searchNum:null,startNum:null,endNum:null,selectSearch:[],selectColumns:[],showPicker:!1,showPerson:!1,personSelectData:[],searchControl:null,controlData:[],paramsData:{},paramsurl:"",fileType:"",showCheck:!!this.checkable,checkType:"checkBox",checkList:[],showAddForm:!1,showGuanli:!1,showshuwen:!1,fawenParam:{listId:"200825111437UUosjRPYHA9Y3gLB2oY",moduleId:"200728141526dyUYy0i2t8NwtcrPa4M"},shouwenParam:{listId:"200825111607SNIrEIcrGIIaWU3NXTp",moduleId:"200728141559booPpy5mtXNKXGWy1ya"},commonPop:!1,commonPopParam:{},stickyContainer:null,isTransfer:!1,extra:{},showSubTitle:!1,docTitle:"",isFirst:1,showFlowSend:!1,selected:{},showFlowBack:!1,tab:"gw",isShowSearchBox:!1,relaMode:1,transferType:"",distribIds:"",linkTo:null,showTable:null,showDefault:null,specialJS:V.default,spHandleJS:null,oaScoket:{},currentBtn:null,showChooseFolder:!1,chooseItem:null,confirmCheckFuc:null,dsfBtnAction:"",isSearch:!1,resultContent:"",isAsync:dsf.config.commonForm.isSelectProcessAsync,chatJS:M.Z,listInterface:"",listInferenceParams:{},listJsonData:null,selectType:"0",actionType:1,showActionTypeDialog:!1,showSetting:!1,showTips:!1,showAllSearch:!1,componentName:""}},watch:{"params.params.fileType":{handler:function(e,t){e!=t&&(this.init(),this.onRefresh())}},"params.params.showSearch":{handler:function(e){this.show=e},immediate:!0},filterData:{deep:!0,handler:function(e){d()(this.listInferenceParams,e),this.onRefresh()}},mainKeyWord:function(e,t){this.keyword=e,this.onRefresh()},clickTabIndex:function(e){e==this.currentTabs&&(this.checkList=[],this.onRefresh())},"params.fileRelaId":function(e,t){0!=e&&this.onRefresh()}},created:function(){var n=this,e=(this.$route.query.keyword&&(this.keyword=this.$route.query.keyword),this.mainKeyWord&&(this.keyword=this.mainKeyWord),this.listId||this.$route.params.listId||this.$route.query.fileType||this.params.listId||(null==(e=this.params)||null==(e=e.params)?void 0:e.fileType));this.noLoadJs||this.specialJS.init(e,function(){var e,t;n.spHandleJS=dsf.util.deepCopy(n.specialJS.spHandleJS),null!=(e=n.spHandleJS)&&null!=(t=e.init)&&t.call(e,n)}),null==this.isAsync&&(this.isAsync=!1,D.log("当前节点为同步"))},deactivated:function(){var t=this;["commonForm","commontabs","jiangsuyancaoNewsDetail","FeedBack","supervise","RejectedSign","InspectorCondition","superviseAccept","superviseIdea","announcementStatus","TabCommonForm","addTask","filePreview"].some(function(e){return e==t.$route.name})||(this.$deleteCache(this),this.$eventBus.Off(this,"refresh"))},mounted:function(){var e,t=this,n=this;this.$eventBus.onRefresh(this,function(){t.onRefresh()}),this.stickyContainer=this.$refs.container,(!this.$route.meta.keepAlive||"commontabs"==this.$router.history.current.name||this.params||this.$route.query.LMTYPE||this.keyword)&&this.init(),1!=this.$route.query.openSocket&&1!=(null==(e=this.params)||null==(e=e.params)?void 0:e.openSocket)||(N.Z.close(),this.oaScoket=N.Z.getInstance(this),this.oaScoket.onReceivedTodo(F.Z.loadSessionStore("user").user_id,function(e){n.onRefresh()})),this.justShowCard&&(this.loading=!0,this.onLoad()),dsf.util.loadLocalStore("actionType")?this.actionType=dsf.util.loadLocalStore("actionType"):(dsf.util.saveToLocalStore("actionType","1"),this.actionType="1"),this.$route.query.fileType&&"gw"==this.$route.query.fileType&&dsf.config.commonForm.showFormSetting&&(this.showSetting=!0)},activated:function(){this.$route.meta.keepAlive&&(this.params||this.setTitle(),this.init())},methods:{goBack:function(){this.$emit("cancelCheck")},showActionSelect:function(){this.showActionTypeDialog=!0},setActionType:function(){D.log(this.actionType),this.showActionTypeDialog=!1,dsf.util.saveToLocalStore("actionType",this.actionType)},commonPopChoose:function(e){this.spHandleJS.choose?this.spHandleJS.choose(e,this):dsf.layer.toast("当前列表未定义接收函数！")},getContainer:function(){return document.body},handleFlowSendChange:function(){this.showFlowSend=!1,this.onRefresh()},handleFlowBackChange:function(){this.showFlowBack=!1,this.onRefresh()},closeSendFile:function(){this.showFlowSend=!1},setTitle:function(){w.Z.setTitle(this.docTitle)},init:function(){var e,t=this;this.$route.query&&this.$route.query.listType&&(this.docTitle=document.title=this.$route.query.listType),(this.ifshowSubtitle||this.$route.query.ifshowSubtitle)&&(this.showSubTitle=!0),this.listId=(null==(e=this.params)?void 0:e.listId)||this.$route.params.listId,this.moduleId=(null==(e=this.params)?void 0:e.moduleId)||this.$route.params.moduleId,(this.$route.query.fileType||null!=(e=this.params)&&null!=(e=e.params)&&e.fileType)&&(this.fileType=this.$route.query.fileType||(null==(e=this.params)||null==(e=e.params)?void 0:e.fileType),e=[].concat((0,l.Z)(dsf.config.listJson),(0,l.Z)(b.Z)),this.listJsonData=e.filter(function(e){return e.fileType==t.fileType})[0],null!=(e=this.listJsonData))&&e.linkTo&&(this.linkTo=this.listJsonData.linkTo),this.getListInference(),this.getListInferenceParams()},getListInferenceParams:function(){var e,t=this;["moduleIds","excludeModuleIds","sourceId"].forEach(function(e){t.$route.query[e]&&(t.listInferenceParams[e]=t.$route.query[e])}),this.$route.query.secQuery&&(e=JSON.parse(this.$route.query.secQuery),d()(this.listInferenceParams,e)),this.filterData&&d()(this.listInferenceParams,this.filterData),this.params&&this.params.params&&d()(this.listInferenceParams,this.params.params),this.fileType&&d()(this.listInferenceParams,this.listJsonData.params),0!==u()(this.listInferenceParams).length&&(this.listInferenceParams=JSON.parse(F.Z.getReplaceUrl(h()(this.listInferenceParams))||{}))},getListInference:function(){var e;this.fileType?this.listInterface=F.Z.getReplaceUrl(this.listJsonData.url):null!=(e=this.params)&&e.fileRelaId?this.listInterface="fn/filerelation/select/mobileData?moduleId=".concat(this.params.moduleId,"&infoId=").concat(this.params.infoId,"&fileRelaId=").concat(this.params.fileRelaId):(this.listInterface="fn/list/".concat(this.listId,"/mobile/q?moduleId=").concat(this.moduleId),this.$route.query.LMTYPE&&(this.listInterface+="&LMTYPE="+this.$route.query.LMTYPE,this.listInterface+="&listId="+this.listId))},onSearch:(B=function(){this.onRefresh()},L=500,function(){var e=this,t=arguments;_=_||setTimeout(function(){_=null,B.apply(e,t)},L)}),goForm:function(e){var t;"commonList"==this.$route.name||"commonForm"==this.$route.name||"commonListWrap"==this.$route.name||"commontabs"==this.$route.name&&this.moduleId?(t=this.moduleId,e.parameters&&e.parameters.find(function(e){return"mids"==e.key&&e.value})&&(t=e.parameters.find(function(e){return"mids"==e.key}).value),this.$router.push({path:"/commonForm/"+t})):this.$router.push({path:"/TabCommonForm/"+this.routeKey+"/"+this.clickTabIndex+"/"+(this.tabsPage?this.params.params:this).moduleId})},createRow:function(e){this.goForm(e)},fetchData:function(){var o=this;return(0,s.Z)(c().mark(function e(){var t,n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=o.listInterface,n=R(R({limit:15,_content:o.keyword,key:o.keyword,page:o.start},o.listInferenceParams),o.paramsData),o.isFirst&&(n.isFirst="1"),-1<t.indexOf("fn/list")||(n.start=o.start),o.$store.commit("setSearchParam",n),o.data=[{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230921154953758fCaKjN82xtljvsgU",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"09-21 15:49",mjText:"",isCb:"-1",id:"230921154953791bE05l4sAh3V3hyik",mj:"0",itemsContent:"0921测试",bjrq:null,pnid:"230921154953791bE05l4sAh3V3hyik",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-21 15:49",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"邓超 (拟办)",info_id:"230921154756MzVaEDl4iKM2Y6Cfaj8",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"230921154953758fCaKjN82xtljvsgU_230921154953791bE05l4sAh3V3hyik",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"09-21 15:49",allowEditOpinion:0,bt:"0921测试",dataIndex:0,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:1,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"230921154953758fCaKjN82xtljvsgU",time:"2023-09-21 15:49",pnid:"230921154953GJTDmTB8yeu8z9326qL"},time:"2023-09-21 15:49",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"2308311436291841EdaSiwGfFTr3hT7",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"08-31 14:54",mjText:"",isCb:"-1",id:"2308311454579296232I8olFL96zdqd",mj:"0",itemsContent:"测试领导签批自动生成记录0831",bjrq:null,pnid:"2308311454579296232I8olFL96zdqd",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-08-31 14:54",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"周亚 (拟办)",info_id:"230831143342aWDP9hS6QBNEbuLKsYw",sendType:"SR_SEND",name:"周亚",disableSend:!1,todoId:"2308311436291841EdaSiwGfFTr3hT7_2308311454579296232I8olFL96zdqd",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"08-31 14:54",allowEditOpinion:0,bt:"测试领导签批自动生成记录0831",dataIndex:1,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"同意。",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:3,opinionRequired:0,comment:{hasHandWrite:!1,name:"周亚",itemsContent:"同意。",pid:"2308311436291841EdaSiwGfFTr3hT7",time:"2023-08-31 14:54",pnid:"230831143707691N45xcNQmRMsX7A5a"},time:"2023-08-31 14:54",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230824181543559kIlHHUAu8HQSTe7P",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"08-24 18:17",mjText:"",isCb:"-1",id:"230824181742104m5Vg5B7ylFzzO3Mt",mj:"0",itemsContent:"测试办结节点082402",bjrq:null,pnid:"230824181742104m5Vg5B7ylFzzO3Mt",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-08-24 18:17",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"华源 (拟办)",info_id:"230824181524rnAfQi3T34LsQxz7M4O",sendType:"SR_SEND",name:"华源",disableSend:!1,todoId:"230824181543559kIlHHUAu8HQSTe7P_230824181742104m5Vg5B7ylFzzO3Mt",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"08-24 18:17",allowEditOpinion:0,bt:"测试办结节点082402",dataIndex:2,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:5,opinionRequired:0,comment:{hasHandWrite:!1,name:"华源",itemsContent:"",pid:"230824181543559kIlHHUAu8HQSTe7P",time:"2023-08-24 18:17",pnid:"230824181634087SuFXTN7yCinYB1dF"},time:"2023-08-24 18:17",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230806182155i7xLaGCCxjcRU2o88FC",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"08-08 17:31",mjText:"",isCb:"-1",id:"230808173140869DKFBMiAkyR1TFmON",mj:"",itemsContent:"关于开展2023年本市违规户外广告设施、户外招牌专项治理工作的通知",bjrq:null,pnid:"230808173140869DKFBMiAkyR1TFmON",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-08-08 17:31",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"龚正 (拟办)",info_id:"230806182155buyhWKiXcYBzBh1T4z8",sendType:"SR_SEND",name:"龚正",disableSend:!1,todoId:"230806182155i7xLaGCCxjcRU2o88FC_230808173140869DKFBMiAkyR1TFmON",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"08-08 17:31",allowEditOpinion:0,bt:"关于开展2023年本市违规户外广告设施、户外招牌专项治理工作的通知",dataIndex:3,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:11,opinionRequired:0,comment:{hasHandWrite:!1,name:"龚正",itemsContent:"",pid:"230806182155i7xLaGCCxjcRU2o88FC",time:"2023-08-08 17:31",pnid:"230808173118035FwCGjeAmqgrSTtvh"},time:"2023-08-08 17:31",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230807184334zS5L3Gp5yf8bbklTlp5",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"08-07 18:48",mjText:"",isCb:"-1",id:"230807184832142NHQCHsBuIn72ZmG6",mj:"0",itemsContent:"多区发布小升初“跨区回原籍”登记通知",bjrq:null,pnid:"230807184832142NHQCHsBuIn72ZmG6",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-08-07 18:48",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"马春雷 (拟办)",info_id:"2308071843349VxInwFaTT2rozlZRTZ",sendType:"SR_SEND",name:"马春雷",disableSend:!1,todoId:"230807184334zS5L3Gp5yf8bbklTlp5_230807184832142NHQCHsBuIn72ZmG6",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"08-07 18:48",allowEditOpinion:0,bt:"多区发布小升初“跨区回原籍”登记通知",dataIndex:4,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:5,opinionRequired:0,comment:{hasHandWrite:!1,name:"马春雷",itemsContent:"",pid:"230807184334zS5L3Gp5yf8bbklTlp5",time:"2023-08-07 18:48",pnid:"230807184753812Zt2eA5olytbcsFCO"},time:"2023-08-07 18:48",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230807110509hQyb3LG2k9pT6g8U6V0",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"08-07 14:04",mjText:"",isCb:"-1",id:"2308071404216485RmYflRfUsLlbXoH",mj:"0",itemsContent:"上海市人民政府关于修改《上海市危险化学品安全管理办法》的决定（沪府令5号）",bjrq:null,pnid:"2308071404216485RmYflRfUsLlbXoH",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-08-07 14:04",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"马春雷 (拟办)",info_id:"230807110509JjIZf3ClLQQoSLdax3o",sendType:"SR_SEND",name:"马春雷",disableSend:!1,todoId:"230807110509hQyb3LG2k9pT6g8U6V0_2308071404216485RmYflRfUsLlbXoH",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"08-07 14:04",allowEditOpinion:0,bt:"上海市人民政府关于修改《上海市危险化学品安全管理办法》的决定（沪府令5号）",dataIndex:5,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:86,opinionRequired:0,comment:{hasHandWrite:!1,name:"马春雷",itemsContent:"",pid:"230807110509hQyb3LG2k9pT6g8U6V0",time:"2023-08-07 14:04",pnid:"2308071400561649UKQndlqlE6j0mB9"},time:"2023-08-07 14:04",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:"2023-06-27 00:00:00",moduleName:"收文",pid:"230618200034LmcNaeY4Nth1NCt9BQp",backReason:"",jjcd:3,allowMobile:"1",arrivalTime:"06-18 20:28",mjText:"",isCb:"-1",id:"230618202831934a0NNSSxrzIANZSPl",mj:"0",itemsContent:"市政府新闻发布会介绍《上海市推动制造业高质量发展三年行动计划（2023-2025年）》有关情况.翟敏.公文交换.",bjrq:null,pnid:"230618202831934a0NNSSxrzIANZSPl",moduleNameAndNode:"收文 (返回收文登记)",arrivalDate:"2023-06-18 20:28",isAttention:!1,isTop:"-1",urgentText:"特急",userAndNode:"沈益锋 (返回收文登记)",info_id:"230618195621nuvto2D4QeCJewXWRje",sendType:"SR_SEND",name:"沈益锋",disableSend:!1,todoId:"230618200034LmcNaeY4Nth1NCt9BQp_230618202831934a0NNSSxrzIANZSPl",nodeId:"S7foGDaeKjOseTi",isFavorite:"-1",status:"0",nodeName:"返回收文登记",isUrgent:"3",isFallBack:!1,jjcdText:"特急",isRead:!0,remainDays:"06-18 20:28",allowEditOpinion:0,bt:"市政府新闻发布会介绍《上海市推动制造业高质量发展三年行动计划（2023-2025年）》有关情况.翟敏.公文交换.",dataIndex:6,deadline:"2023-06-28 00:00:00",moduleId:"210420190548Qm2kT2svQxVtaKvm0hl",flowId:"230527133015C1uBKjwF9npt5ht6pj2",isCbText:"",currentOpinion:"",opinion:"拟同意，呈XX批示。",deadlineWarning:"2023-06-25 00:00:00","x-config":{form:{formControlType:"ToDo"}},attachNum:3,opinionRequired:0,comment:{hasHandWrite:!1,name:"沈益锋",itemsContent:"拟同意，呈XX批示。",pid:"230618200034LmcNaeY4Nth1NCt9BQp",time:"2023-06-18 20:28",pnid:"230618200039456n1mwecnSmQeFTM3E"},time:"2023-06-18 20:28",deadlineState:2,wfId:"230527133015C1uBKjwF9npt5ht6pj2",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"231009185205071Mp5GkaiFwuBRi0hY",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"1天前",mjText:"",isCb:"-1",id:"2310091852051347VjT884DEBRtNlK3",mj:"0",itemsContent:"1009新起草批示件",bjrq:null,pnid:"2310091852051347VjT884DEBRtNlK3",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-10-09 18:52",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"邓超 (拟办)",info_id:"23100918493490oWiBWmhRx9j3oElKa",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"231009185205071Mp5GkaiFwuBRi0hY_2310091852051347VjT884DEBRtNlK3",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"1天前",allowEditOpinion:0,bt:"1009新起草批示件",dataIndex:7,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:0,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"231009185205071Mp5GkaiFwuBRi0hY",time:"2023-10-09 18:52",pnid:"231009185204ZwI4cJXMHGUv1PYbFhS"},time:"2023-10-09 18:52",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"2308071556216GsVRAdVHzhuIAxtSgd",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"13天前",mjText:"",isCb:"-1",id:"230927181711721mFY3aYiVrtgGmYrS",mj:"0",itemsContent:"关于本市承担商品储备业务企业享受税收优惠的公告",bjrq:null,pnid:"230927181711721mFY3aYiVrtgGmYrS",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-27 18:17",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"马春雷 (拟办)",info_id:"230807155621BO2NLxvnb5NEqM7xoDC",sendType:"SR_SEND",name:"马春雷",disableSend:!0,todoId:"2308071556216GsVRAdVHzhuIAxtSgd_230927181711721mFY3aYiVrtgGmYrS",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"13天前",allowEditOpinion:0,bt:"关于本市承担商品储备业务企业享受税收优惠的公告",dataIndex:8,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"同意。",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:13,opinionRequired:0,comment:{hasHandWrite:!1,name:"马春雷",itemsContent:"同意。",pid:"2308071556216GsVRAdVHzhuIAxtSgd",time:"2023-09-27 18:17",pnid:"230807155919440gv6SkRD5FBHgkNzZ"},time:"2023-09-27 18:17",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"23091616265119407WVlMyvHTgXIW01",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-16 16:26",mjText:"",isCb:"-1",id:"230916162651256xxETNu2OrV6msSSl",mj:"",itemsContent:"测试火狐保存112",bjrq:null,pnid:"230916162651256xxETNu2OrV6msSSl",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-16 16:26",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"邓超 (拟办)",info_id:"230916162614kHzeRyltpBQA1Z5F7Mv",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"23091616265119407WVlMyvHTgXIW01_230916162651256xxETNu2OrV6msSSl",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"09-16 16:26",allowEditOpinion:0,bt:"测试火狐保存112",dataIndex:9,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:1,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"23091616265119407WVlMyvHTgXIW01",time:"2023-09-16 16:26",pnid:"2309161626502l6Yurk3c2AELHLQnOr"},time:"2023-09-16 16:26",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"2309121441039603M4k9KCoWPvbX6r4",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-12 14:41",mjText:"",isCb:"-1",id:"230912144103994K1RtcwhjAga7oej8",mj:"0",itemsContent:"测试091201",bjrq:null,pnid:"230912144103994K1RtcwhjAga7oej8",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-12 14:41",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"邓超 (拟办)",info_id:"230912143958Vm06p0rtaoB8MTNOGrK",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"2309121441039603M4k9KCoWPvbX6r4_230912144103994K1RtcwhjAga7oej8",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"09-12 14:41",allowEditOpinion:0,bt:"测试091201",dataIndex:10,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:1,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"2309121441039603M4k9KCoWPvbX6r4",time:"2023-09-12 14:41",pnid:"230912144103FAi0l3DBjQHEHNa8mH0"},time:"2023-09-12 14:41",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230911142140960FZWc6RSpm1dTGzPy",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-11 14:21",mjText:"",isCb:"-1",id:"2309111421410196MaxW9UWl4ha59Hc",mj:"0",itemsContent:"来自市经信委的文件0911",bjrq:null,pnid:"2309111421410196MaxW9UWl4ha59Hc",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-11 14:21",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"邓超 (拟办)",info_id:"230911142018WuWX1HMf086JN1ob5WX",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"230911142140960FZWc6RSpm1dTGzPy_2309111421410196MaxW9UWl4ha59Hc",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"09-11 14:21",allowEditOpinion:0,bt:"来自市经信委的文件0911",dataIndex:11,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:1,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"230911142140960FZWc6RSpm1dTGzPy",time:"2023-09-11 14:21",pnid:"230911142140cIJCJF92RaR5voxHIvh"},time:"2023-09-11 14:21",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230908153311661e57akwdWFKz5r8W2",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-08 15:41",mjText:"",isCb:"-1",id:"230908154153757YjNPJ6CTFlImrNrq",mj:"",itemsContent:"测试秘书办1535",bjrq:null,pnid:"230908154153757YjNPJ6CTFlImrNrq",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-08 15:41",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"徐惠丽 (拟办)",info_id:"2309081532408FjZ2h85UJhiiJDS6rH",sendType:"SR_SEND",name:"徐惠丽",disableSend:!1,todoId:"230908153311661e57akwdWFKz5r8W2_230908154153757YjNPJ6CTFlImrNrq",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"1",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!1,remainDays:"09-08 15:41",allowEditOpinion:0,bt:"测试秘书办1535",dataIndex:12,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"圈阅。",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:8,opinionRequired:0,comment:{hasHandWrite:!1,name:"徐惠丽",itemsContent:"圈阅。",pid:"230908153311661e57akwdWFKz5r8W2",time:"2023-09-08 15:41",pnid:"2309081541274323ofDz4rkQPn4UhQ9"},time:"2023-09-08 15:41",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230907152559fs9PUV34ex41YmD0GWk",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-07 15:26",mjText:"",isCb:"-1",id:"230907152609188B6pNG8ShNIXWm7u5",mj:"",itemsContent:"测试发送1528",bjrq:null,pnid:"230907152609188B6pNG8ShNIXWm7u5",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-07 15:26",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"邓超 (拟办)",info_id:"230907152525UifezSUAm1nNdzxiMED",sendType:"SR_SEND",name:"邓超",disableSend:!1,todoId:"230907152559fs9PUV34ex41YmD0GWk_230907152609188B6pNG8ShNIXWm7u5",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"0",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!0,remainDays:"09-07 15:26",allowEditOpinion:0,bt:"测试发送1528",dataIndex:13,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:1,opinionRequired:0,comment:{hasHandWrite:!1,name:"邓超",itemsContent:"",pid:"230907152559fs9PUV34ex41YmD0GWk",time:"2023-09-07 15:26",pnid:"230907152559akW4Q07oKFc1Efwjuj2"},time:"2023-09-07 15:26",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}},{buttons:{commonButtons:[{showIndex:"0",name:"收藏",icon:"iconshoucang",action:"guanZhu"}],mainButtons:[{showIndex:"0",name:"发送",icon:"iconfasong",action:"faSong"}]},dataValue:{deadlineAlert:null,moduleName:"收文批示件",pid:"230830140443476g3UGskpwPGkV4sOO",backReason:"",jjcd:2,allowMobile:"1",arrivalTime:"09-04 17:02",mjText:"",isCb:"-1",id:"2309041702486248uNulT37c1a3Jwrt",mj:"0",itemsContent:"测试批示件-航-0830（SEC）",bjrq:null,pnid:"2309041702486248uNulT37c1a3Jwrt",moduleNameAndNode:"收文批示件 (拟办)",arrivalDate:"2023-09-04 17:02",isAttention:!1,isTop:"-1",urgentText:"急件",userAndNode:"马春雷 (拟办)",info_id:"230830140359XuqsF83mBuRfQM3oYMR",sendType:"SR_SEND",name:"马春雷",disableSend:!1,todoId:"230830140443476g3UGskpwPGkV4sOO_2309041702486248uNulT37c1a3Jwrt",nodeId:"CM2n6JAtFu1bFFZ",isFavorite:"-1",status:"1",nodeName:"拟办",isUrgent:"2",isFallBack:!1,jjcdText:"急件",isRead:!1,remainDays:"09-04 17:02",allowEditOpinion:0,bt:"测试批示件-航-0830（SEC）",dataIndex:14,deadline:null,moduleId:"230716135502ednDlLWLSO8VsLwqzrC",flowId:"230716171502yCI9REiWolAwg4w9h4b",isCbText:"",currentOpinion:"",opinion:"",deadlineWarning:null,"x-config":{form:{formControlType:"ToDo"}},attachNum:20,opinionRequired:0,comment:{hasHandWrite:!1,name:"马春雷",itemsContent:"",pid:"230830140443476g3UGskpwPGkV4sOO",time:"2023-09-04 17:02",pnid:"230831101757518dWSBplkmKcKgldkv"},time:"2023-09-04 17:02",deadlineState:0,wfId:"230716171502yCI9REiWolAwg4w9h4b",fileType:"ToDo"}}],o.columns=[{showCategory:"mainTitle",showName:"标题",showMetaColumn:"bt"},{showCategory:"subTitleA",showName:"文件种类",icon:"iconwenjianleixing",showMetaColumn:"moduleNameAndNode"},{showCategory:"subTitleB",showName:"来自张三（环节）",icon:"iconlaiyuan",showMetaColumn:"name"},{showCategory:"subTitleC",showName:"截止时间",icon:"iconriqi",showMetaColumn:"time"},{showCategory:"Content",showName:"意见",icon:"iconyijian",showMetaColumn:"opinion"}],o.finished=!0,o.loading=!1,o.isLoading=!1,o.isFirst=0;case 11:case"end":return e.stop()}},e)}))()},onLoad:function(){this.fetchData()},onRefresh:function(){this.finishedTips="",this.finished=!1,this.loading=!0,this.data=[],this.distribIds="",this.start=1,this.fetchData(),null!=this.currentTabs&&this.$eventBus.refreshBadge(this,this.currentTabs)},handleActionClick:function(){this.chooseItem=arguments[1];var e=arguments[0],t=this["action-".concat(e)];null!=this.spHandleJS&&this.spHandleJS[e]?this.spHandleJS[e](arguments[1],this):t?t.apply(void 0,(0,l.Z)(Array.prototype.slice.call(arguments,1))):dsf.layer.toast("当前按钮未定义："+e,!1)},confirmDate:function(e){var e=(0,n.Z)(e,2),t=e[0],e=e[1];this.dateShow=!this.dateShow,this.startDate=dsf.date.format(t,"yyyy-mm-dd"),this.endDate=dsf.date.format(e,"yyyy-mm-dd")},search:function(){var t=this;return(0,s.Z)(c().mark(function e(){var n;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.isSearch=!0,t.selectSearch=t.selectColumns.filter(function(e){return e.checked}).map(function(e){return e.value}),n={},t.controlData.forEach(function(e,t){e.value&&""!=e.value&&(n["".concat(-1<e.metaData.indexOf("query_")?"":"query_").concat(e.metaData)]=e.value)}),t.paramsData=n,t.onRefresh(),t.show=!1;case 7:case"end":return e.stop()}},e)}))()},closePerson:function(e,t){this.personSelectData.splice(t,1),this.$refs.selectPerson.userClick(e)},showPersonModel:function(){this.showPerson=!0},getSelectUser:function(n){var e,t,o,i=this;this.personSelectData=n,this.extra={},0<n.length&&(n.forEach(function(e,t){e.children&&0<e.children.length&&n.splice(t,1)}),e=n.map(function(e){return e.id}),this.isTransfer)&&(1<n.length?dsf.layer.toast("请选择一个人",!0):(t=dsf.util.loadSessionStore("user"),dsf.layer.loading("取消中"),o=this.selected.dataValue,this.showPerson=!1,"db"==this.transferType?dsf.changeUser.superviseChangeUser({param:{pk:o.info_id||o.id||o.A0001,userId:e.join(",")},thenFun:function(){return i.onRefresh&&i.onRefresh()}}):"gw"==this.transferType&&dsf.changeUser.flowChangeUser({param:{pk:o.info_id,pId:o.pid,pnId:o.pnid,fromUserId:t.user_id,userId:e.join(","),userName:n.map(function(e){return e.name}).join(","),deptId:n.map(function(e){return e.pid}).join(","),deptName:""},thenFun:function(){i.onRefresh&&i.onRefresh()}})))},cancePerson:function(){this.showPerson=!this.showPerson},closeSeclect:function(t){this.selectColumns.forEach(function(e){e.value==t.value&&(e.checked=!1)})},controlFilter:function(t){return 0<this.controlData.filter(function(e){return e.name==t}).length},returnFilter:function(){var e=JSON.parse(h()(this.controlData));e.forEach(function(e){e.value=""}),this.controlData=e},deleteRows:function(){this.showCheck=!0},operationRows:function(e){D.log(e);this.currentBtn=e;var t,e=!1;(e=this.currentBtn.parameters&&(t=this.currentBtn.parameters.find(function(e){return"needChoice"==e.key}))&&"1"==t.value?!0:e)?this.currentBtnFunc():this.showCheck=!0},sucDelete:function(){var t=this,e=this.data.filter(function(e){return e.checked}),n=(this.data=this.data.filter(function(e){return!e.checked}),D.log(e),{metaKey:this.keyColumn,pk:"",moduleId:this.moduleId,formId:this.listId});e.forEach(function(e){n.pk+=e.dataValue[t.keyColumn]+","}),n.pk=n.pk.substr(0,n.pk.length-1),D.log(n),dsf.http.post("fn/list/deleteRows",n).then(function(e){e=e.data;D.log(e),"200"==e.code&&(t.dsf.layer.toast(e.message),t.showCheck=!1)})},faWenGuanLi:function(){this.showGuanli=!this.showGuanli},shouWenGuanLi:function(){this.showshuwen=!this.showshuwen},btnAction:function(e){this.dsfBtnAction=e.action,null!=this.spHandleJS&&this.spHandleJS[e.action]?this.spHandleJS[e.action](e,this):this[e.action](e)},showSearchAction:function(){this.controlData.length&&(this.show=!0)},cancelCheck:function(){this.checkList.forEach(function(e){e.checked=!1}),this.checkList=[],this.currentBtn=null,D.log(this.checkable),this.params&&this.checkable?this.$emit("cancelCheck",!1):this.showCheck=!this.showCheck},exitClick:function(){this.$emit("cancelCheck",!1)},currentBtnFunc:function(){var e,t,n=this,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0],i=this;this.currentBtn.parameters&&this.currentBtn.parameters.length?(e=this.currentBtn.parameters.find(function(e){return"api"==e.key}).value,t={metaKey:this.keyColumn,pks:[],moduleId:this.moduleId,formId:this.listId,fid:this.$route.query.pk||this.$route.query.fid,method:this.$route.query.method},this.checkList.forEach(function(e){t.pks.push(e.dataValue[n.keyColumn])}),dsf.http.post(e,t).then(function(e){var t=e.data;switch(D.log(t),t.action){case"refreshList":dsf.layer.toast(t.message,!0,function(){i.onRefresh()});break;case"openForm":i.$router.push({path:"/commonForm/".concat(t.moduleId,"/").concat(t.pk)});break;case"openTip":dsf.layer.toast(t.message,!0);break;case"openTipAndOpenForm":dsf.layer.toast(t.message,!0,function(){i.$router.push({path:"/commonForm/".concat(t.moduleId,"/").concat(t.pk)})});break;case"openComfirmAndOpenForm":dsf.layer.confirm({message:t.message,confirmButtonText:"确认"},function(){i.$router.push({path:"/commonForm/".concat(t.moduleId,"/").concat(t.pk)})});break;default:dsf.layer.toast(t.message)}o&&i.cancelCheck()})):dsf.layer.toast("当前按钮未配置接口参数",!1)},confirmCheck:function(){var e=this.checkList.filter(function(e){return e.checked});e.length?this.currentBtn?this.currentBtnFunc(!0):(this.$emit("confirmCheck",e,this.relaMode),this.noLoadJs||this.$eventBus.emitDefaultListCheck(this,e),this.checkList.forEach(function(e){e.checked=!1})):dsf.layer.toast("请选择")},checkClick:function(t){var n=t.dataValue["S-BASE-0001"]?"S-BASE-0001":"A0001";this.checkList.length?"radio"==this.checkTypePop?(this.checkList.forEach(function(e){t.dataValue[n]!=e.dataValue[n]&&(e.checked=!1)}),this.checkList=[],t.checked&&this.checkList.push(t)):t.checked?this.checkList.push(t):this.checkList.splice(this.checkList.findIndex(function(e){return t.dataValue[n]===e.dataValue[n]}),1):this.checkList.push(t)},afterRead:function(e){},confirmFocus:function(e){var n=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),dsf.http.post("/fn/mobileFocus/setFocus",{fid:e,infoId:this.chooseItem.dataValue.fid||this.chooseItem.dataValue.info_id||this.chooseItem.dataValue.infoId||this.chooseItem.dataValue.A0001||this.chooseItem.dataValue.id||this.chooseItem.dataValue["SW_XZD.A0001"]||this.chooseItem.dataValue["G_INFOS.A0001"]||this.chooseItem.dataValue["XZBYQ_0012.A0001"],"x-auth-token":dsf.util.loadSessionStore("loginToken")}).then(function(e){var e=e.data,t=(e.message,e.result);("success"===e.type||t)&&(e=[].concat((0,l.Z)(n.chooseItem.buttons.commonButtons||n.chooseItem.buttons.commonButton),(0,l.Z)(n.chooseItem.buttons.mainButtons||n.chooseItem.buttons.mainButton)).find(function(e){return"guanZhu"==e.action}))&&(e.name="已"+e.name,e.icon="iconai-mark",e.action="quXiaoGuanZhu"),n.dsf.layer.toast("操作成功")}).catch(function(){n.$toast.clear()})},closeSendFilePopup:function(){this.$refs.sendFile.cancel()},closeCallback:function(e){e=(0,n.Z)(e,2);e[0],e[1];this.componentName=""}},computed:R(R({justShowCard:function(){var e;return!(null==(e=this.params)||null==(e=e.params)||!e.justShowCard)},nowSeclect:function(){return this.selectColumns.filter(function(e){return e.checked})}},(_=null,e.rn)({isShowAppFooter:function(e){return e.isShowAppFooter},isShowAppHeader:function(e){return e.isShowAppHeader}})),{},{searchShowAction:function(){var e;return!(null!=(e=dsf.config.commonList)&&e.isFideFilterIcon&&(null==(e=this.params)||null==(e=e.params)||!e.showFilterIcon)&&"1"!=this.$route.query.showFilterIcon)},isHideListButton:function(){var e;return!(null==(e=this.params)||null==(e=e.params)||!e.hideListButton)},controlSelect:function(){return 0<this.controlData.length?this.controlData.slice(0,2):[]}})},U=(0,t(51900).Z)(A,function(){var n=this,o=n._self._c;return o("div",{ref:"container",staticClass:"ds-signinlist",class:{scrollBox:n.showCheck}},[n.isShowSearchBox||n.showTable?o("van-sticky",{attrs:{container:n.stickyContainer,"offset-top":n.oppsetTop||(n.isShowAppHeader?"0.92rem":"0")}},[o("van-search",{attrs:{sticky:"","show-action":n.searchShowAction,placeholder:"搜索",clearable:!1},on:{input:n.onSearch},scopedSlots:n._u([{key:"action",fn:function(){return[o("span",{staticStyle:{color:"#333","font-size":"var(--font_size_2)"},on:{click:n.showSearchAction}},[n._v("筛选")]),n._v(" "),n.showSetting?o("van-icon",{staticStyle:{"vertical-align":"middle","margin-left":"10px"},attrs:{name:"static/assistant/setting.png",size:"0.4rem"},on:{click:n.showActionSelect}}):n._e()]},proxy:!0},{key:"left-icon",fn:function(){return[o("i",{staticClass:"iconfont iconsousuo1"})]},proxy:!0},n.keyword?{key:"right-icon",fn:function(){return[o("span",{on:{click:function(e){n.keyword="",n.onSearch()}}},[n._v("取消")])]},proxy:!0}:null],null,!0),model:{value:n.keyword,callback:function(e){n.keyword=e},expression:"keyword"}}),n._v(" "),n.resultContent.length?o("div",{staticClass:"resultTip",domProps:{innerHTML:n._s(n.resultContent)}}):n._e(),n._v(" "),n.showTable?o("DsfListTable",{attrs:{columns:n.showTable.showColumn,data:n.showTable.datas,showDefault:n.showDefault}}):n._e()],1):n._e(),n._v(" "),n.justShowCard?[n.loading?o("van-loading",{staticStyle:{"text-align":"center"},attrs:{size:"24px"}},[n._v("加载中...")]):o("DsList",{ref:"dslist",attrs:{data:n.data,spHandleJs:n.spHandleJS,listId:n.listId,listmoduleId:n.moduleId,checkType:n.checkTypePop||n.checkType,params:n.params&&n.params.params?n.params.params:{},tabsPage:n.tabsPage,clickTabIndex:n.clickTabIndex,routeKey:n.routeKey,columns:n.columns,showCheck:n.showCheck,mobileStyle:n.mobileStyle,keyColumn:n.keyColumn,showSubTitle:n.showSubTitle,checkIds:n.checkIds,"link-to":n.linkTo,noGreenIcon:n.params.hideReadStatus,justShowCard:n.justShowCard,showTips:n.showTips},on:{checkClick:n.checkClick,mainClick:n.handleActionClick,commonClick:n.handleActionClick}})]:o("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:n.onRefresh},model:{value:n.isLoading,callback:function(e){n.isLoading=e},expression:"isLoading"}},[o("van-list",{attrs:{finished:n.finished,"finished-text":n.finishedTips,offset:"100"},on:{load:n.onLoad},model:{value:n.loading,callback:function(e){n.loading=e},expression:"loading"}},[o("DsList",{ref:"dslist",attrs:{data:n.data,spHandleJs:n.spHandleJS,listId:n.listId,listmoduleId:n.moduleId,checkType:n.checkTypePop||n.checkType,params:n.params&&n.params.params?n.params.params:{},tabsPage:n.tabsPage,clickTabIndex:n.clickTabIndex,routeKey:n.routeKey,columns:n.columns,showCheck:n.showCheck,mobileStyle:n.mobileStyle,keyColumn:n.keyColumn,showSubTitle:n.showSubTitle,checkIds:n.checkIds,"link-to":n.linkTo,showTips:n.showTips},on:{checkClick:n.checkClick,mainClick:n.handleActionClick,commonClick:n.handleActionClick}})],1)],1),n._v(" "),n.showCheck?o("div",{staticClass:"utilBox disfr"},[o("van-button",{staticClass:"flex1",on:{click:n.cancelCheck}},[n._v("  取消  ")]),n._v(" "),"deleteRows"==n.dsfBtnAction?o("van-button",{staticClass:"flex1",attrs:{type:"primary"},on:{click:n.sucDelete}},[n._v("确认删除\n    ")]):o("van-button",{staticClass:"flex1",attrs:{type:"primary"},on:{click:n.confirmCheck}},[n._v("确定\n    ")])],1):n._e(),n._v(" "),n.showFyyj?o("separate-read",{ref:"readPop"}):n._e(),n._v(" "),o("van-action-sheet",{staticClass:"searchSheet",attrs:{position:"bottom",round:""},model:{value:n.show,callback:function(e){n.show=e},expression:"show"}},[o("van-nav-bar",{attrs:{title:"筛选"},on:{"click-left":function(e){n.show=!n.show},"click-right":function(e){n.show=!n.show}}}),n._v(" "),n.showAllSearch?o("div",{staticClass:"sheetBox flex1"},n._l(n.controlData,function(e,t){return o(e.control,{key:t,tag:"component",attrs:{"meta-data":e}})}),1):o("div",{staticClass:"sheetBox flex1"},n._l(n.controlSelect,function(e,t){return o(e.control,{key:t,tag:"component",attrs:{"meta-data":e}})}),1),n._v(" "),n.controlData&&2<n.controlData.length?o("div",{staticClass:"arrowBtn"},[o("span",{on:{click:function(e){n.showAllSearch=!n.showAllSearch}}},[n._v(n._s(n.showAllSearch?"收起":"展开"))])]):n._e(),n._v(" "),o("div",{staticClass:"btnBox disfr jsb searchBox"},[o("van-button",{staticClass:"flex1",on:{click:n.returnFilter}},[n._v("重置")]),n._v(" "),o("van-button",{staticClass:"flex1",attrs:{type:"info"},on:{click:n.search}},[n._v("确定")])],1)],1),n._v(" "),o("van-action-sheet",{staticClass:"selectSearch",staticStyle:{height:"500px"},attrs:{title:"选项"},model:{value:n.showPicker,callback:function(e){n.showPicker=e},expression:"showPicker"}},n._l(n.selectColumns,function(t,e){return o("van-checkbox",{key:e,model:{value:t.checked,callback:function(e){n.$set(t,"checked",e)},expression:"item.checked"}},[n._v(n._s(t.value)+"\n    ")])}),1),n._v(" "),o("van-popup",{style:{height:"100%"},attrs:{"close-on-click-overlay":!0,"lock-scroll":"",position:"bottom"},model:{value:n.showPerson,callback:function(e){n.showPerson=e},expression:"showPerson"}},[o("control-user-list",{attrs:{extra:n.extra,selectType:n.selectType},on:{close:n.cancePerson,getSelectUser:n.getSelectUser}})],1),n._v(" "),n.isHideListButton||!(n.listButtons&&n.listButtons.mainButtons&&n.listButtons.mainButtons.length||n.showAddForm)||n.showCheck||n.dsf.config.commonList.isFooterBtnShow?n._e():o("dsf-fab",{attrs:{"fab-items":n.listButtons.mainButtons,"title-key":"name"},on:{clickItem:n.btnAction}}),n._v(" "),!n.isHideListButton&&(n.listButtons&&n.listButtons.mainButtons&&n.listButtons.mainButtons.length||n.showAddForm)&&!n.showCheck&&n.dsf.config.commonList.isFooterBtnShow?o("div",{staticClass:"footer-list",staticStyle:{height:"1.2rem"}},[o("div",{staticClass:"footer"},[o("DsfButtonToolbox",{attrs:{buttons:n.listMainButtons||{},"is-form-btn":!0,"is-list-btn":!0,more:!0,size:"small"},on:{listBtnClick:n.btnAction}})],1)]):n._e(),n._v(" "),o("van-popup",{style:{height:"500px"},attrs:{position:"bottom",round:"","get-container":"#app"},model:{value:n.dateShow,callback:function(e){n.dateShow=e},expression:"dateShow"}},[o("van-calendar",{attrs:{poppable:!1,type:"range",color:"rgb(25, 137, 250)","first-day-of-week":"1"},on:{confirm:n.confirmDate}})],1),n._v(" "),o("van-popup",{style:{height:"90%"},attrs:{position:"bottom",round:""},model:{value:n.showGuanli,callback:function(e){n.showGuanli=e},expression:"showGuanli"}},[o("DefaultList",{ref:"subListfawen",attrs:{params:n.fawenParam}})],1),n._v(" "),o("van-popup",{style:{height:"90%"},attrs:{position:"bottom",round:""},model:{value:n.showshuwen,callback:function(e){n.showshuwen=e},expression:"showshuwen"}},[o("DefaultList",{attrs:{params:n.shouwenParam}})],1),n._v(" "),o("van-popup",{style:{height:"100%"},attrs:{position:"bottom","get-container":"#app"},model:{value:n.commonPop,callback:function(e){n.commonPop=e},expression:"commonPop"}},[o("DefaultList",{attrs:{params:n.commonPopParam,noLoadJs:!0,checkTypePop:n.checkType,checkable:!0,oppsetTop:"0px"},on:{cancelCheck:function(e){n.commonPop=!1},confirmCheck:n.commonPopChoose}})],1),n._v(" "),o("van-popup",{ref:"sendPop",staticStyle:{height:"90vh"},attrs:{"get-container":n.getContainer,"lock-scroll":"",position:"bottom",round:""},on:{close:n.closeSendFilePopup},model:{value:n.showFlowSend,callback:function(e){n.showFlowSend=e},expression:"showFlowSend"}},[o("sendFile",{directives:[{name:"show",rawName:"v-show",value:n.showFlowSend,expression:"showFlowSend"}],ref:"sendFile",attrs:{"form-data":n.selected},on:{change:n.handleFlowSendChange,close:n.closeSendFile}})],1),n._v(" "),o("van-popup",{attrs:{"get-container":n.getContainer,"close-on-click-overlay":!1,"lock-scroll":"",position:"bottom",round:""},model:{value:n.showFlowBack,callback:function(e){n.showFlowBack=e},expression:"showFlowBack"}},[o("work-flow-dialog",{ref:"wfDialog",attrs:{"form-data":n.selected},on:{change:n.handleFlowBackChange,close:function(e){n.showFlowBack=!1}}})],1),n._v(" "),o("van-popup",{staticStyle:{height:"100vh"},attrs:{"get-container":n.getContainer,"close-on-click-overlay":!1,"lock-scroll":"",position:"bottom"},model:{value:n.showChatUser,callback:function(e){n.showChatUser=e},expression:"showChatUser"}},[o("test-chat-user-dialog",{ref:"chatDialog",on:{close:function(e){n.showChatUser=!1}}})],1),n._v(" "),o("check-box-dialog",{ref:"ckDialog"}),n._v(" "),o("sign-file",{ref:"signFile"}),n._v(" "),o("sign-file-person",{ref:"signFilePerson"}),n._v(" "),o("remind-dialog",{ref:"remindDialog"}),n._v(" "),o("van-uploader",{ref:"uploader",attrs:{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, .zip"}},[o("van-icon",{attrs:{size:"0rem",name:"add-o"}})],1),n._v(" "),n.showChooseFolder?o("chooseFolder",{attrs:{show:n.showChooseFolder,type:"focus"},on:{"update:show":function(e){n.showChooseFolder=e},confirmChoose:n.confirmFocus}}):n._e(),n._v(" "),o("meeting-dialog",{ref:"meetingDialog"}),n._v(" "),o("rejectDialog",{ref:"rejectDialog"}),n._v(" "),o("commonDialog",{directives:[{name:"show",rawName:"v-show",value:""!=n.componentName,expression:"componentName != ''"}],ref:"commonDialog",attrs:{"is-from-list":!0,"list-data":n.chooseItem,componentName:n.componentName},on:{closeCallback:function(e){return n.closeCallback(arguments)},refreshList:n.onRefresh}}),n._v(" "),o("van-dialog",{attrs:{cancelButtonColor:"#666",confirmButtonText:"保存设置",cancelButtonText:"关闭",title:"待办设置","show-cancel-button":""},on:{confirm:n.setActionType},model:{value:n.showActionTypeDialog,callback:function(e){n.showActionTypeDialog=e},expression:"showActionTypeDialog"}},[o("div",{staticClass:"radioBox"},[o("van-radio-group",{model:{value:n.actionType,callback:function(e){n.actionType=e},expression:"actionType"}},[o("van-cell-group",[o("van-cell",{attrs:{title:"待办处理后直接关闭",clickable:""},on:{click:function(e){n.actionType="0"}},scopedSlots:n._u([{key:"right-icon",fn:function(){return[o("van-radio",{attrs:{name:"0"}})]},proxy:!0}])}),n._v(" "),o("van-cell",{attrs:{title:"待办处理后返回列表",clickable:""},on:{click:function(e){n.actionType="1"}},scopedSlots:n._u([{key:"right-icon",fn:function(){return[o("van-radio",{attrs:{name:"1"}})]},proxy:!0}])}),n._v(" "),o("van-cell",{attrs:{title:"待办处理后连续办理",clickable:""},on:{click:function(e){n.actionType="2"}},scopedSlots:n._u([{key:"right-icon",fn:function(){return[o("van-radio",{attrs:{name:"2"}})]},proxy:!0}])}),n._v(" "),o("van-cell",{attrs:{title:"待办处理后提示操作",clickable:""},on:{click:function(e){n.actionType="3"}},scopedSlots:n._u([{key:"right-icon",fn:function(){return[o("van-radio",{attrs:{name:"3"}})]},proxy:!0}])})],1)],1)],1)])],2)},[],!1,null,"8d4a9388",null).exports}}]);