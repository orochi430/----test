"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[12832],{12832:function(t,e,i){i.r(e),i.d(e,{default:function(){return s}});var e={data:function(){return{bt:"",videoArr:[],imgArr:[],type:this.$route.query.type,isShowDesc:!1,videoDesc:""}},created:function(){"video"==this.type?this.getXmjsVideoData():"image"==this.type&&this.getXmjsImageData()},mounted:function(){},computed:{getVideoUrl:function(){return function(t){return dsf.url.getServerUrl(t.videoAppUrl.substring(1,t.videoAppUrl.length))}},getImgUrl:function(){return function(t){return dsf.url.getServerUrl(t.imgAppUrl.substring(1,t.imgAppUrl.length))}}},methods:{getXmjsVideoData:function(){var e=this;dsf.http.post("/fn/sjgwcPortalController/getXmjsVideoData",{bt:this.bt}).done(function(t){"0"==t.error_code&&t.data&&(e.videoArr=t.data)})},getXmjsImageData:function(){var e=this;dsf.http.post("/fn/sjgwcPortalController/getXmjsImageData",{bt:this.bt}).done(function(t){"0"==t.error_code&&t.data&&(e.imgArr=t.data)})},searchBt:function(){"video"==this.type?this.getXmjsVideoData():"image"==this.type&&this.getXmjsImageData()},enterImgDetail:function(t){this.$router.push({path:"/dyProjectImg",query:{infoId:t.infoId}})},showVideoDesc:function(t){this.videoDesc=t.videoDesc,this.isShowDesc=!0}}},s=(0,i(51900).Z)(e,function(){var i=this,s=i._self._c;return s("div",{staticClass:"dyProjectVideoandImg"},[s("van-row",{attrs:{type:"flex",justify:"center",align:"center"}},[s("van-field",{attrs:{"left-icon":"search"},scopedSlots:i._u([{key:"button",fn:function(){return[s("van-button",{attrs:{size:"small",type:"primary"},on:{click:i.searchBt}},[i._v("查询")])]},proxy:!0}]),model:{value:i.bt,callback:function(t){i.bt=t},expression:"bt"}})],1),i._v(" "),0<i.videoArr.length&&"video"==i.type?s("ul",{staticClass:"dyProjectVideoandImg_ul"},i._l(i.videoArr,function(e,t){return s("li",{key:t},[s("video",{attrs:{src:i.getVideoUrl(e),controls:""}},[s("source",{attrs:{src:"movie.mp4",type:"video/mp4"}}),i._v(" "),s("source",{attrs:{src:"movie.ogg",type:"video/ogg"}})]),i._v(" "),s("p",{staticClass:"desc",on:{click:function(t){return i.showVideoDesc(e)}}},[i._v(i._s(e.videoDesc))]),i._v(" "),s("p",{staticClass:"title"},[i._v(i._s(e.bt))])])}),0):0<i.imgArr.length&&"image"==i.type?s("ul",{staticClass:"dyProjectVideoandImg_ul"},i._l(i.imgArr,function(e,t){return s("li",{key:t,on:{click:function(t){return i.enterImgDetail(e)}}},[s("van-image",{attrs:{fit:"cover",width:"100%",height:"150px",src:i.getImgUrl(e)}}),i._v(" "),s("p",{staticClass:"title"},[i._v(i._s(e.bt))])],1)}),0):s("commonempty",{attrs:{description:"暂无数据"}}),i._v(" "),s("van-popup",{staticClass:"videoPopup",attrs:{closeable:"","close-icon":"close"},model:{value:i.isShowDesc,callback:function(t){i.isShowDesc=t},expression:"isShowDesc"}},[s("p",[i._v(i._s(i.videoDesc))])])],1)},[],!1,null,"0466e1e8",null).exports}}]);