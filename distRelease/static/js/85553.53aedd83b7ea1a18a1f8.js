"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[85553],{85553:function(t,e,n){n.r(e),n.d(e,{default:function(){return a}});var e=n(8450),o=n.n(e),s=n(25108),e={name:"sdtChangeUser",components:{},data:function(){return{userList:[]}},methods:{loadData:function(){var e=this;this.data=[],this.$toast.loading("加载中"),dsf.http.post("/ctrl/userRelation/getRelationUserData").then(function(t){s.log(t),e.userList=t.data.data})},change:function(t){var e=this,n=dsf.layer.loading("切换中...");dsf.http.post("/ctrl/mobileAuthNew/changeLoginUser",{__DATA:o()(t),token:t.token}).then(function(t){dsf.util.removeSessionStore("user"),dsf.util.removeSessionStore("loginToken"),dsf.util.removeToLocalStore("user"),dsf.util.removeToLocalStore("loginToken");t=t.data.data;dsf.util.saveToSessionStore("user",t),dsf.util.saveToSessionStore("loginToken",t.auth.token),dsf.util.saveToLocalStore("loginToken",t.auth.token),dsf.util.saveToLocalStore("user",t),e.$router.push({path:"/index"})}).always(function(){dsf.layer.closeLoading(n)})}},mounted:function(){this.loadData()}},a=(0,n(51900).Z)(e,function(){var n=this,o=n._self._c;return o("div",{staticClass:"sdtChangeUser"},n._l(n.userList,function(e,t){return o("van-row",{key:t},[o("van-cell",{attrs:{title:e.uname},scopedSlots:n._u([{key:"right-icon",fn:function(){return[o("van-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return n.change(e)}}},[n._v("切换")])]},proxy:!0}],null,!0)})],1)}),1)},[],!1,null,"296eb3f2",null).exports}}]);