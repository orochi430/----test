(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[85027],{10406:function(t){function i(t){var e;return(o[t]||(e=o[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,i),e.l=!0,e)).exports}var n,o;t.exports=(n=[function(t,e){t.exports=function(t,e,n,i){var o,s,a=t=t||{},r=typeof t.default,r="function"==typeof(a="object"!=r&&"function"!=r?a:(o=t).default)?a.options:a;return e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),n&&(r._scopeId=n),i&&(s=r.computed||(r.computed={}),Object.keys(i).forEach(function(t){var e=i[t];s[t]=function(){return e}})),{esModule:o,exports:a,options:r}}},function(t,e,n){var i;void 0!==(e="function"==typeof(i=function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=this.unload,e=this.renderByParent,n=this.$parent;e&&n.reload(),t()}Object.defineProperty(e,"__esModule",{value:!0});var s={control:{unload:"removeControl"},layer:{unload:"removeTileLayer"},overlay:{unload:"removeOverlay"},contextMenu:{unload:"removeContextMenu"}},a=function t(e){return e.abstract||e.$el===e.$children[0].$el?t(e.$parent):e},n=function t(n){i(this,t),this.methods={ready:function(){var t=a(this.$parent),e=this.BMap=t.BMap,n=this.map=t.map;this.load(),this.$emit("ready",{BMap:e,map:n})},transmitEvent:function(t){this.$emit(t.type.replace(/^on/,""),t)},reload:function(){var t=this;this&&this.BMap&&this.$nextTick(function(){t.unload(),t.$nextTick(t.load)})},unload:function(){var t=this.map,e=this.originInstance;try{switch(n.type){case"search":return e.clearResults();case"autoComplete":case"lushu":return e.dispose();case"markerClusterer":return e.clearMarkers();default:t[s[n.type].unload](e)}}catch(t){}}},this.computed={renderByParent:function(){return this.$parent.preventChildrenRender}},this.mounted=function(){var t=a(this.$parent),e=t.map,n=this.ready;e?n():t.$on("ready",n)},this.destroyed=o,this.beforeDestroy=o};e.default=function(t){return new n({type:t})},t.exports=e.default})?i.apply(e,[t,e]):i)&&(t.exports=e)},function(t,e,n){var i;void 0!==(e="function"==typeof(i=function(t){"use strict";function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.lng,i=e.lat;return new t.Point(n,i)}function e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,i=e.y;return new t.Pixel(n,i)}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.sw,i=e.ne;return new t.Bounds(o(t,n),o(t,i))}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width,i=e.height;return new t.Size(n,i)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,i=e.size,o=e.opts,s=void 0===o?{}:o;return new t.Icon(n,a(t,i),{anchor:s.anchor&&a(t,s.anchor),imageSize:s.imageSize&&a(t,s.imageSize),imageOffset:s.imageOffset&&a(t,s.imageOffset),infoWindowAnchor:s.infoWindowAnchor&&a(t,s.infoWindowAnchor),printImageUrl:s.printImageUrl})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.content,i=e.opts;return new t.Label(n,{offset:i.offset&&a(t,i.offset),position:i.position&&o(t,i.position),enableMassClear:i.enableMassClear})}Object.defineProperty(t,"__esModule",{value:!0}),t.createPoint=o,t.createPixel=e,t.createBounds=n,t.createSize=a,t.createIcon=i,t.createLabel=s})?i.apply(e,[e]):i)&&(t.exports=e)},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i;n=[t,e,n(41)],void 0!==(e="function"==typeof(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,t){var s=this,e=t||i.default[this.$options.name];e&&e.forEach(function(t){var e="on"===t.slice(0,2),n=e?t.slice(2):t,i=s.$listeners[n];i&&o.addEventListener(t,i.fns)})};var i=function(t){return t&&t.__esModule?t:{default:t}}(n);t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[e,n(2)],void 0!==(e="function"==typeof(i=function(t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=t.checkType=t.isPoint=void 0;var i=t.isPoint=function(t){return t.lng&&t.lat};t.checkType=function(t){return Object.prototype.toString.call(t).slice(8,-1)},t.getPosition=function(t,e){return i(e)?(0,n.createPoint)(t,e):e}})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){n=n(0)(n(71),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(43),n(89),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(44),n(87),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(45),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(46),n(94),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(47),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(48),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(49),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(50),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(51),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(52),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(53),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(54),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(55),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(56),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(57),n(90),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(58),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(59),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(60),n(97),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(61),n(82),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(62),n(95),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(63),n(86),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(64),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(65),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(66),n(83),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(67),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(68),n(96),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(69),n(84),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(70),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(72),null,null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(73),n(91),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(74),n(85),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(75),n(93),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(76),n(92),null,null);t.exports=n.exports},function(t,e,n){n=n(0)(n(77),n(88),null,null);t.exports=n.exports},function(t,e,n){var i;void 0!==(e="function"==typeof(i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]},t.exports=e.default})?i.apply(e,[t,e]):i)&&(t.exports=e)},function(t,e,n){var i;n=[e,n(24),n(25),n(17),n(14),n(13),n(15),n(12),n(11),n(9),n(16),n(10),n(32),n(34),n(35),n(6),n(28),n(29),n(31),n(30),n(33),n(8),n(7),n(38),n(39),n(40),n(37),n(36),n(22),n(23),n(27),n(26),n(21),n(20),n(19),n(18)],void 0!==(e="function"==typeof(i=function(t,e,n,i,j,R,$,F,W,N,D,Z,V,H,G,U,J,K,X,q,Y,Q,tt,et,nt,it,ot,st,at,rt,lt,ct,ut,ht,pt,dt){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.BmlCurveLine=t.BmlHeatmap=t.BmlLushu=t.BmlMarkerClusterer=t.BmAutoComplete=t.BmBoundary=t.BmTraffic=t.BmTile=t.BmBus=t.BmDriving=t.BmWalking=t.BmTransit=t.BmLocalSearch=t.BmContextMenuItem=t.BmContextMenu=t.BmOverlay=t.BmInfoWindow=t.BmLabel=t.BmGround=t.BmCircle=t.BmPolygon=t.BmPolyline=t.BmPointCollection=t.BmMarker=t.BmControl=t.BmPanorama=t.BmCityList=t.BmCopyright=t.BmGeolocation=t.BmOverviewMap=t.BmMapType=t.BmNavigation=t.BmScale=t.BmView=t.BaiduMap=void 0;var s=o(e),a=o(n),r=o(i),l=o(j),c=o(R),u=o($),h=o(F),p=o(W),d=o(N),f=o(D),m=o(Z),g=o(V),y=o(H),v=o(G),_=o(U),b=o(J),x=o(K),w=o(X),M=o(q),k=o(Y),C=o(Q),I=o(tt),S=o(et),B=o(nt),P=o(it),O=o(ot),E=o(st),T=o(at),z=o(rt),A=o(lt),L=o(ct),ft=o(ut),mt=o(ht),gt=o(pt),yt=o(dt);t.default={install:function(t,e){var n=e.ak;t.prototype._BMap=function(){return{ak:n}},t.component("baidu-map",s.default),t.component("bm-view",a.default),t.component("bm-scale",r.default),t.component("bm-navigation",l.default),t.component("bm-map-type",c.default),t.component("bm-overview-map",u.default),t.component("bm-geolocation",h.default),t.component("bm-copyright",p.default),t.component("bm-city-list",d.default),t.component("bm-panorama",f.default),t.component("bm-control",m.default),t.component("bm-marker",g.default),t.component("bm-point-collection",y.default),t.component("bm-polyline",v.default),t.component("bm-polygon",_.default),t.component("bm-circle",b.default),t.component("bm-ground",x.default),t.component("bm-label",w.default),t.component("bm-info-window",M.default),t.component("bm-overlay",k.default),t.component("bm-context-menu",C.default),t.component("bm-context-menu-item",I.default),t.component("bm-local-search",S.default),t.component("bm-transit",B.default),t.component("bm-walking",P.default),t.component("bm-driving",O.default),t.component("bm-bus",E.default),t.component("bm-tile",T.default),t.component("bm-traffic",z.default),t.component("bm-auto-complete",L.default),t.component("bm-boundary",A.default)}},t.BaiduMap=s.default,t.BmView=a.default,t.BmScale=r.default,t.BmNavigation=l.default,t.BmMapType=c.default,t.BmOverviewMap=u.default,t.BmGeolocation=h.default,t.BmCopyright=p.default,t.BmCityList=d.default,t.BmPanorama=f.default,t.BmControl=m.default,t.BmMarker=g.default,t.BmPointCollection=y.default,t.BmPolyline=v.default,t.BmPolygon=_.default,t.BmCircle=b.default,t.BmGround=x.default,t.BmLabel=w.default,t.BmInfoWindow=M.default,t.BmOverlay=k.default,t.BmContextMenu=C.default,t.BmContextMenuItem=I.default,t.BmLocalSearch=S.default,t.BmTransit=B.default,t.BmWalking=P.default,t.BmDriving=O.default,t.BmBus=E.default,t.BmTile=T.default,t.BmTraffic=z.default,t.BmBoundary=A.default,t.BmAutoComplete=L.default,t.BmlMarkerClusterer=ft.default,t.BmlLushu=mt.default,t.BmlHeatmap=gt.default,t.BmlCurveLine=yt.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;void 0!==(e="function"==typeof(i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bm-context-menu-item",props:{callback:{type:Function,default:function(){}},text:{type:String},iconUrl:{type:String},id:{type:String},disabled:{type:Boolean},seperator:{type:Boolean}},methods:{reload:function(){this.$parent.map&&this.$parent.load()}},watch:{text:function(){this.reload()},iconUrl:function(){this.reload()},id:function(){this.reload()},disabled:function(){this.reload()},iseperator:function(){this.reload()},callback:function(){this.reload()}},destroyed:function(){this.reload()},mounted:function(){this.reload()}},t.exports=e.default})?i.apply(e,[t,e]):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1)],void 0!==(e="function"==typeof(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-context-menu",props:{width:{type:Number}},mixins:[(0,i.default)("contextMenu")],methods:{load:function(){var e=this.width,i=this.BMap,o=this.map,t=this.$parent,s=this.parent=t.originInstance||o;this.originInstance&&s.removeContextMenu(this.originInstance);var a=this.originInstance=new i.ContextMenu,n=!0,r=!1,l=void 0;try{for(var c,u=this.$children[Symbol.iterator]();!(n=(c=u.next()).done);n=!0)(function(){var n=c.value;if(n.seperator)return a.addSeparator(),"continue";var t=new i.MenuItem(n.text,function(t,e){n.callback({point:t,pixel:e,BMap:i,map:o,target:s})},{width:e,id:n.id,iconUrl:n.iconUrl});n.disabled?t.disable():t.enable(),n.originInstance=t,a.addItem(t)})()}catch(e){r=!0,l=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw l}}s.addContextMenu(a)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(a){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-city-list",render:function(){},mixins:[(0,i.default)("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset,o=this;this.originInstance=new t.CityListControl({anchor:a[n],offset:i&&(0,s.createSize)(t,i),onChangeBefore:function(){o.$emit("changeBefore")},onChangeAfter:function(){o.$emit("changeAfter")}}),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(r){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-control",mixins:[(0,i.default)("control")],props:["anchor","offset"],watch:{anchor:function(t){this.originInstance.setAnchor(t)},offset:function(t){this.originInstance.setOffset(t)}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset,o=this.$el,s=function(){this.defaultAnchor=r[n||"BMAP_ANCHOR_TOP_LEFT"],this.defaultOffset=(0,a.createSize)(t,i)};s.prototype=new t.Control,s.prototype.initialize=function(t){return t.getContainer().appendChild(o)},this.originInstance=new s(n,i),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(a){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-copyright",render:function(){},mixins:[(0,i.default)("control")],props:["anchor","offset","copyright"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},copyright:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.offset,i=this.anchor,o=this.updateCopyrightList;this.originInstance=new t.CopyrightControl({anchor:a[i],offset:n&&(0,s.createSize)(t,n)}),o(),e.addControl(this.originInstance)},updateCopyrightList:function(){var n=this,i=this.BMap,o=this.map,t=this.originInstance,e=t.removeCopyright,s=t.getCopyrightCollection,a=s();a&&a.forEach(function(t){e(t.id)}),this.copyright&&this.copyright.forEach(function(t){var e=t.bounds?new i.Bounds(new i.Point(t.bounds.sw.lng,t.bounds.sw.lat),new i.Point(t.bounds.ne.lng,t.bounds.ne.lat)):o.getBounds();n.originInstance.addCopyright({id:t.id,content:t.content,bounds:e}),n.originInstance.getCopyrightCollection()})}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(c){var t,e;e=[n,i,o(1),o(4),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,i,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),l=o(i);e.default={name:"bm-geolocation",render:function(){},mixins:[(0,s.default)("control")],props:{anchor:{type:String},offset:{type:Object},showAddressBar:{type:Boolean},autoLocation:{type:Boolean},locationIcon:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},showAddressBar:function(){this.reload()},autoLocation:function(){this.reload()},locationIcon:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.showAddressBar,o=this.autoLocation,s=this.locationIcon,a=this.offset;this.originInstance=new t.GeolocationControl({anchor:c[n],showAddressBar:i,enableAutoLocation:o,offset:a&&(0,r.createSize)(t,a),locationIcon:s&&(0,r.createIcon)(t,s)}),l.default.call(this,this.originInstance),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(r){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-map-type",render:function(){},mixins:[(0,i.default)("control")],props:["type","mapTypes","anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},mapTypes:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset,o=this.type,s=[];this.mapTypes&&this.mapTypes.forEach(function(t){return s.push(r[t])}),this.originInstance=new t.MapTypeControl({anchor:r[n],offset:i&&(0,a.createSize)(t,i),type:r[o],mapTypes:s}),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(l){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-navigation",render:function(){},mixins:[(0,i.default)("control")],props:{anchor:{type:String},offset:{type:Object},type:{type:String},showZoomInfo:{type:Boolean},enableGeolocation:{type:Boolean,default:!1}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},type:function(){this.reload()},showZoomInfo:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset,o=this.type,s=this.showZoomInfo,a=this.enableGeolocation;this.originInstance=new t.NavigationControl({anchor:l[n],offset:i&&(0,r.createSize)(t,i),type:l[o],showZoomInfo:s,enableGeolocation:a}),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(c){var t,e;e=[n,i,o(2),o(1),o(4)],void 0!==(e="function"==typeof(t=function(t,e,r,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),l=o(i);e.default={name:"bm-overview-map",mixins:[(0,s.default)("control")],render:function(){},props:{anchor:{type:String},offset:{type:Object},size:{type:Object},isOpen:{type:Boolean}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()},size:function(){this.reload()},isOpen:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.isOpen,i=this.size,o=this.offset,s=this.anchor,a=[];this.mapTypes&&this.mapTypes.forEach(function(t){a.push(c[t])}),this.originInstance=new t.OverviewMapControl({anchor:c[s],offset:(0,r.createSize)(t,o),size:(0,r.createSize)(t,i),isOpen:n}),l.default.call(this,this.originInstance),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(s){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-panorama",mixins:[(0,i.default)("control")],render:function(){},props:["anchor","offset"],watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset;this.originInstance=new t.PanoramaControl({anchor:s[n],offset:i&&(0,o.createSize)(t,i)}),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(n,i,o){!function(s){var t,e;e=[n,i,o(1),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-scale",render:function(){},mixins:[(0,i.default)("control")],props:{anchor:{type:String},offset:{type:Object}},watch:{anchor:function(){this.reload()},offset:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.anchor,i=this.offset;this.originInstance=new t.ScaleControl({anchor:s[n],offset:i&&(0,o.createSize)(t,i)}),e.addControl(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(78),n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,o,h){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var p=s(n),a=s(i),d=s(o),f=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"];e.default={name:"bml-curve-line",render:function(){},mixins:[(0,a.default)("overlay")],props:{points:{type:Array,default:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{points:{handler:function(t,e){this.originInstance.disableEditing(),this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.points,i=this.strokeColor,o=this.strokeWeight,s=this.strokeOpacity,a=this.strokeStyle,r=this.editing,l=this.massClear,c=this.clicking,u=new p.default(n.map(function(t){return(0,h.createPoint)(e,t)}),{strokeColor:i,strokeWeight:o,strokeOpacity:s,strokeStyle:a,enableMassClear:l,enableClicking:c});r?u.enableEditing():u.disableEditing(),this.originInstance=u,t.addOverlay(u),d.default.call(this,u,f)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(79)],void 0!==(e="function"==typeof(i=function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),r=o(i);e.default={name:"bml-heatmap",render:function(){},mixins:[(0,s.default)("overlay")],props:{data:{type:Array,default:Array},max:{type:Number},radius:{type:Number},gradient:{type:Object},opacity:{type:Number}},watch:{data:{handler:function(){this.reload()},deep:!0},max:function(){this.reload()},radius:function(t){var e=this.originInstance,n=this.opacity,i=this.gradient;e.setOptions({radius:t,opacity:n,gradient:i})},gradient:{handler:function(t){var e=this.originInstance,n=this.radius,i=this.opacity;e.setOptions({radius:n,opacity:i,gradient:t})},deep:!0},opacity:function(t){var e=this.originInstance,n=this.radius,i=this.gradient;e.setOptions({radius:n,opacity:t,gradient:i})}},methods:{load:function(){var t=this.map,e=this.data,n=this.max,i=this.radius,o=this.opacity,s=this.gradient,a=this.originInstance=new r.default({radius:i,opacity:o,gradient:s});t.addOverlay(a),a.setDataSet({data:e,max:n})}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(2),n(80)],void 0!==(e="function"==typeof(i=function(t,e,n,d,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),f=o(i);e.default={name:"bm-lushu",render:function(t){},mixins:[(0,s.default)("lushu")],props:{path:{type:Array,default:[]},landmarkPois:{type:Array,default:function(){return[]}},icon:{type:Object},speed:{type:Number,default:4e3},content:{type:String,default:""},autoView:{type:Boolean,default:!1},rotation:{type:Boolean,default:!1},infoWindow:{type:Boolean,default:!0},play:{type:Boolean,default:!0}},watch:{path:{handler:function(t){this.reload()},deep:!0},landmarkPois:{handler:function(t){this.reload()},deep:!0},icon:{handler:function(t){var e=this.originInstance,n=(this.content,(0,d.createIcon)(BMap,t));e._opts.icon=n,e._marker=n},deep:!0},speed:function(t){var e=this.originInstance;this.content;e._opts.speed=t},content:function(t){var e=this.originInstance,n=this.infoWindow;t&&n?e.showInfoWindow():e.hideInfoWindow(),e._opts.defaultContent=t,e._overlay&&e._overlay.setHtml(t)},autoView:function(t){var e=this.originInstance;this.content;e._opts.autoView=t},rotation:function(t){var e=this.originInstance;this.content;e._opts.enableRotation=t},infoWindow:function(t){var e=this.originInstance,n=this.content;e&&t&&n?e.showInfoWindow():e.hideInfoWindow()},play:function(t){var e=this.originInstance;t&&e?e.start():!this._isEnd&&e.pause()}},methods:{load:function(){var e=this,t=this.BMap,n=this.map,i=this.path,o=this.landmarkPois,s=this.icon,a=this.speed,r=this.content,l=this.autoView,c=this.rotation,u=this.infoWindow,h=this.play,p=this.originInstance=new f.default(n,i,{enableRotation:c,landmarkPois:o,showInfoWindow:u,defaultContent:r,icon:s&&(0,d.createIcon)(t,s),speed:a,autoView:l,onstart:function(t){e._isEnd=!1,e.$emit("start")},onstop:function(t){e._isEnd=!0,e.$emit("stop")},onpause:function(t){return e.$emit("pause")}});h&&i.length&&p.start(this),i.length&&(r&&u?p.showInfoWindow():p.hideInfoWindow())}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(81),n(2),n(1)],void 0!==(e="function"==typeof(i=function(t,e,n,l,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var c=o(n),s=o(i);e.default={name:"bml-marker-clusterer",mixins:[(0,s.default)("markerClusterer")],props:{gridSize:{type:Object},maxZoom:{type:Number},minClusterSize:{type:Number},styles:{type:Array,default:function(){return[]}},averageCenter:{type:Boolean,default:!1}},watch:{gridSize:{handler:function(t){var e=this.BMap;this.originInstance.setGridSize(e,t.map)},deep:!0},maxZoom:function(t){this.originInstance.setMaxZoom(t)},minClusterSize:{handler:function(t){var e=this.BMap;this.originInstance.setMinClusterSize((0,l.createSize)(e,t))},deep:!0},styles:{handler:function(t){var e=this.BMap,n=this.originInstance,i=JSON.parse(JSON.stringify(t)).map(function(t){return t.size=t.size&&(0,l.createSize)(e,t.size),t});n.setStyles(i)},deep:!0},averageCenter:function(t){this.reload()}},methods:{load:function(){var e=this,n=this.BMap,t=this.map,i=this.gridSize,o=this.minClusterSize,s=this.maxZoom,a=this.styles,r=this.averageCenter;this.originInstance=new c.default(t,{gridSize:i&&(0,l.createSize)(n,i),maxZoom:s,minClusterSize:o&&(0,l.createSize)(n,o),styles:a.map(function(t){return t.size=(0,l.createSize)(n,t.size),t}),isAverageCenter:r}),this.$nextTick(function(){var t=e.$children.map(function(t){return t.originInstance}).filter(function(t){return t instanceof n.Marker});e.originInstance.addMarkers(t)})}},beforeCreate:function(){this.preventChildrenRender=!0}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-tile",render:function(t){},mixins:[(0,i.default)("layer")],props:{transparentPng:{type:Boolean},tileUrlTemplate:{type:String},copyright:{},zIndex:{type:Number}},watch:{transparentPng:function(){this.reload()},tileUrlTemplate:function(){this.reload()},copyright:function(){this.reload()},zIndex:function(){this.reload()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.transparentPng,i=this.tileUrlTemplate,o=this.copyright,s=this.zIndex;this.originInstance=new t.TileLayer({transparentPng:n,tileUrlTemplate:i,copyright:o&&{id:o.id,content:o.content,bounds:o.bounds&&(0,a.createBounds)(o.bounds)},zIndex:s}),e.addTileLayer(this.originInstance)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1)],void 0!==(e="function"==typeof(i=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-triffic",render:function(t){},mixins:[(0,i.default)("layer")],props:{predictDate:{type:Object}},watch:{"pridictDate.weekday":function(){this.reload()},"pridictDate.hour":function(){this.reload()},pridictDate:function(){this.reload()}},methods:{load:function(){var t=this.pridictDate,e=this.BMap,n=this.map;this.originInstance=new e.TrafficLayer({pridictDate:t}),n.addTileLayer(this.originInstance)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(p){var t,e;e=[n,i,o(4),o(5)],void 0!==(e="function"==typeof(t=function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(t,e){var n=this.map,i=this.zoom;"String"===(0,o.checkType)(t)&&t!==e&&n.centerAndZoom(t,i)},"center.lng":function(t,e){var n=this.BMap,i=this.map,o=this.zoom,s=this.center;t!==e&&t>=-180&&t<=180&&i.centerAndZoom(new n.Point(t,s.lat),o)},"center.lat":function(t,e){var n=this.BMap,i=this.map,o=this.zoom,s=this.center;t!==e&&t>=-74&&t<=74&&i.centerAndZoom(new n.Point(s.lng,t),o)},zoom:function(t,e){var n=this.map;t!==e&&t>=3&&t<=19&&n.setZoom(t)},minZoom:function(t){this.map.setMinZoom(t)},maxZoom:function(t){this.map.setMaxZoom(t)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(t){this.map.setMapType(p[t])},dragging:function(t){var e=this.map;t?e.enableDragging():e.disableDragging()},scrollWheelZoom:function(t){var e=this.map;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom:function(t){var e=this.map;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard:function(t){var e=this.map;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging:function(t){var e=this.map;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom:function(t){var e=this.map;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom:function(t){var e=this.map;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize:function(t){var e=this.map;t?e.enableAutoResize():e.disableAutoResize()},theme:function(t){this.map.setMapStyle({styleJson:t})},"mapStyle.features":{handler:function(t,e){var n=this.map,i=this.mapStyle,o=i.style,s=i.styleJson;n.setMapStyle({styleJson:s,features:t,style:o})},deep:!0},"mapStyle.style":function(t,e){var n=this.map,i=this.mapStyle,o=i.features,s=i.styleJson;n.setMapStyle({styleJson:s,features:o,style:t})},"mapStyle.styleJson":{handler:function(t,e){var n=this.map,i=this.mapStyle,o=i.features,s=i.style;n.setMapStyle({styleJson:t,features:o,style:s})},deep:!0},mapStyle:function(t){var e=this.map;!this.theme&&e.setMapStyle(t)}},methods:{setMapOptions:function(){var t=this.map,e=this.minZoom,n=this.maxZoom,i=this.mapType,o=this.dragging,s=this.scrollWheelZoom,a=this.doubleClickZoom,r=this.keyboard,l=this.inertialDragging,c=this.continuousZoom,u=this.pinchToZoom,h=this.autoResize;e&&t.setMinZoom(e),n&&t.setMaxZoom(n),i&&t.setMapType(p[i]),o?t.enableDragging():t.disableDragging(),s?t.enableScrollWheelZoom():t.disableScrollWheelZoom(),a?t.enableDoubleClickZoom():t.disableDoubleClickZoom(),r?t.enableKeyboard():t.disableKeyboard(),l?t.enableInertialDragging():t.disableInertialDragging(),c?t.enableContinuousZoom():t.disableContinuousZoom(),u?t.enablePinchToZoom():t.disablePinchToZoom(),h?t.enableAutoResize():t.disableAutoResize()},init:function(t){if(!this.map){var e=this.$refs.view,n=!0,i=!1,o=void 0;try{for(var s,a=(this.$slots.default||[])[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;r.componentOptions&&"bm-view"===r.componentOptions.tag&&(this.hasBmView=!0,e=r.elm)}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}var l=new t.Map(e,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=l;var c=this.setMapOptions,u=this.zoom,h=this.getCenterPoint,p=this.theme,d=this.mapStyle;p?l.setMapStyle({styleJson:p}):l.setMapStyle(d),c(),f.default.call(this,l),l.reset(),l.centerAndZoom(h(),u),this.$emit("ready",{BMap:t,map:l})}},getCenterPoint:function(){var t=this.center,e=this.BMap;switch((0,o.checkType)(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap:function(t){this.BMap=t,this.init(t)},getMapScript:function(){if(p.BMap)return p.BMap._preloader?p.BMap._preloader:Promise.resolve(p.BMap);var i=this.ak||this._BMap().ak;return p.BMap={},p.BMap._preloader=new Promise(function(t,e){p._initBaiduMap=function(){t(p.BMap),p.document.body.removeChild(n),p.BMap._preloader=null,p._initBaiduMap=null};var n=document.createElement("script");p.document.body.appendChild(n),n.src="https://api.map.baidu.com/api?v=2.0&ak="+i+"&callback=_initBaiduMap"}),p.BMap._preloader},reset:function(){var t=this.getMapScript,e=this.initMap;t().then(e)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;void 0!==(e="function"==typeof(i=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"bm-view"},t.exports=e.default})?i.apply(e,[t,e]):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(4)],void 0!==(e="function"==typeof(i=function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),a=o(i);e.default={name:"bm-autocomplete",mixins:[(0,s.default)()],props:{types:{type:String},location:{type:String},sugStyle:{type:Object,default:function(){return{}}}},watch:{types:function(){this.reload()},location:function(){this.reload()}},methods:{load:function(){var c=this,t=this.BMap,e=this.map,n=this.$el,i=this.types,o=this.location,u=this.sugStyle,s=n.querySelector("input");s&&(this.originInstance=new t.Autocomplete({input:s,types:i,location:o||e,onSearchComplete:function(t){var e=document.querySelectorAll(".tangram-suggestion-main"),n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value;for(var l in u)r.style[l]=u[l].toString()}}catch(t){i=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}c.$emit("searchcomplete",t)}}),this.originInstance.addEventListener("onconfirm",function(t){var e=t.item.value;c.$emit("input",e.province+e.city+e.district+e.street+e.business)}),a.default.call(this,this.originInstance))}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(6),n(1)],void 0!==(e="function"==typeof(i=function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),a=o(i),r=function(){function n(t,e){var n=[],i=!0,o=!1,s=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(o)throw s}}return n}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default={mixins:[(0,a.default)("abstract")],props:["name","strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","massClear","clicking"],data:function(){return{paths:[]}},components:{BmPolygon:s.default},watch:{name:function(){this.reload()}},methods:{load:function(){var e=this,t=this.BMap,n=this.name;(new t.Boundary).get(n,function(t){e.paths=t.boundaries.map(function(t){return(t||[]).split(";").map(function(t){return function(t){var e=r(t,2);return{lng:e[0],lat:e[1]}}(t.split(",").map(function(t){return+t}))})})})}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,v){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),_=o(i);e.default={name:"bm-circle",render:function(){},mixins:[(0,s.default)("overlay")],props:{center:{},radius:{},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{"center.lng":function(t,e){var n=this.BMap,i=this.originInstance,o=this.isEditing,s=this.disableEditing,a=this.enableEditing,r=this.center,l=this.editing;if(!o){s();var c=t;t.toString()!==e.toString()&&c>=-180&&c<=180&&i.setCenter((0,v.createPoint)(n,{lng:c,lat:r.lat})),l&&a()}},"center.lat":function(t,e){var n=this.BMap,i=this.originInstance,o=this.isEditing,s=this.disableEditing,a=this.enableEditing,r=this.center,l=this.editing;if(!o){s();var c=t;t.toString()!==e.toString()&&c>=-74&&c<=74&&i.setCenter((0,v.createPoint)(n,{lng:r.lng,lat:c})),l&&a()}},radius:function(t,e){var n=this.originInstance,i=this.isEditing,o=this.disableEditing,s=this.enableEditing,a=this.editing;i||(o(),n.setRadius(t),a&&s())},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},fillColor:function(t){this.originInstance.setFillColor(t)},fillOpacity:function(t){this.originInstance.setFillOpacity(t)},editing:function(t){t?this.enableEditing():this.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{dragStartHandler:function(){this.isEditing=!0},dragEndHandler:function(){this.isEditing=!1,this.bindEditingNodeEvents()},bindEditingNodeEvents:function(){var t=this.originInstance,e=this.editingKey,n=this.dragStartHandler,i=this.dragEndHandler;t[e].forEach(function(t){t.addEventListener("dragstart",n),t.addEventListener("dragend",i)})},enableEditing:function(){var t=this.originInstance,e=this.bindEditingNodeEvents;t.enableEditing(),e()},disableEditing:function(){this.originInstance.disableEditing()},getEditingKey:function(n){var i=this,o=[];n.enableEditing(),setTimeout(function(){for(var t in n)n[t]&&2===n[t].length&&o.push(t);n.disableEditing();for(var e in n)n[e]&&0===n[e].length&&~o.indexOf(e)&&(i.editingKey=e)},0)},load:function(){var t=this.BMap,e=this.map,n=this.center,i=this.radius,o=this.strokeColor,s=this.strokeWeight,a=this.strokeOpacity,r=this.strokeStyle,l=this.fillColor,c=this.fillOpacity,u=this.editing,h=this.massClear,p=this.clicking,d=this.enableEditing,f=this.disableEditing,m=this.getEditingKey,g=this.editingKey,y=new t.Circle((0,v.createPoint)(t,{lng:n.lng,lat:n.lat}),i,{strokeColor:o,strokeWeight:s,strokeOpacity:a,strokeStyle:r,fillColor:l,fillOpacity:c,enableMassClear:h,enableClicking:p});this.originInstance=y,e.addOverlay(y),_.default.call(this,y),!g&&m(y),setTimeout(function(){u?d():f()},0)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,l){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),c=o(i);e.default={name:"bm-ground",render:function(){},mixins:[(0,s.default)("overlay")],props:{bounds:{type:Object},opacity:{type:Number},imageURL:{type:String},displayOnMinLevel:{type:Number},displayOnMaxLevel:{type:Number}},watch:{bounds:{handler:function(t){var e=this.BMap;this.originInstance.setBounds((0,l.createBounds)(e,t))},deep:!0},opacity:function(t){this.originInstance.setOpacity(t)},imageURL:function(t){this.originInstance.setImageURL(t)},displayOnMinLevel:function(t){this.originInstance.setDisplayOnMinLevel(t)},displayOnMaxLevel:function(t){this.originInstance.setDisplayOnMaxLevel(t)}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.bounds,i=this.opacity,o=this.imageURL,s=this.displayOnMinLevel,a=this.displayOnMaxLevel,r=new t.GroundOverlay(n&&(0,l.createBounds)(t,n),{opacity:i,imageURL:o,displayOnMaxLevel:a,displayOnMinLevel:s});r.setImageURL(o),this.originInstance=r,c.default.call(this,r),e.addOverlay(r)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(a){var t,e;e=[n,i,o(1),o(4),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,i,g){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),y=o(i);e.default={name:"bm-info-window",mixins:[(0,s.default)("overlay")],props:{show:{type:Boolean},position:{type:Object},title:{type:String},width:{type:Number},height:{type:Number},maxWidth:{type:Number},offset:{type:Object},maximize:{type:Boolean},autoPan:{type:Boolean},closeOnClick:{type:Boolean,default:!0},message:{type:String}},watch:{show:function(t){t?this.openInfoWindow():this.closeInfoWindow()},"position.lng":function(t,e){this.reload()},"position.lat":function(t,e){this.reload()},"offset.width":function(t,e){this.reload()},"offset.height":function(t){this.reload()},maxWidth:function(){this.reload()},width:function(t){this.originInstance.setWidth(t)},height:function(t){this.originInstance.setHeight(t)},title:function(t){this.originInstance.setTitle(t)},maximize:function(t){t?this.originInstance.enableMaximize():this.originInstance.disableMaximize()},autoPan:function(t){t?this.originInstance.enableAutoPan():this.originInstance.disableAutoPan()},closeOnClick:function(t){t?this.originInstance.enableCloseOnClick():this.originInstance.disableCloseOnClick()}},methods:{redraw:function(){this.originInstance.redraw()},load:function(){var t=this.BMap,e=this.map,n=this.show,i=this.title,o=this.width,s=this.height,a=this.maxWidth,r=this.offset,l=this.autoPan,c=this.closeOnClick,u=this.message,h=this.maximize,p=this.bindObserver,d=this.$parent,f=this.$el,m=new t.InfoWindow(f,{width:o,height:s,title:i,maxWidth:a,offset:(0,g.createSize)(t,r),enableAutoPan:l,enableCloseOnClick:c,enableMessage:void 0===u,message:u});h?m.enableMaximize():m.disableMaximize(),y.default.call(this,m),this.originInstance=m,m.redraw(),[].forEach.call(f.querySelectorAll("img"),function(t){t.onload=function(){return m.redraw()}}),p(),this.$container=d.originInstance&&d.originInstance.openInfoWindow?d.originInstance:e,n&&this.openInfoWindow()},bindObserver:function(){var t=a.MutationObserver;if(t){var e=this.$el,n=this.originInstance;this.observer=new t(function(t){return n.redraw()}),this.observer.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}},openInfoWindow:function(){var t=this.BMap,e=this.$container,n=this.position,i=this.originInstance;e.openInfoWindow(i,(0,g.createPoint)(t,n))},closeInfoWindow:function(){this.$container.closeInfoWindow(this.originInstance)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,h){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),p=o(i);e.default={name:"bm-label",render:function(){},mixins:[(0,s.default)("overlay")],props:{content:{type:String},title:{type:String},offset:{},position:{},labelStyle:{},zIndex:{type:Number,default:0},massClear:{type:Boolean,default:!0}},watch:{content:function(t){this.originInstance.setContent(t)},title:function(t){this.originInstance.setTitle(t)},"offset.width":function(t,e){var n=this.BMap;t.toString()!==e.toString()&&this.originInstance.setOffset((0,h.createSize)(n,{width:t,height:this.offset.height}))},"offset.height":function(t,e){var n=this.BMap;t.toString()!==e.toString()&&this.originInstance.setOffset((0,h.createSize)(n,{width:this.offset.width,height:t}))},"position.lng":function(t,e){var n=this.BMap,i=t;t.toString()!==e.toString()&&i>=-180&&i<=180&&this.originInstance.setCenter((0,h.createPoint)(n,{lng:i,lat:this.center.lat}))},"position.lat":function(t,e){var n=this.BMap,i=t;t.toString()!==e.toString()&&i>=-74&&i<=74&&this.originInstance.setCenter((0,h.createPoint)(n,{lng:this.center.lng,lat:i}))},labelStyle:{handler:function(t){this.originInstance.setStyle(t)},deep:!0},zIndex:function(t){this.originInstance.setZIndex(t)},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.content,i=this.title,o=this.offset,s=this.position,a=this.labelStyle,r=this.zIndex,l=this.massClear,c=this.$parent,u=new t.Label(n,{offset:(0,h.createSize)(t,o),position:(0,h.createPoint)(t,s),enableMassClear:l});this.originInstance=u;try{c.originInstance.setLabel(u)}catch(t){e.addOverlay(u)}i&&u.setTitle(i),a&&u.setStyle(a),r&&u.setZIndex(r),p.default.call(this,u)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(w){var t,e;e=[n,i,o(1),o(4),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,i,b){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),x=o(i);e.default={name:"bm-marker",mixins:[(0,s.default)("overlay")],props:{position:{},offset:{},icon:{},massClear:{type:Boolean,default:!0},dragging:{type:Boolean,default:!1},clicking:{type:Boolean,default:!0},raiseOnDrag:{type:Boolean,default:!1},draggingCursor:{type:String},rotation:{type:Number},shadow:{type:Object},title:{type:String},label:{type:Object},animation:{type:String},top:{type:Boolean,default:!1},zIndex:{type:Number,default:0}},watch:{"position.lng":function(t,e){var n=this.BMap,i=this.originInstance,o=this.position,s=this.renderByParent,a=this.$parent;t!==e&&t>=-180&&t<=180&&i.setPosition((0,b.createPoint)(n,{lng:t,lat:o.lat})),s&&a.reload()},"position.lat":function(t,e){var n=this.BMap,i=this.originInstance,o=this.position,s=this.renderByParent,a=this.$parent;t!==e&&t>=-74&&t<=74&&i.setPosition((0,b.createPoint)(n,{lng:o.lng,lat:t})),s&&a.reload()},"offset.width":function(t,e){var n=this.BMap,i=this.originInstance;t!==e&&i.setOffset(new n.Size(t,this.offset.height))},"offset.height":function(t,e){var n=this.BMap,i=this.originInstance;t!==e&&i.setOffset(new n.Size(this.offset.width,t))},icon:{deep:!0,handler:function(t){var e=this.BMap,n=this.originInstance,i=this.rotation;n&&n.setIcon((0,b.createIcon)(e,t)),i&&n&&n.setRotation(i)}},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},dragging:function(t){t?this.originInstance.enableDragging():this.originInstance.disableDragging()},clicking:function(){this.reload()},raiseOnDrag:function(){this.reload()},draggingCursor:function(t){this.originInstance.setDraggingCursor(t)},rotation:function(t){this.originInstance.setRotation(t)},shadow:function(t){this.originInstance.setShadow(t)},title:function(t){this.originInstance.setTitle(t)},label:function(t){this.reload()},animation:function(t){this.originInstance.setAnimation(w[t])},top:function(t){this.originInstance.setTop(t)},zIndex:function(t){this.originInstance.setZIndex(t)}},methods:{load:function(){var t=this.BMap,e=this.map,n=this.position,i=this.offset,o=this.icon,s=this.massClear,a=this.dragging,r=this.clicking,l=this.raiseOnDrag,c=this.draggingCursor,u=this.rotation,h=this.shadow,p=this.title,d=this.label,f=this.animation,m=this.top,g=this.renderByParent,y=this.$parent,v=this.zIndex,_=new t.Marker(new t.Point(n.lng,n.lat),{offset:i,icon:o&&(0,b.createIcon)(t,o),enableMassClear:s,enableDragging:a,enableClicking:r,raiseOnDrag:l,draggingCursor:c,rotation:u,shadow:h,title:p});this.originInstance=_,d&&_&&_.setLabel((0,b.createLabel)(t,d)),_.setTop(m),_.setZIndex(v),x.default.call(this,_),g?y.reload():e.addOverlay(_),_.setAnimation(w[f])}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(1)],void 0!==(e="function"==typeof(i=function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n),u=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();e.default={name:"bm-overlay",mixins:[(0,i.default)("overlay")],props:{pane:{type:String}},watch:{pane:function(){this.reload()}},methods:{load:function(){var n=this.BMap,i=this.map,o=this.$el,s=this.pane,a=this.$emit.bind(this),t=function(t){function e(){return r(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),u(e,[{key:"initialize",value:function(){a("initialize",{BMap:n,map:i,el:o,overlay:this});try{i.getPanes()[s].appendChild(o)}catch(t){}return o}},{key:"draw",value:function(){a("draw",{BMap:n,map:i,el:o,overlay:this})}}]),e}(n.Overlay),e=new t;this.originInstance=e,i.addOverlay(e)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(c){var t,e;e=[n,i,o(1),o(4),o(2)],void 0!==(e="function"==typeof(t=function(t,e,n,i,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),l=o(i);e.default={render:function(){},name:"bm-point-collection",mixins:[(0,s.default)("overlay")],props:{points:{type:Array,default:function(){return[]}},shape:{type:String,default:"BMAP_POINT_SHAPE_CIRCLE"},color:{type:String},size:{type:String,default:"BMAP_POINT_SIZE_NORMAL"}},watch:{shape:function(t){var e=this.originInstance,n=this.color,i=this.size;e.setStyles({shape:c[t],color:n,size:c[i]})},size:function(t){var e=this.originInstance,n=this.color,i=this.shape;e.setStyles({shape:c[i],color:n,size:c[t]})},color:function(t){var e=this.originInstance,n=this.shape,i=this.size;e.setStyles({shape:c[n],color:t,size:c[i]})},points:{deep:!0,handler:function(t){var e=this.originInstance;e.clear(),e.setPoints(t)}}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.points,i=this.shape,o=this.color,s=this.size,a=this.originInstance=new e.PointCollection(n.map(function(t){return(0,r.createPoint)(e,t)}),{shape:c[i],color:o,size:c[s]});l.default.call(this,a),t.addOverlay(a)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,d){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),f=o(i);e.default={name:"bm-polygon",render:function(){},mixins:[(0,s.default)("overlay")],props:{path:{type:Array,default:function(){return[]}},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},fillColor:{type:String},fillOpacity:{type:Number},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(t,e){this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},fillColor:function(t){this.originInstance.setFillColor(t)},fillOpacity:function(t){this.originInstance.setFillOpacity(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.path,i=this.strokeColor,o=this.strokeWeight,s=this.strokeOpacity,a=this.strokeStyle,r=this.fillColor,l=this.fillOpacity,c=this.editing,u=this.massClear,h=this.clicking,p=new e.Polygon(n.map(function(t){return(0,d.createPoint)(e,{lng:t.lng,lat:t.lat})}),{strokeColor:i,strokeWeight:o,strokeOpacity:s,strokeStyle:a,fillColor:r,fillOpacity:l,enableMassClear:u,enableClicking:h});this.originInstance=p,t.addOverlay(p),f.default.call(this,p),c?p.enableEditing():p.disableEditing()}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(1),n(4),n(2)],void 0!==(e="function"==typeof(i=function(t,e,n,i,h){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(n),p=o(i);e.default={name:"bm-polyline",render:function(){},mixins:[(0,s.default)("overlay")],props:{path:{type:Array},strokeColor:{type:String},strokeWeight:{type:Number},strokeOpacity:{type:Number},strokeStyle:{type:String},massClear:{type:Boolean,default:!0},clicking:{type:Boolean,default:!0},editing:{type:Boolean,default:!1}},watch:{path:{handler:function(t,e){this.reload()},deep:!0},strokeColor:function(t){this.originInstance.setStrokeColor(t)},strokeOpacity:function(t){this.originInstance.setStrokeOpacity(t)},strokeWeight:function(t){this.originInstance.setStrokeWeight(t)},strokeStyle:function(t){this.originInstance.setStrokeStyle(t)},editing:function(t){t?this.originInstance.enableEditing():this.originInstance.disableEditing()},massClear:function(t){t?this.originInstance.enableMassClear():this.originInstance.disableMassClear()},clicking:function(t){this.reload()}},methods:{load:function(){var e=this.BMap,t=this.map,n=this.path,i=this.strokeColor,o=this.strokeWeight,s=this.strokeOpacity,a=this.strokeStyle,r=this.editing,l=this.massClear,c=this.clicking,u=new e.Polyline(n.map(function(t){return(0,h.createPoint)(e,{lng:t.lng,lat:t.lat})}),{strokeColor:i,strokeWeight:o,strokeOpacity:s,strokeStyle:a,enableEditing:r,enableMassClear:l,enableClicking:c});this.originInstance=u,t.addOverlay(u),p.default.call(this,u)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){var i;n=[t,e,n(2),n(5),n(1)],void 0!==(e="function"==typeof(i=function(t,e,p,d,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-bus",mixins:[(0,i.default)("search")],props:{location:{type:[Object,String]},keyword:{type:String},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},keyword:function(t){this.search(t)},panel:function(){this.reload()},autoViewport:function(t){this.reload()},selectFirstResult:function(t){this.reload()}},methods:{search:function(t){this.originInstance.getBusList(t)},load:function(){var e=this,t=this.location,n=this.selectFirstResult,i=this.autoViewport,o=this.highlightMode,s=this.keyword,a=this.search,r=this.BMap,l=this.map,c=this.originInstance,u=t?(0,d.isPoint)(t)?(0,p.createPoint)(r,t):t:l,h=this.originInstance=new r.BusLineSearch(u,{renderOptions:{map:l,panel:this.$el,selectFirstResult:n,autoViewport:i,highlightMode:o},onGetBusListComplete:function(t){c&&c!==h&&c.clearResults(),e.$emit("getbuslistcomplete",t)},onGetBusLineComplete:function(t){c&&c!==h&&c.clearResults(),e.$emit("getbuslinecomplete",t)},onBusListHtmlSet:function(t){e.$emit("buslisthtmlset",t)},onBusLineHtmlSet:function(t){e.$emit("buslinehtmlset",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)}});a(s)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(b){var t,e;e=[n,i,o(2),o(5),o(1)],void 0!==(e="function"==typeof(t=function(t,e,v,_,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-driving",mixins:[(0,i.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},startCity:{type:[String,Number]},endCity:{type:[String,Number]},waypoints:{type:Array},policy:{type:String},panel:{type:Boolean,default:!0},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.startCity,o=this.endCity,s=this.waypoints,a=this.BMap,r=this.getWaypoints;e.search((0,_.getPosition)(a,t),(0,_.getPosition)(a,n),{startCity:i,endCity:o,waypoints:r(s)})},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.startCity,o=this.endCity,s=this.waypoints,a=this.BMap,r=this.getWaypoints;e.search((0,_.getPosition)(a,n),(0,_.getPosition)(a,t),{startCity:i,endCity:o,waypoints:r(s)})},deep:!0},startCity:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.endCity,s=this.waypoints,a=this.getWaypoints;e.search(n,i,{val:t,endCity:o,waypoints:a(s)})},endCity:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.startCity,s=this.waypoints,a=this.getWaypoints;e.search(n,i,{startCity:o,val:t,waypoints:a(s)})},waypoints:{handler:function(t){var e=this.originInstance,n=this.start,i=this.end,o=this.startCity,s=this.endCity,a=this.getWaypoints;e.search(n,i,{startCity:o,endCity:s,waypoints:a(t)})},deep:!0},panel:function(){this.reload()},policy:function(t){this.reload()},autoViewport:function(){this.reload()},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e,n){var i=n.startCity,o=n.endCity,s=n.waypoints,a=this.originInstance,r=this.getWaypoints;a.search(t,e,{startCity:i,endCity:o,waypoints:r(s)})},getWaypoints:function(t){var e=this.BMap;if(t)return t.map(function(t){return(0,_.getPosition)(e,t)})},load:function(){var e=this,t=this.map,n=this.BMap,i=this.location,o=this.policy,s=this.selectFirstResult,a=this.autoViewport,r=this.highlightMode,l=this.search,c=this.start,u=this.end,h=this.startCity,p=this.endCity,d=this.waypoints,f=this.originInstance,m=this.getWaypoints,g=i?(0,_.isPoint)(i)?(0,v.createPoint)(n,i):i:t,y=this.originInstance=new n.DrivingRoute(g,{renderOptions:{map:t,panel:this.$el,selectFirstResult:s,autoViewport:a,highlightMode:r},policy:b[o],onSearchComplete:function(t){f&&f!==y&&f.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});l((0,_.getPosition)(n,c),(0,_.getPosition)(n,u),{startCity:h,endCity:p,waypoints:m(d)})}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(2),n(5),n(1)],void 0!==(e="function"==typeof(i=function(t,e,p,d,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-local-search",mixins:[(0,i.default)("search")],props:{location:{type:[Object,String]},keyword:{type:[Array,String]},panel:{type:Boolean,default:!0},forceLocal:{type:Boolean},customData:{type:Object},bounds:{type:Object},nearby:{type:Object},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.search;e.setLocation(t||this.map),n()},deep:!0},keyword:function(){this.search()},bounds:{handler:function(t){(0,this.searchInBounds)(t)},deep:!0},nearby:{handler:function(t){(0,this.searchNearby)(t)},deep:!0},forceLocal:function(){this.reload()},customData:{deep:!0,handler:function(){this.reload()}},pageCapacity:function(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport:function(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(t){this.originInstance&&(t?this.originInstance.enableFirstResultSelection():this.originInstance.disableFirstResultSelection())},highlightMode:function(){this.reload()}},methods:{searchNearby:function(t){var e=this.originInstance,n=this.keyword,i=this.customData,o=this.BMap;e.searchNearby(n,(0,p.createPoint)(o,t.center),t.radius,i)},searchInBounds:function(t){var e=this.originInstance,n=this.keyword,i=this.customData,o=this.BMap;e.searchInBounds(n,(0,p.createBounds)(o,t),i)},search:function(){var t=this.originInstance,e=this.keyword,n=this.forceLocal,i=this.customData,o=this.nearby,s=this.bounds,a=this.searchNearby,r=this.searchInBounds;o?a(o):s?r(s):t.search(e,{forceLocal:n,customData:i})},load:function(){var e=this,t=this.map,n=this.BMap,i=this.search,o=this.pageCapacity,s=this.autoViewport,a=this.selectFirstResult,r=this.highlightMode,l=this.location,c=this.originInstance,u=l?(0,d.isPoint)(l)?(0,p.createPoint)(n,l):l:t,h=this.originInstance=new n.LocalSearch(u,{onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)},onSearchComplete:function(t){c&&c!==h&&c.clearResults(),e.$emit("searchcomplete",t)},pageCapacity:o,renderOptions:{map:t,panel:this.$el,selectFirstResult:a,autoViewport:s,highlightMode:r}});i()}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(n,i,o){!function(y){var t,e;e=[n,i,o(2),o(5),o(1)],void 0!==(e="function"==typeof(t=function(t,e,m,g,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-transit",mixins:[(0,i.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},policy:{type:String},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.BMap;e.search((0,g.getPosition)(i,t),(0,g.getPosition)(i,n))},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.BMap;e.search((0,g.getPosition)(i,n),(0,g.getPosition)(i,t))},deep:!0},panel:function(){this.reload()},policy:function(t){this.originInstance.setPolicy(y[t])},pageCapacity:function(t){this.originInstance&&this.originInstance.setPageCapacity(t)},autoViewport:function(t){this.originInstance&&(t?this.originInstance.enableAutoViewport():this.originInstance.disableAutoViewport())},selectFirstResult:function(){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e){this.originInstance.search(t,e)},load:function(){var e=this,t=this.map,n=this.BMap,i=this.location,o=this.policy,s=this.pageCapacity,a=this.selectFirstResult,r=this.autoViewport,l=this.highlightMode,c=this.search,u=this.start,h=this.end,p=this.originInstance,d=i?(0,g.isPoint)(i)?(0,m.createPoint)(n,i):i:t,f=this.originInstance=new n.TransitRoute(d,{renderOptions:{map:t,panel:this.$el,selectFirstResult:a,autoViewport:r,highlightMode:l},policy:y[o],pageCapacity:s,onSearchComplete:function(t){p&&p!==f&&p.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});c((0,g.isPoint)(u)?(0,m.createPoint)(n,u):u,(0,g.isPoint)(h)?(0,m.createPoint)(n,h):h)}}},t.exports=e.default})?t.apply(i,e):t)&&(n.exports=e)}.call(i,o(3))},function(t,e,n){var i;n=[t,e,n(2),n(5),n(1)],void 0!==(e="function"==typeof(i=function(t,e,d,f,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"bm-walking",mixins:[(0,i.default)("search")],props:{location:{type:[Object,String]},start:{type:[Object,String]},end:{type:[Object,String]},panel:{type:Boolean,default:!0},pageCapacity:{type:Number},autoViewport:{type:Boolean},selectFirstResult:{type:Boolean}},watch:{location:{handler:function(t){var e=this.originInstance,n=this.map;e.setLocation(t||n)},deep:!0},start:{handler:function(t){var e=this.originInstance,n=this.end,i=this.BMap;e.search((0,f.getPosition)(i,t),(0,f.getPosition)(i,n))},deep:!0},end:{handler:function(t){var e=this.originInstance,n=this.start,i=this.BMap;e.search((0,f.getPosition)(i,n),(0,f.getPosition)(i,t))},deep:!0},panel:function(){this.reload()},autoViewport:function(t){this.reload()},selectFirstResult:function(t){this.reload()},highlightMode:function(){this.reload()}},methods:{search:function(t,e){this.originInstance.search(t,e)},load:function(){var e=this,t=this.map,n=this.BMap,i=this.location,o=this.selectFirstResult,s=this.autoViewport,a=this.highlightMode,r=this.search,l=this.start,c=this.end,u=this.originInstance,h=i?(0,f.isPoint)(i)?(0,d.createPoint)(n,i):i:t,p=this.originInstance=new n.WalkingRoute(h,{renderOptions:{map:t,panel:this.$el,selectFirstResult:o,autoViewport:s,highlightMode:a},onSearchComplete:function(t){u&&u!==p&&u.clearResults(),e.$emit("searchcomplete",t)},onMarkersSet:function(t){e.$emit("markersset",t)},onInfoHtmlSet:function(t){e.$emit("infohtmlset",t)},onPolylinesSet:function(t){e.$emit("polylinesset",t)},onResultsHtmlSet:function(t){e.$emit("resultshtmlset",t)}});r((0,f.isPoint)(l)?(0,d.createPoint)(n,l):l,(0,f.isPoint)(c)?(0,d.createPoint)(n,c):c)}}},t.exports=e.default})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){function i(t){for(var e=[],n=0;n<t.length-1;n++){var i=function(t,e){var n=[];if(!(t&&e&&t instanceof BMap.Point&&e instanceof BMap.Point))return null;function i(t){return 1-2*t+t*t}function o(t){return 2*t-2*t*t}function s(t){return t*t}var a,r,l,c=0,u=0;if(void 0!==e){var h=parseFloat(t.lat),p=parseFloat(e.lat),d=parseFloat(t.lng),f=parseFloat(e.lng);for(d<f&&180<parseFloat(f-d)&&d<0&&(d=parseFloat(360+d)),f<d&&180<parseFloat(d-f)&&f<0&&(f=parseFloat(360+f)),t=0,e=p==h?(a=0,d-f):f==d?(a=Math.PI/2,h-p):(a=Math.atan((p-h)/(f-d)),(p-h)/Math.sin(a)),0==t&&(t=a+Math.PI/5),l=(a=e/2)*Math.cos(t)+d,r=a*Math.sin(t)+h,c=0;c<31;c++)n.push(new BMap.Point(d*i(u)+l*o(u)+f*s(u),h*i(u)+r*o(u)+p*s(u))),u+=1/30;return n}void 0!==n&&(n=[])}(t[n],t[n+1]);i&&0<i.length&&(e=e.concat(i))}return e}t.exports=function(t,e){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}var n=i(t),e=new BMap.Polyline(n,e);return e.addEventListener("lineupdate",function(){this.isEditing&&this.enableEditing()}),e.cornerPoints=t,e.editMarkers=[],e.enableEditing=function(){var n=this;if(n.map){n.disableEditing();for(var t=0;t<n.cornerPoints.length;t++){var e=new BMap.Marker(n.cornerPoints[t],{icon:new BMap.Icon("http://api.map.baidu.com/library/CurveLine/1.5/src/circle.png",new BMap.Size(16,16)),enableDragging:!0,raiseOnDrag:!0});e.addEventListener("dragend",function(){for(var t=n.cornerPoints.length=0;t<n.editMarkers.length;t++)n.cornerPoints.push(n.editMarkers[t].getPosition());var e=i(n.cornerPoints);n.setPath(e)}),e.index=t,n.editMarkers.push(e),n.map.addOverlay(e)}}n.isEditing=!0},e.disableEditing=function(){this.isEditing=!1;for(var t=0;t<this.editMarkers.length;t++)this.map.removeOverlay(this.editMarkers[t]),this.editMarkers[t]=null;this.editMarkers.length=0},e.getPath=function(){return n},e}},function(t,e,n){var i,l;t.exports=(i=function(){function e(t){var n={data:[],heatmap:t};this.max=1,this.get=function(t){return n[t]},this.set=function(t,e){n[t]=e}}function n(t){this.config=t;var n={element:null,labelsEl:null,gradientCfg:null,ctx:null};this.get=function(t){return n[t]},this.set=function(t,e){n[t]=e},this.init()}function i(t){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1};this.store=new e(this),this.get=function(t){return n[t]},this.set=function(t,e){n[t]=e},this.configure(t),this.init()}e.prototype={addDataPoint:function(t,e){var n,i,o;t<0||e<0||(i=(n=this).get("heatmap"),(o=n.get("data"))[t]||(o[t]=[]),o[t][e]||(o[t][e]=0),o[t][e]+=arguments.length<3?1:arguments[2],n.set("data",o),n.max<o[t][e]?(i.get("actx").clearRect(0,0,i.get("width"),i.get("height")),n.setDataSet({max:o[t][e],data:o},!0)):i.drawAlpha(t,e,o[t][e],!0))},setDataSet:function(t,e){var n=this.get("heatmap"),i=[],o=t.data,s=o.length;if(n.clear(),this.max=t.max,n.get("legend")&&n.get("legend").update(t.max),null!=e&&e){for(var a in o)if(void 0!==a)for(var r in o[a])void 0!==r&&n.drawAlpha(a,r,o[a][r],!1)}else for(;s--;){var l=o[s];n.drawAlpha(l.x,l.y,l.count,!1),i[l.x]||(i[l.x]=[]),i[l.x][l.y]||(i[l.x][l.y]=0),i[l.x][l.y]=l.count}n.colorize(),this.set("data",o)},exportDataSet:function(){var t,e=this.get("data"),n=[];for(t in e)if(void 0!==t)for(var i in e[t])void 0!==i&&n.push({x:parseInt(t,10),y:parseInt(i,10),count:e[t][i]});return{max:this.max,data:n}},generateRandomDataSet:function(t){var e=this.get("heatmap"),n=e.get("width"),i=e.get("height"),e={},o=Math.floor(1e3*Math.random()+1);e.max=o;for(var s=[];t--;)s.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*i+1),count:Math.floor(Math.random()*o+1)});e.data=s,this.setDataSet(e)}},n.prototype={init:function(){var t=this,e=t.config,n=e.title||"Legend",i=e.position,o=e.offset||10,e=(e.gradient,document.createElement("ul")),s="";t.processGradientObject(),-1<i.indexOf("t")?s+="top:"+o+"px;":s+="bottom:"+o+"px;",-1<i.indexOf("l")?s+="left:"+o+"px;":s+="right:"+o+"px;",(i=document.createElement("div")).style.cssText="border-radius:5px;position:absolute;"+s+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",i.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+n+"</h3>",e.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",(o=document.createElement("div")).style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",t.createGradientImage(),");"].join(""),i.appendChild(e),i.appendChild(o),t.set("element",i),t.set("labelsEl",e),t.update(1)},processGradientObject:function(){var t,e=this.config.gradient,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({stop:t,value:e[t]});n.sort(function(t,e){return t.stop-e.stop}),n.unshift({stop:0,value:"rgba(0,0,0,0)"}),this.set("gradientArr",n)},createGradientImage:function(){var t=this.get("gradientArr"),e=t.length,n=document.createElement("canvas"),i=n.getContext("2d");n.width="256",n.height="15";for(var o=i.createLinearGradient(0,5,256,10),s=0;s<e;s++)o.addColorStop(1/(e-1)*s,t[s].value);i.fillStyle=o,i.fillRect(0,5,256,10),i.strokeStyle="black",i.beginPath();for(s=0;s<e;s++)i.moveTo(.5+(1/(e-1)*s*256>>0),0),i.lineTo(.5+(1/(e-1)*s*256>>0),0==s?15:5);return i.moveTo(255.5,0),i.lineTo(255.5,15),i.moveTo(255.5,4.5),i.lineTo(0,4.5),i.stroke(),this.set("ctx",i),n.toDataURL()},getElement:function(){return this.get("element")},update:function(t){for(var e,n,i=this.get("gradientArr"),o=this.get("ctx"),s=this.get("labelsEl"),a="",r=0;r<i.length;r++)e=t*i[r].stop>>0,n=o.measureText(e).width/2>>0,0==r&&(n=0),r==i.length-1&&(n*=2),a+='<li style="position:absolute;left:'+(((1/(i.length-1)*r*256||0)>>0)-n+.5)+'px">'+e+"</li>";s.innerHTML=a}};return i.prototype={configure:function(t){var e=this;e.set("radius",t.radius||40),e.set("element",t.element instanceof Object?t.element:document.getElementById(t.element)),e.set("visible",null==t.visible||t.visible),e.set("max",t.max||!1),e.set("gradient",t.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),e.set("opacity",parseInt(255/(100/t.opacity),10)||180),e.set("width",t.width||0),e.set("height",t.height||0),e.set("debug",t.debug),t.legend&&((t=t.legend).gradient=e.get("gradient"),e.set("legend",new n(t)))},resize:function(){var t=this,e=t.get("element"),n=t.get("canvas"),i=t.get("acanvas");n.width=i.width=t.get("width")||e.style.width.replace(/px/,"")||t.getWidth(e),this.set("width",n.width),n.height=i.height=t.get("height")||e.style.height.replace(/px/,"")||t.getHeight(e),this.set("height",n.height)},init:function(){var t=this,e=document.createElement("canvas"),n=document.createElement("canvas"),i=e.getContext("2d"),o=n.getContext("2d"),s=t.get("element");t.initColorPalette(),t.set("canvas",e),t.set("ctx",i),t.set("acanvas",n),t.set("actx",o),t.resize(),e.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",t.get("visible")||(e.style.display="none"),s.appendChild(e),t.get("legend")&&s.appendChild(t.get("legend").getElement()),t.get("debug")&&document.body.appendChild(n),o.shadowOffsetX=15e3,o.shadowOffsetY=15e3,o.shadowBlur=15},initColorPalette:function(){var t,e,n,i=document.createElement("canvas"),o=this.get("gradient");for(n in i.width="1",i.height="256",t=(i=i.getContext("2d")).createLinearGradient(0,0,1,256),(e=i.getImageData(0,0,1,1)).data[0]=e.data[3]=64,e.data[1]=e.data[2]=0,i.putImageData(e,0,0),e=i.getImageData(0,0,1,1),this.set("premultiplyAlpha",e.data[0]<60||70<e.data[0]),o)t.addColorStop(n,o[n]);i.fillStyle=t,i.fillRect(0,0,1,256),this.set("gradient",i.getImageData(0,0,1,256).data)},getWidth:function(t){var e=t.offsetWidth;return t.style.paddingLeft&&(e+=t.style.paddingLeft),t.style.paddingRight&&(e+=t.style.paddingRight),e},getHeight:function(t){var e=t.offsetHeight;return t.style.paddingTop&&(e+=t.style.paddingTop),t.style.paddingBottom&&(e+=t.style.paddingBottom),e},colorize:function(t,e){for(var n,i,o,s,a,r=this,l=r.get("width"),c=r.get("radius"),u=r.get("height"),h=r.get("actx"),p=r.get("ctx"),c=3*c,d=r.get("premultiplyAlpha"),f=r.get("gradient"),m=r.get("opacity"),r=r.get("bounds"),t=null!=t&&null!=e?(o=(n=t=(t=l<t+c?l-c:t)<0?0:t)+c,(i=e=u<(e=e<0?0:e)+c?u-c:e)+c):(n=r.l<0?0:r.l,o=r.r>l?l:r.r,i=r.t<0?0:r.t,r.b>u?u:r.b),g=h.getImageData(n,i,o-n,t-i),y=g.data.length,v=3;v<y;v+=4)(s=4*(a=g.data[v]))&&(a=a<m?a:m,g.data[v-3]=f[s],g.data[v-2]=f[1+s],g.data[v-1]=f[2+s],d&&(g.data[v-3]/=255/a,g.data[v-2]/=255/a,g.data[v-1]/=255/a),g.data[v]=a);p.putImageData(g,n,i)},drawAlpha:function(t,e,n,i){var o=this,s=o.get("radius"),a=o.get("actx"),r=(o.get("max"),o.get("bounds")),l=t-1.5*s>>0,c=e-1.5*s>>0,u=t+1.5*s>>0,h=e+1.5*s>>0;a.shadowColor="rgba(0,0,0,"+(n?n/o.store.max:"0.1")+")",a.shadowOffsetX=15e3,a.shadowOffsetY=15e3,a.shadowBlur=15,a.beginPath(),a.arc(t-15e3,e-15e3,s,0,2*Math.PI,!0),a.closePath(),a.fill(),i?o.colorize(l,c):(l<r.l&&(r.l=l),c<r.t&&(r.t=c),u>r.r&&(r.r=u),h>r.b&&(r.b=h))},toggleDisplay:function(){var t=this.get("visible");this.get("canvas").style.display=t?"none":"block",this.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var t=this,e=t.get("width"),n=t.get("height");t.store.set("data",[]),t.get("ctx").clearRect(0,0,e,n),t.get("actx").clearRect(0,0,e,n)},cleanup:function(){this.get("element").removeChild(this.get("canvas"))}},{create:function(t){return new i(t)},util:{mousePosition:function(t){var e,n;if(t.layerX?(e=t.layerX,n=t.layerY):t.offsetX&&(e=t.offsetX,n=t.offsetY),void 0!==e)return[e,n]}}}}(),(l=function(t){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}if(!l._isExtended){l._isExtended=!0;var e,n,i=l,o=BMap.Overlay,s="HeatmapOverlay",a=i.prototype,r=new Function;for(e in r.prototype=o.prototype,n=i.prototype=new r,a)n[e]=a[e];(i.prototype.constructor=i).superClass=o.prototype,"string"==typeof s&&(n._className=s);r=new l(t);this.__proto__=r.__proto__}this.conf=t,this.heatmap=null,this.latlngs=[],this.bounds=null,this._moveendHandler=this._moveendHandler.bind(this)}).prototype.initialize=function(t){this._map=t;var e=document.createElement("div");return e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.border=0,e.style.width=this._map.getSize().width+"px",e.style.height=this._map.getSize().height+"px",this.conf.element=e,t.getPanes().mapPane.appendChild(e),this.heatmap=i.create(this.conf),this._div=e},l.prototype.draw=function(){var t=this._map.getBounds();if(!t.equals(this.bounds)){this.bounds=t;var e=this._map.pointToOverlayPixel(t.getNorthEast()),n=this._map.pointToOverlayPixel(t.getSouthWest());if(e&&n){var i=e.y,o=n.x,s=n.y-e.y,e=e.x-n.x;if(this.conf.element.style.left=o+"px",this.conf.element.style.top=i+"px",this.conf.element.style.width=e+"px",this.conf.element.style.height=s+"px",this.heatmap.store.get("heatmap").resize(),0<this.latlngs.length){this.heatmap.clear();for(var a=this.latlngs.length,r={max:this.heatmap.store.max,data:[]};a--;){var l=this.latlngs[a].latlng;t.containsPoint(l)&&(l=this._map.pointToOverlayPixel(l),l=new BMap.Pixel(l.x-o,l.y-i),l=this.pixelTransform(l),r.data.push({x:l.x,y:l.y,count:this.latlngs[a].c}))}this.heatmap.store.setDataSet(r)}}}},l.prototype.pixelTransform=function(t){for(var e=this.heatmap.get("width"),n=this.heatmap.get("height");t.x<0;)t.x+=e;for(;t.x>e;)t.x-=e;for(;t.y<0;)t.y+=n;for(;t.y>n;)t.y-=n;return t.x=t.x>>0,t.y=t.y>>0,t},l.prototype._moveendHandler=function(t){this.setDataSet(this._data),delete this._data,this._map.removeEventListener("moveend",this._moveendHandler)},l.prototype.setDataSet=function(t){if(this._map){var e=this._map.getBounds(),n=this._map.pointToOverlayPixel(e.getNorthEast()),i=this._map.pointToOverlayPixel(e.getSouthWest()),o=(n&&i||(this._data=t,this._map.addEventListener("moveend",this._moveendHandler)),{max:t.max,data:[]}),s=t.data,a=s.length;for(this.latlngs=[];a--;){var r,l,c=new BMap.Point(s[a].lng,s[a].lat);this.latlngs.push({latlng:c,c:s[a].count}),e.containsPoint(c)&&(c=this._map.pointToOverlayPixel(c),l=this._map.pointToOverlayPixel(e.getSouthWest()).x,r=this._map.pointToOverlayPixel(e.getNorthEast()).y,l=new BMap.Pixel(c.x-l,c.y-r),c=this.pixelTransform(l),o.data.push({x:c.x,y:c.y,count:s[a].count}))}this.heatmap.clear(),this.heatmap.store.setDataSet(o)}},l.prototype.addDataPoint=function(t,e,n){t=new BMap.Point(t,e),e=this.pixelTransform(this._map.pointToOverlayPixel(t));this.heatmap.store.addDataPoint(e.x,e.y,n),this.latlngs.push({latlng:t,c:n})},l.prototype.toggle=function(){this.heatmap.toggleDisplay()},l)},function(t,e,n){function i(t,e){this._point=t,this._html=e}var a;t.exports=((a={dom:{}}).dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},a.g=a.G=a.dom.g,a.lang=a.lang||{},a.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},a.isString=a.lang.isString,a.dom._g=function(t){return a.lang.isString(t)?document.getElementById(t):t},a._g=a.dom._g,a.dom.getDocument=function(t){return 9==(t=a.dom.g(t)).nodeType?t:t.ownerDocument||t.document},a.browser=a.browser||{},a.browser.ie=a.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,a.dom.getComputedStyle=function(t,e){t=a.dom._g(t);var n=a.dom.getDocument(t);return n.defaultView&&n.defaultView.getComputedStyle&&(n=n.defaultView.getComputedStyle(t,null))?n[e]||n.getPropertyValue(e):""},a.dom._styleFixer=a.dom._styleFixer||{},a.dom._styleFilter=a.dom._styleFilter||[],a.dom._styleFilter.filter=function(t,e,n){for(var i,o=0,s=a.dom._styleFilter;i=s[o];o++)(i=i[n])&&(e=i(t,e));return e},a.string=a.string||{},a.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},a.dom.getStyle=function(t,e){var n,i=a.dom,o=(t=i.g(t),e=a.string.toCamelCase(e),t.style[e]||(t.currentStyle?t.currentStyle[e]:"")||i.getComputedStyle(t,e));return o||(n=i._styleFixer[e])&&(o=n.get?n.get(t):a.dom.getStyle(t,n)),o=(n=i._styleFilter)?n.filter(e,o,"get"):o},a.getStyle=a.dom.getStyle,a.dom._NAME_ATTRS=function(){var t={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};return a.browser.ie<8?(t.for="htmlFor",t.class="className"):(t.htmlFor="for",t.className="class"),t}(),a.dom.setAttr=function(t,e,n){return t=a.dom.g(t),"style"==e?t.style.cssText=n:(e=a.dom._NAME_ATTRS[e]||e,t.setAttribute(e,n)),t},a.setAttr=a.dom.setAttr,a.dom.setAttrs=function(t,e){for(var n in t=a.dom.g(t),e)a.dom.setAttr(t,n,e[n]);return t},a.setAttrs=a.dom.setAttrs,a.dom.create=function(t,e){t=document.createElement(t);return a.dom.setAttrs(t,e||{})},a.object=a.object||{},a.extend=a.object.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},(t=function(t,e,n){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}!e||e.length<1||(this._map=t,this._path=e,this.i=0,this._setTimeoutQuene=[],this._projection=this._map.getMapType().getProjection(),this._opts={icon:null,speed:4e3,defaultContent:"",showInfoWindow:!1},this._setOptions(n),this._rotation=0,!this._opts.icon instanceof BMap.Icon&&(this._opts.icon=defaultIcon))}).prototype._setOptions=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(this._opts[e]=t[e])},t.prototype.start=function(){var t=this,e=t._path.length;if(this._opts.onstart&&this._opts.onstart(t),t.i&&t.i<e-1){if(!t._fromPause)return;t._fromStop||t._moveNext(++t.i)}else t._marker||t._addMarker(),t._timeoutFlag=setTimeout(function(){t._overlay||t._addInfoWin(),t._moveNext(t.i)},400);this._fromPause=!1,this._fromStop=!1},t.prototype.stop=function(){this.i=0,this._fromStop=!0,clearInterval(this._intervalFlag),this._clearTimeout();for(var t=0,e=this._opts.landmarkPois,n=e.length;t<n;t++)e[t].bShow=!1;this._opts.onstop&&this._opts.onstop(this)},t.prototype.pause=function(){clearInterval(this._intervalFlag),this._fromPause=!0,this._clearTimeout(),this._opts.onpause&&this._opts.onpause(this)},t.prototype.hideInfoWindow=function(){this._opts.showInfoWindow=!1,this._overlay&&(this._overlay._div.style.visibility="hidden")},t.prototype.showInfoWindow=function(){this._opts.showInfoWindow=!0,this._overlay&&(this._overlay._div.style.visibility="visible")},t.prototype.dispose=function(){clearInterval(this._intervalFlag),this._setTimeoutQuene&&this._clearTimeout(),this._map&&(this._map.removeOverlay(this._overlay),this._map.removeOverlay(this._marker))},a.object.extend(t.prototype,{_addMarker:function(t){this._marker&&(this.stop(),this._map.removeOverlay(this._marker),clearTimeout(this._timeoutFlag)),this._overlay&&this._map.removeOverlay(this._overlay);var e=new BMap.Marker(this._path[0]);this._opts.icon&&e.setIcon(this._opts.icon),this._map.addOverlay(e),e.setAnimation(BMAP_ANIMATION_DROP),this._marker=e},_addInfoWin:function(){i.prototype.initialize||((i.prototype=new BMap.Overlay).initialize=function(t){var e=this._div=a.dom.create("div",{style:"border:solid 1px #ccc;width:auto;min-width:50px;text-align:center;position:absolute;background:#fff;color:#000;font-size:12px;border-radius: 10px;padding:5px;white-space: nowrap;"});return e.innerHTML=this._html,t.getPanes().floatPane.appendChild(e),this._map=t,e},i.prototype.draw=function(){this.setPosition(this.lushuMain._marker.getPosition(),this.lushuMain._marker.getIcon().size)},a.object.extend(i.prototype,{setPosition:function(t,e){var t=this._map.pointToOverlayPixel(t),n=a.dom.getStyle(this._div,"width"),i=a.dom.getStyle(this._div,"height"),n=parseInt(this._div.clientWidth||n,10);parseInt(this._div.clientHeight||i,10),this._div.style.left=t.x-n/2+"px",this._div.style.bottom=-(t.y-e.height)+"px"},setHtml:function(t){this._div.innerHTML=t},setRelatedClass:function(t){this.lushuMain=t}}));var t=new i(this._marker.getPosition(),this._opts.defaultContent);t.setRelatedClass(this),this._overlay=t,this._map.addOverlay(t),this._opts.showInfoWindow?this.showInfoWindow():this.hideInfoWindow()},_getMercator:function(t){return this._map.getMapType().getProjection().lngLatToPoint(t)},_getDistance:function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_move:function(n,i,o){var s=this,a=0,t=this._opts.speed/100,r=this._projection.lngLatToPoint(n),l=this._projection.lngLatToPoint(i),c=Math.round(s._getDistance(r,l)/t);c<1?s._moveNext(++s.i):s._intervalFlag=setInterval(function(){var t,e;c<=a?(clearInterval(s._intervalFlag),s.i>s._path.length||s._moveNext(++s.i)):(a++,t=o(r.x,l.x,a,c),e=o(r.y,l.y,a,c),t=s._projection.pointToLngLat(new BMap.Pixel(t,e)),1==a&&(e=null,0<=s.i-1&&(e=s._path[s.i-1]),1==s._opts.enableRotation&&s.setRotation(e,n,i),s._opts.autoView)&&!s._map.getBounds().containsPoint(t)&&s._map.setCenter(t),s._marker.setPosition(t),s._setInfoWin(t))},10)},setRotation:function(t,e,n){var i,o=0;e=this._map.pointToPixel(e),(n=this._map.pointToPixel(n)).x!=e.x?(i=(n.y-e.y)/(n.x-e.x),o=360*Math.atan(i)/(2*Math.PI),o=n.x<e.x?90-o+90:-o,this._marker.setRotation(-o)):(i=n.y-e.y,this._marker.setRotation(90*-(0<i?-1:1)))},linePixellength:function(t,e){return Math.sqrt(Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y))},pointToPoint:function(t,e){return Math.abs(t.x-e.x)*Math.abs(t.x-e.x)+Math.abs(t.y-e.y)*Math.abs(t.y-e.y)},_moveNext:function(t){var e=this;t<this._path.length-1?e._move(e._path[t],e._path[t+1],e._tween.linear):e.stop()},_setInfoWin:function(t){var e=this,n=(e._overlay.setPosition(t,e._marker.getIcon().size),e._troughPointIndex(t));-1!=n?(clearInterval(e._intervalFlag),e._overlay.setHtml(e._opts.landmarkPois[n].html),e._overlay.setPosition(t,e._marker.getIcon().size),e._pauseForView(n)):e._overlay.setHtml(e._opts.defaultContent)},_pauseForView:function(t){var e=this,t=setTimeout(function(){e._moveNext(++e.i)},1e3*e._opts.landmarkPois[t].pauseTime);e._setTimeoutQuene.push(t)},_clearTimeout:function(){for(var t in this._setTimeoutQuene)clearTimeout(this._setTimeoutQuene[t]);this._setTimeoutQuene.length=0},_tween:{linear:function(t,e,n,i){return(e-t)*n/i+t}},_troughPointIndex:function(t){for(var e=this._opts.landmarkPois,n=0,i=e.length;n<i;n++)if(!e[n].bShow&&this._map.getDistance(new BMap.Point(e[n].lng,e[n].lat),t)<10)return e[n].bShow=!0,n;return-1}}),t)},function(t,e,p){!function(u){var h;t.exports=function(){"use strict";function r(t){this._markerClusterer=t,this._map=t.getMap(),this._minClusterSize=t.getMinClusterSize(),this._isAverageCenter=t.isAverageCenter(),this._center=null,this._markers=[],this._gridBounds=null,this._isReal=!1,this._clusterMarker=new e(this._center,this._markers.length,{styles:this._markerClusterer.getStyles()})}var n="undefined"!=typeof window?window:void 0!==u?u:this,t=function(t,e){return e={exports:{}},t(e,e.exports,n),e.exports}(function(n,i,t){!function(t,e){"object"==typeof i?n.exports=e():(h=e,void 0!==(h="function"==typeof h?h.call(i,p,i,n):h)&&(n.exports=h))}(0,function(){var c,h=c=h||{version:"1.3.8"},e={};h.guid="$BAIDU$",e[h.guid]=e[h.guid]||{},h.dom=h.dom||{},h.dom.g=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):t&&t.nodeName&&(1==t.nodeType||9==t.nodeType)?t:null},h.g=h.G=h.dom.g,h.dom.getDocument=function(t){return t=h.dom.g(t),9==t.nodeType?t:t.ownerDocument||t.document},h.lang=h.lang||{},h.lang.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},h.isString=h.lang.isString,h.dom._g=function(t){return h.lang.isString(t)?document.getElementById(t):t},h._g=h.dom._g,h.browser=h.browser||{},/msie (\d+\.\d)/i.test(navigator.userAgent)&&(h.browser.ie=h.ie=document.documentMode||+RegExp.$1),h.dom.getComputedStyle=function(t,e){t=h.dom._g(t);var n,i=h.dom.getDocument(t);return i.defaultView&&i.defaultView.getComputedStyle&&(n=i.defaultView.getComputedStyle(t,null))?n[e]||n.getPropertyValue(e):""},h.dom._styleFixer=h.dom._styleFixer||{},h.dom._styleFilter=h.dom._styleFilter||[],h.dom._styleFilter.filter=function(t,e,n){for(var i,o=0,s=h.dom._styleFilter;i=s[o];o++)(i=i[n])&&(e=i(t,e));return e},h.string=h.string||{},h.string.toCamelCase=function(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})},h.dom.getStyle=function(t,e){var n=h.dom;t=n.g(t),e=h.string.toCamelCase(e);var i=t.style[e]||(t.currentStyle?t.currentStyle[e]:"")||n.getComputedStyle(t,e);if(!i){var o=n._styleFixer[e];o&&(i=o.get?o.get(t):h.dom.getStyle(t,o))}return(o=n._styleFilter)&&(i=o.filter(e,i,"get")),i},h.getStyle=h.dom.getStyle,/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(h.browser.opera=+RegExp.$1),h.browser.isWebkit=/webkit/i.test(navigator.userAgent),h.browser.isGecko=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),h.browser.isStrict="CSS1Compat"==document.compatMode,h.dom.getPosition=function(t){t=h.dom.g(t);var e,n,i=h.dom.getDocument(t),o=h.browser,s=h.dom.getStyle,a=(o.isGecko>0&&i.getBoxObjectFor&&"absolute"==s(t,"position")&&(""===t.style.top||t.style.left),{left:0,top:0}),r=o.ie&&!o.isStrict?i.body:i.documentElement;if(t==r)return a;if(t.getBoundingClientRect){n=t.getBoundingClientRect(),a.left=Math.floor(n.left)+Math.max(i.documentElement.scrollLeft,i.body.scrollLeft),a.top=Math.floor(n.top)+Math.max(i.documentElement.scrollTop,i.body.scrollTop),a.left-=i.documentElement.clientLeft,a.top-=i.documentElement.clientTop;var l=i.body,c=parseInt(s(l,"borderLeftWidth")),u=parseInt(s(l,"borderTopWidth"));o.ie&&!o.isStrict&&(a.left-=isNaN(c)?2:c,a.top-=isNaN(u)?2:u)}else{e=t;do{if(a.left+=e.offsetLeft,a.top+=e.offsetTop,o.isWebkit>0&&"fixed"==s(e,"position")){a.left+=i.body.scrollLeft,a.top+=i.body.scrollTop;break}e=e.offsetParent}while(e&&e!=t);for((o.opera>0||o.isWebkit>0&&"absolute"==s(t,"position"))&&(a.top-=i.body.offsetTop),e=t.offsetParent;e&&e!=i.body;)a.left-=e.scrollLeft,o.opera&&"TR"==e.tagName||(a.top-=e.scrollTop),e=e.offsetParent}return a},h.event=h.event||{},h.event._listeners=h.event._listeners||[],h.event.on=function(e,t,n){t=t.replace(/^on/i,""),e=h.dom._g(e);var i,o=function(t){n.call(e,t)},s=h.event._listeners,a=h.event._eventFilter,r=t;return t=t.toLowerCase(),a&&a[t]&&(i=a[t](e,t,o),r=i.type,o=i.listener),e.addEventListener?e.addEventListener(r,o,!1):e.attachEvent&&e.attachEvent("on"+r,o),s[s.length]=[e,t,n,o,r],e},h.on=h.event.on,function(){var t=e[h.guid];h.lang.guid=function(){return"TANGRAM__"+(t._counter++).toString(36)},t._counter=t._counter||1}(),e[h.guid]._instances=e[h.guid]._instances||{},h.lang.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},h.lang.Class=function(t){this.guid=t||h.lang.guid(),e[h.guid]._instances[this.guid]=this},e[h.guid]._instances=e[h.guid]._instances||{},h.lang.Class.prototype.dispose=function(){delete e[h.guid]._instances[this.guid];for(var t in this)h.lang.isFunction(this[t])||delete this[t];this.disposed=!0},h.lang.Class.prototype.toString=function(){return"[object "+(this._className||"Object")+"]"},h.lang.Event=function(t,e){this.type=t,this.returnValue=!0,this.target=e||null,this.currentTarget=null},h.lang.Class.prototype.addEventListener=function(t,e,n){if(h.lang.isFunction(e)){!this.__listeners&&(this.__listeners={});var i,o=this.__listeners;if("string"==typeof n&&n){if(/[^\w\-]/.test(n))throw"nonstandard key:"+n;e.hashCode=n,i=n}0!=t.indexOf("on")&&(t="on"+t),"object"!=typeof o[t]&&(o[t]={}),i=i||h.lang.guid(),e.hashCode=i,o[t][i]=e}},h.lang.Class.prototype.removeEventListener=function(t,e){if(void 0===e||(!h.lang.isFunction(e)||(e=e.hashCode))&&h.lang.isString(e)){!this.__listeners&&(this.__listeners={}),0!=t.indexOf("on")&&(t="on"+t);var n=this.__listeners;if(n[t])if(void 0!==e)n[t][e]&&delete n[t][e];else for(var i in n[t])delete n[t][i]}},h.lang.Class.prototype.dispatchEvent=function(t,e){h.lang.isString(t)&&(t=new h.lang.Event(t)),!this.__listeners&&(this.__listeners={}),e=e||{};for(var n in e)t[n]=e[n];var n,i=this.__listeners,o=t.type;if(t.target=t.target||this,t.currentTarget=this,0!=o.indexOf("on")&&(o="on"+o),h.lang.isFunction(this[o])&&this[o].apply(this,arguments),"object"==typeof i[o])for(n in i[o])i[o][n].apply(this,arguments);return t.returnValue},h.lang.inherits=function(t,e,n){var i,o,s=t.prototype,a=new Function;a.prototype=e.prototype,o=t.prototype=new a;for(i in s)o[i]=s[i];t.prototype.constructor=t,t.superClass=e.prototype,"string"==typeof n&&(o._className=n)},h.inherits=h.lang.inherits;var i=function(t,e,n){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}c.lang.inherits(i,BMap.Overlay,"TextIconOverlay"),this._position=t,this._text=e,this._options=n||{},this._styles=this._options.styles||[],!this._styles.length&&this._setupDefaultStyles()};return i.prototype._setupDefaultStyles=function(){for(var t,e=[53,56,66,78,90],n=0;t=e[n];n++)this._styles.push({url:"http://api.map.baidu.com/library/TextIconOverlay/1.2/src/images/m"+n+".png",size:new BMap.Size(t,t)})},i.prototype.initialize=function(t){return this._map=t,this._domElement=document.createElement("div"),this._updateCss(),this._updateText(),this._updatePosition(),this._bind(),this._map.getPanes().markerMouseTarget.appendChild(this._domElement),this._domElement},i.prototype.draw=function(){this._map&&this._updatePosition()},i.prototype.getText=function(){return this._text},i.prototype.setText=function(t){!t||this._text&&this._text.toString()==t.toString()||(this._text=t,this._updateText(),this._updateCss(),this._updatePosition())},i.prototype.getPosition=function(){return this._position},i.prototype.setPosition=function(t){!t||this._position&&this._position.equals(t)||(this._position=t,this._updatePosition())},i.prototype.getStyleByText=function(t,e){var n=parseInt(t),i=parseInt(n/10);return i=Math.max(0,i),i=Math.min(i,e.length-1),e[i]},i.prototype._updateCss=function(){if(this._domElement){var t=this.getStyleByText(this._text,this._styles);this._domElement.style.cssText=this._buildCssText(t)}},i.prototype._updateText=function(){this._domElement&&(this._domElement.innerHTML=this._text)},i.prototype._updatePosition=function(){if(this._domElement&&this._position){var t=this._domElement.style,e=this._map.pointToOverlayPixel(this._position);e.x-=Math.ceil(parseInt(t.width)/2),e.y-=Math.ceil(parseInt(t.height)/2),t.left=e.x+"px",t.top=e.y+"px"}},i.prototype._buildCssText=function(t){var e=t.url,n=t.size,i=t.anchor,o=t.offset,s=t.textColor||"black",a=t.textSize||10,r=[];if(c.browser.ie<7)r.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+e+'");');else{r.push("background-image:url("+e+");");var l="0 0";o instanceof BMap.Size&&(l=o.width+"px "+o.height+"px"),r.push("background-position:"+l+";")}return n instanceof BMap.Size&&(i instanceof BMap.Size?(i.height>0&&i.height<n.height&&r.push("height:"+(n.height-i.height)+"px; padding-top:"+i.height+"px;"),i.width>0&&i.width<n.width&&r.push("width:"+(n.width-i.width)+"px; padding-left:"+i.width+"px;")):(r.push("height:"+n.height+"px; line-height:"+n.height+"px;"),r.push("width:"+n.width+"px; text-align:center;"))),r.push("cursor:pointer; color:"+s+"; position:absolute; font-size:"+a+"px; font-family:Arial,sans-serif; font-weight:bold"),r.join("")},i.prototype._bind=function(){function e(t,e){var n=t.srcElement||t.target,i=t.clientX||t.pageX,o=t.clientY||t.pageY;if(t&&e&&i&&o&&n){var s=c.dom.getPosition(a.getContainer());e.pixel=new BMap.Pixel(i-s.left,o-s.top),e.point=a.pixelToPoint(e.pixel)}return e}if(this._domElement){var n=this,a=this._map,i=c.lang.Event;c.event.on(this._domElement,"mouseover",function(t){n.dispatchEvent(e(t,new i("onmouseover")))}),c.event.on(this._domElement,"mouseout",function(t){n.dispatchEvent(e(t,new i("onmouseout")))}),c.event.on(this._domElement,"click",function(t){n.dispatchEvent(e(t,new i("onclick")))})}},i})}),e=t&&"object"==typeof t&&"default"in t?t.default:t,o=function(t,e,n){e=l(e);var i=t.pointToPixel(e.getNorthEast()),o=t.pointToPixel(e.getSouthWest());i.x+=n,i.y-=n,o.x-=n,o.y+=n;var s=t.pixelToPoint(i),a=t.pixelToPoint(o);return new BMap.Bounds(a,s)},l=function(t){var e=s(t.getNorthEast().lng,-180,180),n=s(t.getSouthWest().lng,-180,180),i=s(t.getNorthEast().lat,-74,74),o=s(t.getSouthWest().lat,-74,74);return new BMap.Bounds(new BMap.Point(n,o),new BMap.Point(e,i))},s=function(t,e,n){return e&&(t=Math.max(t,e)),n&&(t=Math.min(t,n)),t},a=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t,e){var n=-1;if(a(e))if(e.indexOf)n=e.indexOf(t);else for(var i,o=0;i=e[o];o++)if(i===t){n=o;break}return n},c=function(t,e){try{BMap}catch(t){throw Error("Baidu Map JS API is not ready yet!")}if(t){this._map=t,this._markers=[],this._clusters=[];var n=e||{};this._gridSize=n.gridSize||60,this._maxZoom=n.maxZoom||18,this._minClusterSize=n.minClusterSize||2,this._isAverageCenter=!1,void 0!=n.isAverageCenter&&(this._isAverageCenter=n.isAverageCenter),this._styles=n.styles||[];var i=this;this._map.addEventListener("zoomend",function(){i._redraw()}),this._map.addEventListener("moveend",function(){i._redraw()});var o=n.markers;a(o)&&this.addMarkers(o)}};return c.prototype.addMarkers=function(t){if(t.length){for(var e=0,n=t.length;e<n;e++)this._pushMarkerTo(t[e]);this._createClusters()}},c.prototype._pushMarkerTo=function(t){-1===i(t,this._markers)&&(t.isInCluster=!1,this._markers.push(t))},c.prototype.addMarker=function(t){this._pushMarkerTo(t),this._createClusters()},c.prototype._createClusters=function(){var t=this._map.getBounds();if(t.getCenter())for(var e,n=o(this._map,t,this._gridSize),i=0;e=this._markers[i];i++)!e.isInCluster&&n.containsPoint(e.getPosition())&&this._addToClosestCluster(e)},c.prototype._addToClosestCluster=function(t){for(var e,n=4e6,i=null,o=(t.getPosition(),0);e=this._clusters[o];o++){var s=e.getCenter();if(s){var a=this._map.getDistance(s,t.getPosition());a<n&&(n=a,i=e)}}if(i&&i.isMarkerInClusterBounds(t))i.addMarker(t);else{var e=new r(this);e.addMarker(t),this._clusters.push(e)}},c.prototype._clearLastClusters=function(){for(var t,e=0;t=this._clusters[e];e++)t.remove();this._clusters=[],this._removeMarkersFromCluster()},c.prototype._removeMarkersFromCluster=function(){for(var t,e=0;t=this._markers[e];e++)t.isInCluster=!1},c.prototype._removeMarkersFromMap=function(){for(var t,e=0;t=this._markers[e];e++){t.isInCluster=!1;var n=t.getLabel();this._map.removeOverlay(t),t.setLabel(n)}},c.prototype._removeMarker=function(t){var e=i(t,this._markers);return-1!==e&&(this._map.removeOverlay(t),this._markers.splice(e,1),!0)},c.prototype.removeMarker=function(t){var e=this._removeMarker(t);return e&&(this._clearLastClusters(),this._createClusters()),e},c.prototype.removeMarkers=function(t){for(var e=!1,n=0;n<t.length;n++){var i=this._removeMarker(t[n]);e=e||i}return e&&(this._clearLastClusters(),this._createClusters()),e},c.prototype.clearMarkers=function(){this._clearLastClusters(),this._removeMarkersFromMap(),this._markers=[]},c.prototype._redraw=function(){this._clearLastClusters(),this._createClusters()},c.prototype.getGridSize=function(){return this._gridSize},c.prototype.setGridSize=function(t){this._gridSize=t,this._redraw()},c.prototype.getMaxZoom=function(){return this._maxZoom},c.prototype.setMaxZoom=function(t){this._maxZoom=t,this._redraw()},c.prototype.getStyles=function(){return this._styles},c.prototype.setStyles=function(t){this._styles=t,this._redraw()},c.prototype.getMinClusterSize=function(){return this._minClusterSize},c.prototype.setMinClusterSize=function(t){this._minClusterSize=t,this._redraw()},c.prototype.isAverageCenter=function(){return this._isAverageCenter},c.prototype.getMap=function(){return this._map},c.prototype.getMarkers=function(){return this._markers},c.prototype.getClustersCount=function(){for(var t,e=0,n=0;t=this._clusters[n];n++)t.isReal()&&e++;return e},r.prototype.addMarker=function(t){if(this.isMarkerInCluster(t))return!1;if(this._center){if(this._isAverageCenter){var e=this._markers.length+1,n=(this._center.lat*(e-1)+t.getPosition().lat)/e,i=(this._center.lng*(e-1)+t.getPosition().lng)/e;this._center=new BMap.Point(i,n),this.updateGridBounds()}}else this._center=t.getPosition(),this.updateGridBounds();t.isInCluster=!0,this._markers.push(t);var o=this._markers.length;if(o<this._minClusterSize)return this._map.addOverlay(t),!0;if(o===this._minClusterSize)for(var s=0;s<o;s++){var a=this._markers[s].getLabel();this._markers[s].getMap()&&this._map.removeOverlay(this._markers[s]),this._markers[s].setLabel(a)}return this._map.addOverlay(this._clusterMarker),this._isReal=!0,this.updateClusterMarker(),!0},r.prototype.isMarkerInCluster=function(t){if(this._markers.indexOf)return-1!=this._markers.indexOf(t);for(var e,n=0;e=this._markers[n];n++)if(e===t)return!0;return!1},r.prototype.isMarkerInClusterBounds=function(t){return this._gridBounds.containsPoint(t.getPosition())},r.prototype.isReal=function(t){return this._isReal},r.prototype.updateGridBounds=function(){var t=new BMap.Bounds(this._center,this._center);this._gridBounds=o(this._map,t,this._markerClusterer.getGridSize())},r.prototype.updateClusterMarker=function(){if(this._map.getZoom()>this._markerClusterer.getMaxZoom()){this._clusterMarker&&this._map.removeOverlay(this._clusterMarker);for(var t,e=0;t=this._markers[e];e++)this._map.addOverlay(t)}else{if(this._markers.length<this._minClusterSize)return void this._clusterMarker.hide();this._clusterMarker.setPosition(this._center),this._clusterMarker.setText(this._markers.length),this._clusterMarker.addEventListener&&!this._clusterMarker._hasClickEvent&&this._clusterMarker.addEventListener("click",function(t){this._clusterMarker._hasClickEvent=!0,this._markers&&this._map.setViewport(this.getBounds())}.bind(this))}},r.prototype.remove=function(){for(var t=0;this._markers[t];t++){var e=this._markers[t].getLabel();this._markers[t].getMap()&&this._map.removeOverlay(this._markers[t]),this._markers[t].setLabel(e)}this._map.removeOverlay(this._clusterMarker),this._markers.length=0,delete this._markers},r.prototype.getBounds=function(){for(var t,e=new BMap.Bounds(this._center,this._center),n=0;t=this._markers[n];n++)e.extend(t.getPosition());return e},r.prototype.getCenter=function(){return this._center},c}()}.call(e,p(3))},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return n.paths.length?i("div",n._l(n.paths,function(t,e){return i("bm-polygon",{key:e,attrs:{path:t,"stroke-color":n.strokeColor,"stroke-weight":n.strokeWeight,"stroke-opacity":n.strokeOpacity,"stroke-style":n.strokeStyle,"fill-opacity":n.fillOpacity,"fill-color":n.fillColor,"mass-clear":n.massClear,clicking:n.clicking},on:{click:function(t){n.$emit("click",t)},dblclick:function(t){n.$emit("dblclick",t)},mousedown:function(t){n.$emit("mousedown",t)},mouseup:function(t){n.$emit("mouseup",t)},mouseout:function(t){n.$emit("mouseout",t)},mouseover:function(t){n.$emit("mouseover",t)},remove:function(t){n.$emit("remove",t)}}})})):n._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.panel,expression:"panel"}]},[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement,t=this._self._c||t;return t("span",[this._t("default",[t("input")])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,e=t._self._c||e;return e("div",[t.hasBmView?t._e():e("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),t._v(" "),t._t("default")],2)},staticRenderFns:[]}}],o={},i.m=n,i.c=o,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=42))},85027:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var e=n(10406),e={name:"Map",components:{BaiduMap:e.BaiduMap,BmNavigation:e.BmNavigation,BmGeolocation:e.BmGeolocation,BmMarker:e.BmMarker,BmLocalSearch:e.BmLocalSearch},data:function(){return{value:"",address:"",lat:"",lng:"",keyword:"",point:{lat:"31.235929",lng:" 121.48054"}}},mounted:function(){},methods:{infohtmlset:function(t){this.address=t.address,this.lat=t.point.lat,this.lng=t.point.lng},onSearch:function(){this.keyword=this.value},getAddrByPoint:function(t){this.$bus.emit("mapAddress",t);for(var e=document.getElementsByTagName("iframe"),n=0;n<e.length;n++)e[n]&&-1<e[n].src.indexOf("api.map.baidu.com")&&(e[n].remove(),n--)},getAddress:function(){return{address:this.address,lat:this.lat,lng:this.lng}}}},i=(0,n(51900).Z)(e,function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("van-search",{attrs:{"show-action":"",placeholder:""},on:{search:e.onSearch},scopedSlots:e._u([{key:"action",fn:function(){return[t("div",{on:{click:e.onSearch}},[e._v("")])]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),t("baidu-map",{staticClass:"map",attrs:{ak:"3gqRCzNgHHe1uMHGkrYzfv0o",center:e.point,zoom:15,"scroll-wheel-zoom":!0}},[t("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),e._v(" "),t("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}}),e._v(" "),t("bm-marker",{attrs:{position:e.point,dragging:!0,animation:"BMAP_ANIMATION_BOUNCE"}}),e._v(" "),t("bm-local-search",{attrs:{keyword:e.keyword,"auto-viewport":!0,"select-first-result":!0,location:e.point},on:{infohtmlset:e.infohtmlset}})],1)],1)},[],!1,null,"5bc145e1",null).exports}}]);