"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[41870],{93540:function(e,t,n){n.d(t,{Z:function(){return i}});var t={props:{news:{type:Object,default:function(){}}},data:function(){return{}},methods:{link:function(){"ymbd"==this.news.type?window.wx?wx.invoke("openUrl",{type:0,url:this.news.blink},function(e){e.err_msg}):this.$router.push({name:"dsfIframe",params:{url:this.news.blink,title:"新闻详情"}}):this.$router.push({path:"/jiangsuyancaoNewsDetail",query:{id:this.news.id,type:this.news.type,time:this.news.time,showHeader:this.$route.query.showHeader}})}}},i=(0,n(51900).Z)(t,function(){var e=this,t=e._self._c;return t("div",{staticClass:"news",on:{click:e.link}},[t("div",{staticClass:"info"},[t("div",{staticClass:"title"},[e._v(e._s(e.news.title))]),e._v(" "),e.news.time?t("div",{staticClass:"time"},[e._v(e._s(e.news.time))]):e._e()])])},[],!1,null,"f3a0341a",null).exports},41870:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var i=n(5044),t={components:{newsItem:n(93540).Z},data:function(){return{list:[],loading:!1,finished:!1,refreshing:!1,finishedTips:"",page:1}},methods:{onLoad:function(){var n=this;this.refreshing&&(this.list=[],this.refreshing=!1),dsf.http.post("fn/news/list",{type:this.$route.query.type,page:this.page,limit:15}).then(function(e){var t;200==e.data.code&&(n.page+=1,(t=n.list).push.apply(t,(0,i.Z)(e.data.data)),n.list.length!=e.data.total)||(n.finished=!0,n.finishedTips="没有更多了")}).catch(function(e){e.message;n.finished=!0}).finally(function(){n.loading=!1})},onRefresh:function(){this.finished=!1,this.loading=!0,this.list=[],this.page=1,this.onLoad()}}},s=(0,n(51900).Z)(t,function(){var t=this,n=t._self._c;return n("div",[1==t.$route.query.showHeader?n("van-nav-bar",{attrs:{title:"新闻列表","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}):t._e(),t._v(" "),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[n("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedTips},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[0<t.list.length?t._l(t.list,function(e){return n("news-Item",{key:e.id,attrs:{news:e}})}):t._e(),t._v(" "),t.list.length||t.loading?t._e():n("commonempty")],2)],1)],1)},[],!1,null,"5f882626",null).exports}}]);