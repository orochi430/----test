"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[62317],{13727:function(a,e,t){t.r(e);var s=t(79529),u=t.n(s),v=t(25108),s={initHandle:function(o,a,e){var f=o.multinfos["220713122026zoYt9qX5mEL6535GpYT"].rows;function n(a){a=a.replace(/-/g,"/");return Date.parse(a)}function l(){var a=0,s=0;f.forEach(function(a){var e,t;a["220717150242SJhkF7vabCgyZ5XHzsU"].value&&a["220717150718jRxiKW36CfgfPka4ZUk"].value&&(e=n(a["220717150242SJhkF7vabCgyZ5XHzsU"].value),t=n(a["220717150718jRxiKW36CfgfPka4ZUk"].value),(t=Math.round((t-e)/36e5*10)/10)<=0?(dsf.layer.toast("结束时间必须晚于开始时间"),a["220717150718jRxiKW36CfgfPka4ZUk"].value="",a["220717150242SJhkF7vabCgyZ5XHzsU"].value=""):s+=t)}),45<=(a=15*u()(s))?100<a&&(a=100):a=0,o.main.B0014.value=a,o.main.B0025.value=s}var i=!1,k=!1;e.$bus.on("selectDateTime",function(e){var a,t,s,n,u,r;v.log(e),"220717150242SJhkF7vabCgyZ5XHzsU"===e.metaData.metaId?("0"==e.subFormIndex&&(o.main.B0013=f[0]["220717150242SJhkF7vabCgyZ5XHzsU"]),dsf.http.post("fn/workOtRegister/judgeDateIsWeekOrholiday?date=".concat(e.value.slice(0,10))).then(function(a){"200"==a.data.code||(a=e.value.slice(11).split(":").join(""),k="1830"<=a&&a<="2359"||"0000"<=a&&a<="0930",i="1300"<=a&&a<="1530")||k||(dsf.layer.toast("不是工作日加班时间段"),f[e.subFormIndex]["220717150718jRxiKW36CfgfPka4ZUk"].value="",f[e.subFormIndex]["220717150242SJhkF7vabCgyZ5XHzsU"].value="")})):"220717150718jRxiKW36CfgfPka4ZUk"===e.metaData.metaId&&(a=function(a,e,t){return Date.parse(a)>Date.parse(e)+t},t=f[e.subFormIndex]["220717150242SJhkF7vabCgyZ5XHzsU"].value,s=e.value,""===t?(dsf.layer.toast("请先选择开始时间"),f[e.subFormIndex]["220717150718jRxiKW36CfgfPka4ZUk"].value=""):(n=new Date(t.slice(0,10)),u=new Date(s).getDate()-n.getDate(),r=Date.parse(t)>=Date.parse(n)+378e5&&0!=u,v.log(r),i&&a(s,n,27e6)?(dsf.layer.toast("超出工作日上午加班时间（13:00-15:30）"),f[e.subFormIndex]["220717150718jRxiKW36CfgfPka4ZUk"].value=""):k&&!r?(Date.parse(t)<Date.parse(n)+54e5&&a(s,n,54e5)||1<u)&&(dsf.layer.toast("超出工作日下午加班时间（18:30-09:30(+1)）"),f[e.subFormIndex]["220717150718jRxiKW36CfgfPka4ZUk"].value=""):k&&r&&a(s,n,918e5)&&(dsf.layer.toast("超出工作日下午加班时间（18:30-09:30(+1)）"),f[e.subFormIndex]["220717150718jRxiKW36CfgfPka4ZUk"].value=""),l()))}),e.$bus.on("subFormDelete",function(a){l(),"220713122026zoYt9qX5mEL6535GpYT"==a.subFormId&&(o.main.B0013=0==f.length?"":f[0]["220717150242SJhkF7vabCgyZ5XHzsU"])})}};e.default=s}}]);