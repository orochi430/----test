"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[41043],{41043:function(t,a,e){e.r(a),e.d(a,{default:function(){return o}});var a=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("本月概况")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("接待次数")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("车辆情况")])])])},function(){var t=this,a=t._self._c;return a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("入住趋势")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("用餐占比")])])])}],i=e(27921),s=e.n(i),n=e(70596),i={name:"officialStatistic",components:{},props:{},data:function(){return{nowDate:moment().format("YYYY-MM"),baseInfo:{},mealColor:["rgba(26,201,255,","rgb(15,199,121,","rgb(91,143,249,","rgb(244,93,65,"],receptionData:[],carData:[],checkinData:[],mealData:[]}},computed:{},watch:{},created:function(){},mounted:function(){this.getData()},methods:{barEchart:function(){var t=n.init(this.$refs.receptionBar),a={color:["#0091FF","#E93F3F"],tooltip:{trigger:"axis",axisPointer:{type:"none"},lineStyle:{opacity:0}},grid:{left:"5%",right:"5%",bottom:"10%",top:"10%",containLabel:!0,z:22},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisTick:{show:!1},axisLabel:{show:!0,interval:0,fontSize:12},axisLine:{lineStyle:{color:"#999999"}}},yAxis:{min:0,type:"value",axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#999999",width:1,type:"dashed"}},axisLine:{show:!1,lineStyle:{color:"#999999"}}},series:[{name:"接待次数",type:"bar",data:this.receptionData}]};t.clear(),t.setOption(a),window.onresize=function(){t.resize()}},pieEchart:function(t){var a=n.init(this.$refs.carPie),o={color:["#13C2C2","#F04864","#FACC14","#2FC25B","#8543E0","#1890FF"],tooltip:{trigger:"item"},legend:{orient:"vertical",top:"middle",right:10,textStyle:{fontSize:12},formatter:function(t){for(var a=0,e=0;e<o.series[0].data.length;e++)a+=o.series[0].data[e].value;for(var i=0;i<o.series[0].data.length;i++){var s=(o.series[0].data[i].value/a*100).toFixed(2)+"%";if(o.series[0].data[i].name===t)return t+" "+s}}},series:[{type:"pie",center:["40%","50%"],radius:"60%",labelLine:{show:!1},label:{show:!1},data:this.carData}]};a.clear(),a.setOption(o),window.onresize=function(){a.resize()}},lineEchart:function(){var t=s()({length:this.checkinData.length||31},function(t,a){return a+1}),a=n.init(this.$refs.checkinLine),t={tooltip:{trigger:"axis"},grid:{left:"5%",right:"5%",bottom:"10%",top:"10%",containLabel:!0,z:22},xAxis:[{type:"category",boundaryGap:!1,axisTick:{show:!1},axisLabel:{show:!0,interval:14,fontSize:12},axisLine:{lineStyle:{color:"#999999"}},data:t}],yAxis:[{name:"",nameTextStyle:{color:"rgba(212, 232, 254, 1)",fontSize:12},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#999999",width:1,type:"dashed"}},axisLine:{show:!1,lineStyle:{color:"#999999"}}}],series:[{name:"入住人数",type:"line",symbol:"circle",showAllSymbol:!0,symbolSize:0,smooth:!0,lineStyle:{normal:{width:2,color:"#3296fa"}},itemStyle:{color:"#333",borderColor:"#646ace",borderWidth:0},tooltip:{show:!0},data:this.checkinData}]};a.clear(),a.setOption(t),window.onresize=function(){a.resize()}},getData:function(){var a=this,t=(new Date).getMonth()+1;dsf.http.post("ctrl/official/statistics/getCurrentData",{month:t}).then(function(t){t&&t.data&&200==t.data.code&&t.data.data&&(t=t.data.data,a.baseInfo=t.baseInfo,a.receptionData=t.receptionData,a.carData=t.carData,a.checkinData=t.checkinData,a.mealData=t.mealData,a.$nextTick(function(){a.barEchart(),a.pieEchart(),a.lineEchart()}))})}}},o=(0,e(51900).Z)(i,function(){var e=this,i=e._self._c;return i("div",{staticClass:"officialStatistic",style:{height:"calc(100vh - ".concat(e.$store.state.isShowAppHeader?"0.92rem":"0px"," - ").concat(e.$store.state.isShowAppFooter?"1.2rem":"0px",")")}},[i("div",{staticClass:"common-card"},[e._m(0),e._v(" "),i("div",{staticClass:"common-content"},[i("ul",{staticClass:"info-list"},[i("li",[i("p",[e._v("接待次数")]),e._v(" "),i("label",[e._v(e._s(e.baseInfo.jd))])]),e._v(" "),i("li",[i("p",[e._v("用车次数")]),e._v(" "),i("label",[e._v(e._s(e.baseInfo.yc))])]),e._v(" "),i("li",[i("p",[e._v("入住次数")]),e._v(" "),i("label",[e._v(e._s(e.baseInfo.rz))])]),e._v(" "),i("li",[i("p",[e._v("用餐次数")]),e._v(" "),i("label",[e._v(e._s(e.baseInfo.ycan))])])])])]),e._v(" "),i("div",{staticClass:"common-card"},[e._m(1),e._v(" "),i("div",{staticClass:"common-content"},[i("div",{ref:"receptionBar",staticClass:"echart-box",staticStyle:{height:"280px"}})])]),e._v(" "),i("div",{staticClass:"common-card"},[e._m(2),e._v(" "),i("div",{staticClass:"common-content"},[i("div",{ref:"carPie",staticClass:"echart-box",staticStyle:{height:"200px"}})])]),e._v(" "),i("div",{staticClass:"common-card"},[i("div",{staticClass:"card-title"},[e._m(3),e._v(" "),i("label",[e._v(e._s(e.nowDate))])]),e._v(" "),i("div",{staticClass:"common-content"},[i("div",{ref:"checkinLine",staticClass:"echart-box",staticStyle:{height:"280px"}})])]),e._v(" "),i("div",{staticClass:"common-card"},[e._m(4),e._v(" "),i("div",{staticClass:"common-content"},[i("div",{staticClass:"meal-container"},e._l(e.mealData,function(a,t){return i("div",{key:t,staticClass:"meal-list"},[i("van-circle",{attrs:{rate:a.rate,speed:100,"stroke-width":120,"layer-color":"".concat(e.mealColor[t],"0.2)"),color:"".concat(e.mealColor[t],"1)"),size:"90px"},scopedSlots:e._u([{key:"default",fn:function(){return[i("div",{staticClass:"pie-text"},[i("p",{style:"color:".concat(e.mealColor[t],"1)")},[i("label",{style:"color:".concat(e.mealColor[t],"1)")},[e._v(e._s(a.rate))]),e._v("%\n                                ")]),e._v(" "),i("span",{style:"color:".concat(e.mealColor[t],"1)")},[e._v(e._s(a.num)+"次")])])]},proxy:!0}],null,!0),model:{value:a.rate,callback:function(t){e.$set(a,"rate",t)},expression:"item.rate"}}),e._v(" "),i("p",[e._v(e._s(a.title))])],1)}),0)])])])},a,!1,null,"788f6f58",null).exports},58405:function(t,a,e){t.exports=e.p+"static/img/titlebg.bdca99b..png"}}]);