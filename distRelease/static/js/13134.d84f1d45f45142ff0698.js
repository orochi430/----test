"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[13134],{86730:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var t=n(26243),i=n.n(t),t=n(62680),l=n.n(t),t=n(95366),d=n.n(t),t=n(6919),a=n.n(t),o=n(77193);function s(t,e){var n,a=i()(t);return l()&&(n=l()(t),e&&(n=n.filter(function(e){return d()(t,e).enumerable})),a.push.apply(a,n)),a}var t={name:"knowledgeBase",data:function(){return{knowledgeTypeItem:"",knowledgeType:[],list:[],loading:!1,finished:!1,knowledgeChildType:[],searchV:"",loadingIndex:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){(0,o.Z)(t,e,n[e])}):a()?Object.defineProperties(t,a()(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,d()(n,e))})}return t}({},(0,n(20629).rn)({isShowAppHeader:function(e){return e.isShowAppHeader}})),created:function(){this.loadingIndex=dsf.layer.loading(),this.loadData()},methods:{onSearch:function(e){this.loadingIndex=dsf.layer.loading();var t=this,n=t.knowledgeType.find(function(e){return e.value==t.knowledgeTypeItem});dsf.http.post("fn/mobile/queryWt",{cityName:n.text,wtms:e}).then(function(e){dsf.layer.closeLoading(t.loadingIndex),200==e.data.code&&(t.list=e.data.data)})},changeChildType:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this,t=(n.searchV="",t&&(this.loadingIndex=dsf.layer.loading()),n.knowledgeChildType.forEach(function(e){n.$set(e,"actived",!1)}),e.actived=!0,n.knowledgeType.find(function(e){return e.value==n.knowledgeTypeItem}));dsf.http.post("fn/mobile/typeToWt",{cityName:t.text,type:e.wtlx}).then(function(e){dsf.layer.closeLoading(n.loadingIndex),200==e.data.code&&(n.list=e.data.data)})},changeType:function(){var t=this,e=((!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&(this.loadingIndex=dsf.layer.loading()),t.knowledgeType.find(function(e){return e.value==t.knowledgeTypeItem}));dsf.http.post("fn/mobile/queryAllType",{cityName:e.text}).then(function(e){200==e.data.code&&(t.knowledgeChildType=e.data.data,t.knowledgeChildType.length)&&(t.knowledgeChildType[0].actived=!0,t.changeChildType(t.knowledgeChildType[0],!1))})},loadData:function(){var t=this;dsf.http.post("fn/mobile/getAllCity").then(function(e){200==e.data.code&&(e.data.data.forEach(function(e){t.knowledgeType.push({text:e.code_name,value:e.code_value})}),t.knowledgeType.length)&&(t.knowledgeTypeItem=t.knowledgeType[0].value,t.changeType(!1))})}}},c=(0,n(51900).Z)(t,function(){var n=this,a=n._self._c;return a("div",{staticClass:"knowledgeBase"},[a("div",{staticClass:"left"},[a("div",[a("van-sticky",{attrs:{"offset-top":n.isShowAppHeader?"0.92rem":"0"}},[a("van-dropdown-menu",{attrs:{"active-color":"#1a66b9"}},[a("van-dropdown-item",{attrs:{options:n.knowledgeType},on:{change:n.changeType},model:{value:n.knowledgeTypeItem,callback:function(e){n.knowledgeTypeItem=e},expression:"knowledgeTypeItem"}})],1)],1)],1),n._v(" "),n._l(n.knowledgeChildType,function(t,e){return a("div",{key:e,on:{click:function(e){return n.changeChildType(t)}}},[a("div",{staticClass:"typeItem",class:{"typeItem-actived":t.actived}},[a("span",[n._v(n._s(t.wtlx))])])])})],2),n._v(" "),a("div",{staticClass:"right"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词","input-align":"center",maxlength:"10"},on:{search:n.onSearch},model:{value:n.searchV,callback:function(e){n.searchV=e},expression:"searchV"}}),n._v(" "),a("div",{staticClass:"list"},n._l(n.list,function(e,t){return a("div",{key:t,staticClass:"list-item"},[a("div",{staticClass:"list-title"},[a("div",{staticClass:"list-title-left"},[n._v(n._s("问："+e.wtms))]),n._v(" "),a("div",{staticClass:"list-title-right"},[n._v(n._s("地区："+e.sscs))])]),n._v(" "),a("div",{staticClass:"list-content"},[a("span",[n._v(n._s("答："+e.wtjd))])])])}),0)],1)])},[],!1,null,"412568c8",null).exports}}]);