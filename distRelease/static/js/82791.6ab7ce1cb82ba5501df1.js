"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[82791],{82791:function(t,n,e){e.r(n),e.d(n,{default:function(){return a}});var n=e(27921),o=e.n(n),n=e(85579),c=e.n(n),n=e(22013),l=e.n(n);function u(t,n){var e,a,i,s,r=void 0!==c()&&t[l()]||t["@@iterator"];if(r)return a=!(e=!0),{s:function(){r=r.call(t)},n:function(){var t=r.next();return e=t.done,t},e:function(t){a=!0,i=t},f:function(){try{e||null==r.return||r.return()}finally{if(a)throw i}}};if(Array.isArray(t)||(r=function(t,n){var e;if(t)return"string"==typeof t?d(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?o()(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,n):void 0}(t))||n&&t&&"number"==typeof t.length)return r&&(t=r),s=0,{s:n=function(){},n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}var n={name:"signDetail",data:function(){return{default_avatar:'this.src="'+e(42370)+'"',activePage:0,hasSignNum:0,unSignNum:0,hasSignList:[],unSignList:[],user:dsf.util.loadSessionStore("user"),meeting:dsf.util.loadSessionStore("meeting")}},mounted:function(){this.init()},methods:{init:function(){this.getSignDetail(),this.getHasSign(),this.getUnSign()},getSignDetail:function(){var i=this;dsf.http.post("fn/conferenceSignIn/signInTabs",{meetingId:this.meeting.id}).then(function(t){var n,e=u(t.data.data);try{for(e.s();!(n=e.n()).done;){var a=n.value;"1"===a.type?i.hasSignNum=a.count:i.unSignNum=a.count}}catch(t){e.e(t)}finally{e.f()}})},getHasSign:function(){var o=this;dsf.http.post("fn/conferenceSignIn/signInDetails",{meetingId:this.meeting.id,type:1}).then(function(t){o.hasSignList=[];var n,e=u(t.data.data);try{for(e.s();!(n=e.n()).done;){var a,i=n.value,s=u(i.users);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.department=i.unitName,o.hasSignList.push(r)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){e.e(t)}finally{e.f()}})},getUnSign:function(){var o=this;dsf.http.post("fn/conferenceSignIn/signInDetails",{meetingId:this.meeting.id,type:-1}).then(function(t){o.unSignList=[];var n,e=u(t.data.data);try{for(e.s();!(n=e.n()).done;){var a,i=n.value,s=u(i.users);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.department=i.unitName,o.unSignList.push(r)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){e.e(t)}finally{e.f()}})},remindAll:function(){dsf.http.post("/fn/conferenceSignIn/signInMessageReminder",{meetingId:this.meeting.id}).then(function(t){"success"===t.data.type?dsf.layer.toast("提醒成功"):dsf.layer.toast("提醒失败，请检查网络！")})}}},a=(0,e(51900).Z)(n,function(){var n=this,e=n._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"container-header"},[e("div",{staticClass:"top"},[e("van-cell",{attrs:{title:"签到管理",icon:"arrow-left",center:""},on:{click:function(t){return n.$router.back()}}})],1),n._v(" "),e("div",{staticClass:"container-tabs"},[e("van-tabs",{staticClass:"container-header-tabs",attrs:{animated:"",type:"card"}},[e("van-tab",{attrs:{title:"已签到（"+n.hasSignNum+"）"}},[e("van-list",n._l(n.hasSignList,function(t){return e("van-cell",{key:t.id},[e("div",{staticClass:"person-card"},[e("img",{attrs:{src:n.dsf.url.getWebPath(t.img),onerror:n.default_avatar,alt:""}}),n._v(" "),e("div",{staticClass:"person-card-name"},[n._v(n._s(t.name))]),n._v(" "),e("div",{staticClass:"person-card-phone"},[n._v(n._s(t.phone))]),n._v(" "),e("div",{staticClass:"person-card-department"},[n._v("\n                  "+n._s(t.department)+"\n                ")]),n._v(" "),e("div",{staticClass:"person-card-singText"},[n._v("\n                  签到时间: "+n._s(t.time)+"\n                ")])])])}),1)],1),n._v(" "),e("van-tab",{attrs:{title:"未签到（"+n.unSignNum+"）"}},[n._l(n.unSignList,function(t){return e("van-cell",{key:t.id},[e("div",{staticClass:"person-card"},[e("img",{attrs:{src:n.dsf.url.getWebPath(t.img),onerror:n.default_avatar,alt:""}}),n._v(" "),e("div",{staticClass:"person-card-name"},[n._v(n._s(t.name))]),n._v(" "),e("div",{staticClass:"person-card-phone"},[n._v(n._s(t.phone))]),n._v(" "),e("div",{staticClass:"person-card-department"},[n._v("\n                "+n._s(t.department)+"\n              ")]),n._v(" "),e("div",{staticClass:"person-card-singText"},[n._v(n._s(t.singText))])])])}),n._v(" "),e("div",{staticClass:"btn-container"},[e("van-button",{staticClass:"remindBtn",on:{click:n.remindAll}},[n._v(" 一键提醒 ")])],1)],2)],1)],1)])])},[],!1,null,"05487cf5",null).exports},42370:function(t,n,e){t.exports=e.p+"static/img/avatar.2072ed9..png"}}]);