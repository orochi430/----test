"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[20736],{11865:function(t,a,n){n.d(a,{Z:function(){return u}});var a=n(26243),s=n.n(a),a=n(62680),o=n.n(a),a=n(95366),r=n.n(a),a=n(6919),i=n.n(a),c=n(5044),l=n(77193),a=n(18428),d=n.n(a);function p(a,t){var e,i=s()(a);return o()&&(e=o()(a),t&&(e=e.filter(function(t){return r()(a,t).enumerable})),i.push.apply(i,e)),i}function e(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach(function(t){(0,l.Z)(a,t,e[t])}):i()?Object.defineProperties(a,i()(e)):p(Object(e)).forEach(function(t){Object.defineProperty(a,t,r()(e,t))})}return a}var a={name:"commonCard",components:{},props:{title:{default:"",type:String},type:{default:"",type:String},keyword:{default:"",type:String},cardHeight:{default:"",type:String}},data:function(){return{appList:[],pageIndex:1,pageSize:10,loading:!1,finished:!1,refreshing:!1,url:"",apiObj:{}}},computed:{cardType:{get:function(){return this.type},set:function(){}}},watch:{},created:function(){this.initUrl()},mounted:function(){},methods:{initUrl:function(){var t={moduleId:"190105143853JG60tzYub8kZVlHz41r","query_S-APP-0056":"1",zdfw:"1"},a={};switch(this.cardType){case"all":this.url="fn/application/store/230518181204g9QDOvekP21o3FtcX82/mobile/q",a={_content:this.keyword,"query_S-APP-0096":"","query_S-APP-0087":""},this.apiObj=e(e({},t),a);break;case"recommend":this.url="fn/application/store/230518151804YdPmKWxiYAZ7HQHj7Ko/mobile/q",this.apiObj=t;break;case"hot":this.url="fn/application/store/230518180238gDkLQrJ3dNXmQmRUmYn/mobile/q",this.apiObj=t;break;case"my":this.url="fn/list/230518192726S3IUYa85cukZZxi88yz/mobile/q",a={listId:"230518192726S3IUYa85cukZZxi88yz"},this.apiObj=e(e({},t),a);break;case"applying":this.url="fn/list/230519141156TOWA7ZDldtH2J6qMG0D/mobile/q",a={_content:this.keyword,listId:"230519141156TOWA7ZDldtH2J6qMG0D"},this.apiObj=e(e({},t),a);break;case"applyPass":this.url="fn/list/230518192726S3IUYa85cukZZxi88yz/mobile/q",a={_content:this.keyword,listId:"230518192726S3IUYa85cukZZxi88yz"},this.apiObj=e(e({},t),a);break;case"applyReject":this.url="fn/list/230519141254N97FnClw8F6KVxrkfT2/mobile/q",a={_content:this.keyword,listId:"230519141254N97FnClw8F6KVxrkfT2"},this.apiObj=e(e({},t),a)}},getList:function(){var e=this,t=(this.refreshing&&(this.appList=[],this.pageIndex=1,this.refreshing=!1),d()(this.apiObj,{page:this.pageIndex,limit:this.pageSize}));dsf.http.post(this.url,t).then(function(t){var a;e.loading=!1,t&&200==t.status&&t.data&&t.data.datas&&(a=t.data.datas.map(function(t){return{id:t.dataValue["S-BASE-0001"]||t.dataValue["app.S-BASE-0001"],icon:dsf.url.getServerUrl("fn/file/downloadImage?fileName=".concat(t.dataValue["S-APP-0026"]||t.dataValue["app.S-APP-0026"])),text:t.dataValue["S-APP-0001"]||t.dataValue["app.S-APP-0001"],module:t.dataValue["S-APP-0066"]||t.dataValue["app.S-APP-0066"],rate:Number(t.dataValue["S-APP-0110"]||t.dataValue["app.S-APP-0110"]),time:t.dataValue["S-APP-0108"]||t.dataValue["app.S-APP-0108"],used:t.dataValue["S-APP-0109"]||t.dataValue["app.S-APP-0109"]}}),0<e.appList.length?e.appList=[].concat((0,c.Z)(e.appList),(0,c.Z)(a)):e.appList=a,e.pageIndex++,e.appList.length!=t.data.total)&&!(t.data.datas.length<e.pageSize)||(e.finished=!0)}).catch(function(t){}).finally(function(){e.finished=!0,e.loading=!1})},onLoad:function(){this.getList()},onRefresh:function(){this.finished=!1,this.loading=!0,this.refreshing=!0,this.pageIndex=1,this.getList()},goDetail:function(t){this.$router.push({path:"/applicationDetail/".concat(t.id)})}}},u=(0,n(51900).Z)(a,function(){var e=this,i=e._self._c;return i("div",{staticClass:"common-card",style:{height:"".concat(e.cardHeight)}},[e.title?i("div",{staticClass:"card-title"},[i("p",[i("img",{attrs:{src:n(33996),alt:""}}),e._v(" "),i("span",[e._v(e._s(e.title))])])]):e._e(),e._v(" "),i("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.appList,function(a,t){return i("div",{key:t,staticClass:"list-box",on:{click:function(t){return e.goDetail(a)}}},[i("div",{staticClass:"top-content"},[i("div",{staticClass:"app-info"},[i("img",{attrs:{src:a.icon,alt:""}}),e._v(" "),i("div",[i("p",[e._v(e._s(a.text))]),e._v(" "),i("span",[e._v(e._s(a.module))])])]),e._v(" "),i("van-rate",{attrs:{size:12,color:"#F19927","void-icon":"star","void-color":"#eee",readonly:""},model:{value:a.rate,callback:function(t){e.$set(a,"rate",t)},expression:"item['rate']"}})],1),e._v(" "),i("div",{staticClass:"bottom-content"},[i("span",[e._v("发布时间："+e._s(a.time))]),e._v(" "),i("span",[e._v("使用量："+e._s(a.used||0))])])])}),0)],1),e._v(" "),e.appList.length||e.loading?e._e():i("commonempty")],1)},[],!1,null,"9e47efe0",null).exports},20736:function(t,a,n){n.r(a),n.d(a,{default:function(){return o}});var a=[function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:n(33996),alt:""}}),this._v(" "),t("span",[this._v("推荐应用")])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:n(33996),alt:""}}),this._v(" "),t("span",[this._v("热门应用")])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:n(33996),alt:""}}),this._v(" "),t("span",[this._v("应用列表")])])}],e=n(11865),i={name:"commonItem",components:{},props:{data:{type:Object,require:!0}},data:function(){return{dataObj:{}}},computed:{},watch:{},created:function(){this.dataObj={id:this.data["S-BASE-0001"]||this.data["app.S-BASE-0001"],icon:dsf.url.getServerUrl("fn/file/downloadImage?fileName=".concat(this.data["S-APP-0026"]||this.data["app.S-APP-0026"])),text:this.data["S-APP-0001"]||this.data["app.S-APP-0001"],module:this.data["S-APP-0066"]||this.data["app.S-APP-0066"],rate:Number(this.data["S-APP-0110"]||this.data["app.S-APP-0110"]),time:this.data["S-APP-0108"]||this.data["app.S-APP-0108"],used:this.data["S-APP-0109"]||this.data["app.S-APP-0109"]}},mounted:function(){},methods:{goDetail:function(){this.$router.push({path:"/applicationDetail/".concat(this.dataObj.id)})}}},s=n(51900),i=(0,s.Z)(i,function(){var a=this,t=a._self._c;return a.dataObj?t("div",{staticClass:"commonItem",on:{click:a.goDetail}},[t("div",{staticClass:"top-content"},[t("div",{staticClass:"app-info"},[t("img",{attrs:{src:a.dataObj.icon,alt:""}}),a._v(" "),t("div",[t("p",[a._v(a._s(a.dataObj.text))]),a._v(" "),t("span",[a._v(a._s(a.dataObj.module))])])]),a._v(" "),t("van-rate",{attrs:{size:12,color:"#F19927","void-icon":"star","void-color":"#eee",readonly:""},model:{value:a.dataObj.rate,callback:function(t){a.$set(a.dataObj,"rate",t)},expression:"dataObj['rate']"}})],1),a._v(" "),t("div",{staticClass:"bottom-content"},[t("span",[a._v("发布时间："+a._s(a.dataObj.time))]),a._v(" "),t("span",[a._v("使用量："+a._s(a.dataObj.used||0))])])]):a._e()},[],!1,null,"32c0ef08",null).exports,e={name:"index",components:{CommonCard:e.Z,CommonItem:i},props:{},data:function(){return{moduleId:"190105143853JG60tzYub8kZVlHz41r",keyword:"",hotWords:[],categoriesList:[],recommendApp:[],hotApp:[],allApp:[]}},computed:{},watch:{},created:function(){this.getHotWords(),this.getCategory(),this.getRecommendList(),this.getHotList(),this.getAllList()},mounted:function(){},methods:{search:function(t){this.$router.push({path:"/searchResult",query:{key:t}})},goMore:function(t){this.$router.push({path:"/myApp",query:{type:t}})},getHotWords:function(){var a=this;dsf.http.get("fn/application/store/hotwords").then(function(t){t&&t.data&&200==t.data.code&&t.data.data&&(a.hotWords=t.data.data)}).catch(function(t){}).finally(function(){})},getCategory:function(){var n=this,s=[];dsf.http.get("fn/application/store/getCategory").then(function(t){if(t&&t.data&&200==t.data.code&&t.data.data)for(var t=(s=t.data.data).length,a=Math.ceil(t/10),e=0;e<a;e++){var i=s.slice(10*e,10*(e+1));n.categoriesList.push(i)}}).catch(function(t){}).finally(function(){})},getRecommendList:function(){var a=this,t={moduleId:this.moduleId,page:1,limit:3,"query_S-APP-0056":"1"};dsf.http.post("fn/application/store/230518151804YdPmKWxiYAZ7HQHj7Ko/mobile/q",t).then(function(t){t&&200==t.status&&t.data&&t.data.datas&&(a.recommendApp=t.data.datas,a.recommendApp.forEach(function(t){t.dataValue["S-APP-0110"]=Number(t.dataValue["S-APP-0110"])}))}).catch(function(t){}).finally(function(){})},getHotList:function(){var a=this,t={moduleId:this.moduleId,page:1,limit:3,"query_S-APP-0056":"1"};dsf.http.post("fn/application/store/230518180238gDkLQrJ3dNXmQmRUmYn/mobile/q",t).then(function(t){t&&200==t.status&&t.data&&t.data.datas&&(a.hotApp=t.data.datas,a.hotApp.forEach(function(t){t.dataValue["S-APP-0110"]=Number(t.dataValue["S-APP-0110"])}))}).catch(function(t){}).finally(function(){})},getAllList:function(){var a=this,t={moduleId:this.moduleId,page:1,limit:10,"query_S-APP-0056":"1","query_S-APP-0096":"","query_S-APP-0087":""};dsf.http.post("fn/application/store/230518181204g9QDOvekP21o3FtcX82/mobile/q",t).then(function(t){t&&200==t.status&&t.data&&t.data.datas&&(a.allApp=t.data.datas,a.allApp.forEach(function(t){t.dataValue["S-APP-0110"]=Number(t.dataValue["S-APP-0110"])}))}).catch(function(t){}).finally(function(){})}}},o=(0,s.Z)(e,function(){var e=this,i=e._self._c;return i("div",{staticClass:"store-container",style:{height:"calc(100vh - ".concat(e.dsf.util.getOffsetTop()," - ").concat(e.$store.state.isShowAppFooter?"1.2rem":"0px",")")}},[i("div",{staticClass:"store-head"},[i("van-search",{attrs:{placeholder:"请输入检索词","left-icon":"",clearable:!1},on:{search:e.search},scopedSlots:e._u([{key:"left-icon",fn:function(){return[i("i",{staticClass:"iconfont iconsousuo i1",staticStyle:{color:"#fff"},on:{click:function(t){return e.search(e.keyword)}}})]},proxy:!0}]),model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),i("div",{staticClass:"hot-words"},[e._v("\n            热门搜索：\n            "),e._l(e.hotWords,function(a,t){return i("span",{key:t,on:{click:function(t){return e.search(a.hotWord)}}},[e._v(e._s(a.hotWord))])})],2)],1),e._v(" "),i("div",{staticClass:"main-conatiner"},[i("div",{staticClass:"swiper-container"},[i("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:5e3,"show-indicators":!1}},e._l(e.categoriesList,function(t,a){return i("van-swipe-item",{key:a},[i("div",{staticClass:"icon-list"},e._l(t,function(a,t){return i("div",{key:t,on:{click:function(t){return e.search(a.text)}}},[i("img",{attrs:{src:e.dsf.url.getWebPath(a.icon),alt:""}}),e._v(" "),i("p",[e._v(e._s(a.text))])])}),0)])}),1)],1),e._v(" "),i("div",{staticClass:"common-card"},[i("div",{staticClass:"card-title"},[e._m(0),e._v(" "),i("img",{staticClass:"more",attrs:{src:n(23954),alt:""},on:{click:function(t){return e.goMore("recommend")}}})]),e._v(" "),e.recommendApp&&0<e.recommendApp.length?i("div",{staticClass:"list-box"},e._l(e.recommendApp,function(t,a){return i("common-item",{key:a,attrs:{data:t.dataValue}})}),1):i("commonempty",{attrs:{description:"暂无数据"}})],1),e._v(" "),i("div",{staticClass:"common-card"},[i("div",{staticClass:"card-title"},[e._m(1),e._v(" "),i("img",{staticClass:"more",attrs:{src:n(23954),alt:""},on:{click:function(t){return e.goMore("hot")}}})]),e._v(" "),e.hotApp&&0<e.hotApp.length?i("div",{staticClass:"list-box"},e._l(e.hotApp,function(t,a){return i("common-item",{key:a,attrs:{data:t.dataValue}})}),1):i("commonempty",{attrs:{description:"暂无数据"}})],1),e._v(" "),i("div",{staticClass:"common-card"},[i("div",{staticClass:"card-title"},[e._m(2),e._v(" "),i("img",{staticClass:"more",attrs:{src:n(23954),alt:""},on:{click:function(t){return e.goMore("all")}}})]),e._v(" "),e.allApp&&0<e.allApp.length?i("div",{staticClass:"list-box"},e._l(e.allApp,function(t,a){return i("common-item",{key:a,attrs:{data:t.dataValue}})}),1):i("commonempty",{attrs:{description:"暂无数据"}})],1)])])},a,!1,null,"538ed511",null).exports},33996:function(t,a,e){t.exports=e.p+"static/img/icon-line.22d6bd9..png"},23954:function(t,a,e){t.exports=e.p+"static/img/icon-more.a337b18..png"}}]);