"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[86411,56229,51669],{56229:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n,t=a(62680),r=a.n(t),t=a(95366),i=a.n(t),t=a(6919),o=a.n(t),s=a(66250),l=a(77193),t=a(33453),c=a.n(t),t=a(8450),u=a.n(t),t=a(26243),d=a.n(t),t=a(20629),f=a(2728),p=a(25108);function m(t,e){var a,o=d()(t);return r()&&(a=r()(t),e&&(a=a.filter(function(e){return i()(t,e).enumerable})),o.push.apply(o,a)),o}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach(function(e){(0,l.Z)(t,e,a[e])}):o()?Object.defineProperties(t,o()(a)):m(Object(a)).forEach(function(e){Object.defineProperty(t,e,i()(a,e))})}return t}var t={props:["value","tabKey","checkable","checkType","oppsetTop","tabOppsetTop"],name:"customTabs",model:{prop:"value",event:"input"},components:{defaultList:function(){return Promise.all([a.e(17672),a.e(50856),a.e(63560),a.e(63450),a.e(9303),a.e(74023),a.e(96345),a.e(39946),a.e(1696),a.e(14355)]).then(a.bind(a,14355))},tabTodo:function(){return Promise.all([a.e(17672),a.e(50856),a.e(63560),a.e(9303),a.e(74023),a.e(96345),a.e(33274),a.e(28038)]).then(a.bind(a,33274))},jiangsuyancaoTable:function(){return Promise.all([a.e(26573),a.e(9193)]).then(a.bind(a,26573))},commonForm:function(){return Promise.all([a.e(17672),a.e(42152),a.e(50856),a.e(63560),a.e(63450),a.e(9303),a.e(74023),a.e(96345),a.e(49852),a.e(39946),a.e(1696),a.e(14355),a.e(59655),a.e(86720),a.e(40954),a.e(58930),a.e(13852),a.e(85027),a.e(59146),a.e(80809)]).then(a.bind(a,32444))},ElecHomePage:function(){return a.e(16848).then(a.bind(a,16848))},diskFile:function(){return Promise.all([a.e(97805),a.e(82060),a.e(89590)]).then(a.bind(a,45411))},cdReportIndex:function(){return a.e(8124).then(a.bind(a,8124))}},data:function(){return{active:0,tabParams:{},tabsPage:!1,clickTabIndex:0,routeKey:"",tabsConfig:null,tempKeyWord:"",realKeyWord:"",docTitle:"",showDetailBadge:!1,sticky:!0,goSearchRoute:this.$route.query.goSearch}},computed:h({},(0,t.rn)({isShowAppFooter:function(e){return e.isShowAppFooter},isShowAppHeader:function(e){return e.isShowAppHeader}})),activated:function(){f.Z.setTitle(this.docTitle),this.refreshBadge(this.active),this.tabsConfig.url&&1==this.tabsConfig.tabslist.length&&(this.oppsetTop=dsf.util.getOffsetTop("0.92rem"))},created:function(){var o=this;return(0,s.Z)(c().mark(function e(){var t,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=o).$route.query.active&&(o.active=Number(o.$route.query.active)),t=dsf.config.commonTabs,o.routeKey=o.tabKey||o.$route.params.key,o.tabsConfig=t[o.routeKey],o.tabsConfig.url)return e.next=8,dsf.http.post(o.tabsConfig.url).then(function(e){200==e.data.code&&(o.tabsConfig.tabslist=e.data.data,1==o.tabsConfig.tabslist.length)&&(o.sticky=!1,setTimeout(function(){$(".commontabs > .van-tabs__wrap").css("display","none"),o.oppsetTop=dsf.util.getOffsetTop("0.92rem")},100))});e.next=8;break;case 8:o.tabsConfig&&(o.docTitle=o.$route.query.title||o.tabsConfig.remark,o.showDetailBadge=o.tabsConfig.showDetailBadge||!1,f.Z.setTitle(o.docTitle),o.tabParams=JSON.parse(u()(o.tabsConfig)),a=[],o.tabParams.tabslist.forEach(function(e){var t=h({},e);t.params&&d()(t.params).forEach(function(e){t.params[e]=dsf.util.getReplaceUrl(t.params[e])}),t.badgeUrl&&(t.badgeUrl=dsf.util.getReplaceUrl(t.badgeUrl),dsf.http.get(t.badgeUrl).then(function(e){o.$delete(t,"badge");e=e.data.total||e.data.badge||e.data.data;o.$set(t,"badge",e)})),t.countUrl&&(t.countUrl=dsf.util.getReplaceUrl(t.countUrl),dsf.http.get(t.countUrl).then(function(e){o.$delete(t,"count");e=e.data.total||e.data.badge||e.data.data;o.$set(t,"count",e)})),t.privilege?null!=(e=dsf.util.loadSessionStore("user"))&&e.privileges.some(function(e){return e.name==t.privilege})&&a.push(t):null!=(e=dsf.util.loadSessionStore("user"))&&e.privileges.some(function(e){return e.name==t.noPrivilege})||a.push(t)}),o.tabParams.tabslist=a),o.$eventBus.onRefreshBadge(o,function(e){o.refreshBadge(e)});case 10:case"end":return e.stop()}},e)}))()},filters:{badgeCount:function(e){return 100<e?n.showDetailBadge?e:"99+":e<1?"":e}},methods:{refreshBadge:function(a){var o=this;this.tabParams.tabslist.forEach(function(t,e){!t.badgeUrl||null!=a&&a!=e||dsf.http.get(t.badgeUrl).then(function(e){e=e.data.total||e.data.badge||e.data.data;o.$set(t,"badge",e)}),!t.countUrl||null!=a&&a!=e||dsf.http.get(t.countUrl,{}).then(function(e){e=e.data.total||e.data.badge||e.data.data;o.$set(t,"count",e)})})},tabChange:function(e,t){p.log(e+"---"+t),this.clickTabIndex=e},onSearch:function(){this.realKeyWord=this.tempKeyWord},onFocus:function(){this.goSearchRoute&&this.$router.push({name:this.goSearchRoute})},cancelCheck:function(){this.$emit("cancelCheck")},confirmCheck:function(e){this.$emit("confirmCheck",e)}},deactivated:function(){var e,t,a=this,o=this;["jiangsuyancaoNewsDetail"].filter(function(e){return e==a.$route.name}).length,dsf.config.setting["SYS-MOBILE-FORM-0020"]&&(e=dsf.config.setting["SYS-MOBILE-FORM-0020"].split(","),t=!1,e.forEach(function(e){o.$route.path.toLowerCase()==e&&(t=!0)}),t)&&(o.$eventBus.Off(this,"refreshBadge"),o.$deleteCache(this))},beforeRouteLeave:function(e,t,a){var o;"commonList"!=e.name&&"index"!=e.name&&"wanHome"!=e.name&&!e.name.toLowerCase().includes("index")||(this.$eventBus.Off(this,"refreshBadge"),o=this,setTimeout(function(){o.$deleteCache(o)},500)),a()}},b=(0,a(51900).Z)(t,function(){var a=this,o=a._self._c;return o("div",{attrs:{id:"common-tabs"}},[a.tabsConfig&&a.tabsConfig.showSearchBox?o("van-search",{attrs:{"show-action":"",placeholder:"请输入查询信息","left-icon":"",clearable:!1},on:{search:a.onSearch,focus:a.onFocus},scopedSlots:a._u([{key:"right-icon",fn:function(){return[o("div",{staticClass:"flex ac",on:{click:a.onSearch}},[o("van-icon",{attrs:{name:"search",size:"0.44rem"}})],1)]},proxy:!0},{key:"action",fn:function(){},proxy:!0}],null,!1,2275234293),model:{value:a.tempKeyWord,callback:function(e){a.tempKeyWord=e},expression:"tempKeyWord"}}):a._e(),a._v(" "),o("van-tabs",{staticClass:"commontabs",attrs:{sticky:a.sticky,"offset-top":a.tabOppsetTop?a.dsf.util.getOffsetTop(a.tabOppsetTop):a.dsf.util.getOffsetTop(),swipeable:"","swipe-threshold":""},on:{change:a.tabChange},model:{value:a.active,callback:function(e){a.active=e},expression:"active"}},a._l(a.tabParams.tabslist,function(e,t){return o("van-tab",{key:t,attrs:{title:"tabs"+e.name,badge:a._f("badgeCount")(e.badge),name:t},scopedSlots:a._u([{key:"title",fn:function(){return[e.icon?o("van-icon",{attrs:{name:e.icon}}):a._e(),a._v(" "),o("span",[a._v(a._s(e.name))]),e.count?o("span",[a._v("("+a._s(a._f("badgeCount")(e.count))+")")]):a._e()]},proxy:!0}],null,!0)},[a._v(" "),"defaultList"==e.goRoute?o("keep-alive",[o("default-list",{attrs:{currentTabs:t,params:e,tabsPage:a.tabsPage,clickTabIndex:a.clickTabIndex,routeKey:a.routeKey,mainKeyWord:a.realKeyWord,oppsetTop:a.oppsetTop||(a.isShowAppHeader?"1.8rem":"0.88rem"),checkable:a.checkable,"check-type-pop":a.checkType},on:{cancelCheck:a.cancelCheck,confirmCheck:a.confirmCheck}})],1):"jiangsuyancaoTable"==e.goRoute?o("jiangsuyancao-table",{attrs:{params:e,oppsetTop:a.isShowAppHeader?"1.8rem":"0.88rem"}}):"elecHomePage"==e.goRoute?o("keep-alive",[o("ElecHomePage",{attrs:{clickTabIndex:a.clickTabIndex,currentTabs:t,tabParams:a.tabParams.tabslist[a.clickTabIndex]}})],1):"commonForm"==e.goRoute?o("commonForm",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,_moduleId:e.params.moduleId,_pk:e.params.pk,_formId:e.params.formId,_params:e.params||{}}}):"diskFile"==e.goRoute?o("diskFile",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,params:e,mainKeyWord:a.realKeyWord}}):"cdReportIndex"==e.goRoute?o("keep-alive",[o("cdReportIndex",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,params:e,mainKeyWord:a.realKeyWord}})],1):o("tab-todo",{attrs:{params:e}})],1)}),1)],1)},[],!1,null,"e00f8b7e",null).exports},23070:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var o,t=a(77193),n=(a(88152),a(58086)),r=a(50073),n={components:((0,t.Z)(o={},n.Z.name,n.Z),(0,t.Z)(o,"formTab",r.default),o),data:function(){return{value:dsf.util.loadLocalStore("multiple")?dsf.util.loadLocalStore("multiple"):5,oldfontSize:"",oldMultiple:"",formData:{main:{A0001:{value:"预览字体大小"},A0002:{value:"拖动下面的滑块，可设置字体大小"},A0003:{value:"设置后，会改变整体应用的字体大小，如使用过程中存在问题，请反馈给开发团队"}}},formMeta:{controls:[{controlId:"BKEK9XriZnDZGCm9",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"字体大小",metaId:"A0001",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}},{controlId:"jMaHocndkoqROCCj",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"设置方式",metaId:"A0002",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}},{controlId:"BKEK9XriZnDZGCm0",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"示例",metaId:"A0003",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}}],parameters:{}}}},computed:{},watch:{value:function(e,t){var a=document.documentElement.style.fontSize.split("px")[0]/(dsf.util.loadLocalStore("multiple")||dsf.util.loadLocalStore("fontSizeMultiple")||5)*e;dsf.util.saveToLocalStore("multiple",e),document.documentElement.style.fontSize=a+"px"}},created:function(){this.oldfontSize=document.documentElement.style.fontSize.split("px")[0],this.oldMultiple=dsf.util.loadLocalStore("multiple")||dsf.util.loadLocalStore("fontSizeMultiple")||5},methods:{confirm:function(){this.$router.go(-1)},back:function(){dsf.util.saveToLocalStore("multiple",this.oldMultiple),document.documentElement.style.fontSize=this.oldfontSize+"px",this.$router.go(-1)}}},i=(0,a(51900).Z)(n,function(){var t=this,a=t._self._c;return a("div",{staticClass:"setFontSize"},[a("van-nav-bar",{attrs:{title:"设置字体大小","left-text":"返回","left-arrow":""},on:{"click-left":t.back},scopedSlots:t._u([{key:"right",fn:function(){return[a("span",{staticClass:"color_green font_17",on:{click:t.confirm}},[t._v("使用")])]},proxy:!0}])}),t._v(" "),a("formTab",{attrs:{formData:t.formData,formMeta:t.formMeta}}),t._v(" "),a("div",{staticClass:"slider",staticStyle:{padding:"20px 20px 36px"}},[a("div",{staticClass:"fontA"},t._l(6,function(e){return a("span",{key:e,style:{fontSize:11.2+1.6*e+"px"}},[t._v(t._s(3==e?"标准":"A"))])}),0),t._v(" "),a("van-slider",{attrs:{"active-color":"#ee0a24",step:.5,min:4,max:6.5},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},[],!1,null,"101f2514",null).exports}}]);