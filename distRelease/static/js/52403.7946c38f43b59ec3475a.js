"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[52403],{26538:function(t,a,e){e.d(a,{Z:function(){return i}});var a={name:"padHeader",components:{},data:function(){return{userInfo:{photo:"",logName:""},keyword:""}},computed:{},watch:{},methods:{exit:function(){dsf.layer.confirm({message:"是否确认退出登录",confirmButtonText:"确认"},function(){dsf.util.logOut()})},search:function(){this.keyword&&this.$emit("doSearch",this.keyword)}},created:function(){},mounted:function(){this.userInfo=dsf.util.loadSessionStore("user")},destroyed:function(){}},i=(0,e(51900).Z)(a,function(){var t=this,a=t._self._c;return a("div",{staticClass:"padHeader"},[a("img",{staticClass:"logo",attrs:{src:"static/images/project/fgwPad/logo.png",alt:"",srcset:""}}),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"user"},[a("span",{staticClass:"photo"},[a("van-image",{attrs:{src:t.userInfo.photo||""},scopedSlots:t._u([{key:"error",fn:function(){return[a("img",{attrs:{src:"static/images/project/fgwPad/user-img.png",alt:"",srcset:""}})]},proxy:!0}])})],1),t._v(" "),a("span",{staticClass:"username"},[t._v("您好！"+t._s(t.userInfo.logName))])]),t._v(" "),a("div",{staticClass:"exit",staticStyle:{display:"none"}},[a("img",{staticClass:"close",attrs:{src:"static/images/project/fgwPad/tc.png",alt:"",srcset:""},on:{click:t.exit}})])])])},[],!1,null,"7126c28e",null).exports},52403:function(t,a,e){e.r(a),e.d(a,{default:function(){return r}});var a=e(26538),i={name:"padList",props:{list:{type:Array},isDaiBan:{type:Boolean}},data:function(){return{}},methods:{link:function(t){var a=this;this.isDaiBan?dsf.http.post("fn//fgw/todo/setRead",{id:t.id}).done(function(t){}).error(function(t){}).finally(function(){a.$router.push({name:"dsfIframe",query:{url:t.url,title:t.bt}})}):this.$router.push({name:"dsfIframe",query:{url:t.url,title:t.bt}})},isUrgent:function(t){return 1==t},isRead:function(t){return 0==t}}},e=e(51900),i=(0,e.Z)(i,function(){var e=this,t=e._self._c;return t("div",e._l(e.list,function(a){return t("div",{key:a.id,staticClass:"info",class:[e.isDaiBan&&e.isRead(a.whetherRead)?"dot":""],on:{click:function(t){return e.link(a)}}},[t("div",{staticClass:"info_t",class:[e.isDaiBan&&e.isRead(a.whetherRead)?"blod":"normal"]},[e.isDaiBan&&e.isUrgent(a.urgent)?t("img",{staticClass:"img",attrs:{src:"static/images/project/fgwPad/ji.png"}}):e._e(),e._v(" "),e.isDaiBan?t("p",{staticClass:"fawen"},[e._v("["+e._s(a.module_name)+"]")]):e._e(),e._v(" "),t("p",{staticClass:"content"},[e._v(e._s(a.bt))])]),e._v(" "),t("div",{staticClass:"info_b"},[t("div",{staticClass:"pishi"},[t("img",{staticClass:"img",attrs:{src:"static/images/project/fgwPad/pishi.png"}}),e._v(" "),t("span",[e._v(e._s(a.userName))])]),e._v(" "),t("div",{staticClass:"time"},[t("img",{staticClass:"img",attrs:{src:"static/images/project/fgwPad/timer.png"}}),e._v(" "),t("span",[e._v(e._s(a.time))])])]),e._v(" "),t("p",{staticClass:"line"})])}),0)},[],!1,null,"12bb8ac6",null).exports,n=(0,e.Z)({name:"daiban",components:{padList:i},data:function(){return{tabIndex:1,tabList:[{name:"待办事项",total:0,type:1},{name:"暂不提醒",total:0,type:2}],list:[],finished:!1,loading:!1,refreshing:!1,page:0,limit:5,timer:null}},computed:{},watch:{},methods:{changeTab:function(t){this.tabIndex=t,this.doRefresh()},doRefresh:function(){this.finished=!1,this.refreshing=!0,this.loading=!0,this.onLoad()},onLoad:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.refreshing&&(e.list=[],e.page=0,e.refreshing=!1),dsf.http.post("/fn/developmentOffice/todoData",{kind:e.tabIndex,bt:"",page:e.page}).then(function(t){var a,t=t.data;200!=t.code||(t&&t.data&&0<t.data.length&&(t.data.forEach(function(t){t.time=t.time?moment(new Date(t.time)).format("YYYY-MM-DD"):""}),e.list=e.list.concat(t.data),a=e.list.filter(function(t){return 0==t.whetherRead}),e.tabList[0].total=a.length||0),t.data.length<e.limit)?e.finished=!0:e.page+=1}).catch(function(t){t=t.message;e.finished=!0,dsf.layer.toast(t)}).finally(function(){e.loading=!1,e.refreshing=!1})},1e3)}},created:function(){},mounted:function(){},destroyed:function(){}},function(){var e=this,t=e._self._c;return t("div",{staticClass:"daiban"},[t("div",{staticClass:"tabHeader"},[t("div",{staticClass:"tabDiv"},e._l(e.tabList,function(a){return t("div",{key:a.type,staticClass:"item",class:{active:a.type==e.tabIndex},on:{click:function(t){return e.changeTab(a.type)}}},[t("span",[e._v(e._s(a.name))]),e._v(" "),a.total&&0<a.total?t("label",{staticClass:"tipNum"},[e._v(e._s(a.total))]):e._e()])}),0)]),e._v(" "),t("div",{staticClass:"fileLists"},[t("div",{staticClass:"disk-file-list"},[0!=e.list.length||e.loading?e._e():t("commonempty"),e._v(" "),t("van-list",{attrs:{finished:e.finished,"finished-text":""},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[t("padList",{attrs:{list:e.list,isDaiBan:!0}})],1)],1)])])},[],!1,null,"539920d9",null).exports,s=(0,e.Z)({name:"zhiban",components:{padList:i},data:function(){return{tabIndex:1,tabList:[{name:"已发送",type:1},{name:"已办结",type:2}],list:[],finished:!1,loading:!1,refreshing:!1,page:0,limit:5,searchValue:"",timer:null}},computed:{},watch:{},methods:{changeTab:function(t){this.tabIndex=t,this.searchValue="",this.doRefresh()},doRefresh:function(){this.finished=!1,this.refreshing=!0,this.loading=!0,this.onLoad()},onLoad:function(){var a=this;clearTimeout(this.timer),this.timer=setTimeout(function(){a.refreshing&&(a.list=[],a.page=0,a.refreshing=!1),dsf.http.post("/fn/developmentOffice/dutyData",{type:"zb",kind:a.tabIndex,bt:a.searchValue,page:a.page}).then(function(t){t=t.data;200!=t.code||(t&&t.data&&0<t.data.length&&(t.data.forEach(function(t){t.time=t.time?moment(new Date(t.time)).format("YYYY-MM-DD"):""}),a.list=a.list.concat(t.data)),t.data.length<a.limit)?a.finished=!0:a.page+=1}).catch(function(t){t=t.message;a.finished=!0,dsf.layer.toast(t)}).finally(function(){a.loading=!1,a.refreshing=!1})},1e3)},onSearch:function(t){this.doRefresh()}},created:function(){},mounted:function(){},destroyed:function(){}},function(){var e=this,t=e._self._c;return t("div",{staticClass:"zhiban"},[t("div",{staticClass:"tabHeader"},[t("div",{staticClass:"tabDiv"},e._l(e.tabList,function(a){return t("div",{key:a.type,staticClass:"item",class:{active:a.type==e.tabIndex},on:{click:function(t){return e.changeTab(a.type)}}},[t("span",[e._v(e._s(a.name))])])}),0)]),e._v(" "),t("div",{staticClass:"fileLists"},[t("form",{staticClass:"search",attrs:{action:"/"}},[t("van-search",{attrs:{"show-action":"",placeholder:"请输入关键词",leftIcon:"static/images/project/fgwPad/ss.png"},on:{search:e.onSearch},scopedSlots:e._u([{key:"action",fn:function(){return[t("van-button",{attrs:{"native-type":"button"},on:{click:function(t){return t.stopPropagation(),e.onSearch.apply(null,arguments)}}},[e._v("检索")])]},proxy:!0}]),model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),t("div",{staticClass:"disk-file-list"},[t("van-pull-refresh",{on:{refresh:e.doRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[0!=e.list.length||e.loading?e._e():t("commonempty"),e._v(" "),t("van-list",{attrs:{finished:e.finished,"finished-text":""},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[t("padList",{attrs:{list:e.list,isDaiBan:!1}})],1)],1)],1)])])},[],!1,null,"4247dfc2",null).exports,i=(0,e.Z)({name:"qianbao",components:{padList:i},data:function(){return{tabIndex:1,tabList:[{name:"已发送",type:1},{name:"已办结",type:2}],list:[],finished:!1,loading:!1,refreshing:!1,page:0,limit:5,searchValue:"",timer:null}},computed:{},watch:{},methods:{changeTab:function(t){this.tabIndex=t,this.searchValue="",this.doRefresh()},doRefresh:function(){this.finished=!1,this.refreshing=!0,this.loading=!0,this.onLoad()},onLoad:function(){var a=this;clearTimeout(this.timer),this.timer=setTimeout(function(){a.refreshing&&(a.list=[],a.page=0,a.refreshing=!1),dsf.http.post("/fn/developmentOffice/dutyData",{type:"qb",kind:a.tabIndex,bt:a.searchValue,page:a.page}).then(function(t){t=t.data;200!=t.code||(t&&t.data&&0<t.data.length&&(t.data.forEach(function(t){t.time=t.time?moment(new Date(t.time)).format("YYYY-MM-DD"):""}),a.list=a.list.concat(t.data)),t.data.length<a.limit)?a.finished=!0:a.page+=1}).catch(function(t){t=t.message;a.finished=!0,dsf.layer.toast(t)}).finally(function(){a.loading=!1,a.refreshing=!1})},1e3)},onSearch:function(t){this.doRefresh()}},created:function(){},mounted:function(){},destroyed:function(){}},function(){var e=this,t=e._self._c;return t("div",{staticClass:"qianbao"},[t("div",{staticClass:"tabHeader"},[t("div",{staticClass:"tabDiv"},e._l(e.tabList,function(a){return t("div",{key:a.type,staticClass:"item",class:{active:a.type==e.tabIndex},on:{click:function(t){return e.changeTab(a.type)}}},[t("span",[e._v(e._s(a.name))])])}),0)]),e._v(" "),t("div",{staticClass:"fileLists"},[t("form",{staticClass:"search",attrs:{action:"/"}},[t("van-search",{attrs:{"show-action":"",placeholder:"请输入关键词",leftIcon:"static/images/project/fgwPad/ss.png"},on:{search:e.onSearch},scopedSlots:e._u([{key:"action",fn:function(){return[t("van-button",{attrs:{"native-type":"button"},on:{click:function(t){return t.stopPropagation(),e.onSearch.apply(null,arguments)}}},[e._v("检索")])]},proxy:!0}]),model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1),e._v(" "),t("div",{staticClass:"disk-file-list"},[0!=e.list.length||e.loading?e._e():t("commonempty"),e._v(" "),t("van-list",{attrs:{finished:e.finished,"finished-text":""},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[t("padList",{attrs:{list:e.list,isDaiBan:!1}})],1)],1)])])},[],!1,null,"0fb70de4",null).exports,o=(0,e.Z)({name:"yingyong",components:{},data:function(){return{list:[],loading:!0}},computed:{},watch:{},methods:{init:function(){var a=this;dsf.http.post("/ctrl/developmentOffice/getApplicationData",{}).then(function(t){t=t.data;200==t.code&&t&&t.data&&0<t.data.length&&(t.data.forEach(function(t){}),a.list=a.list.concat(t.data))}).catch(function(t){t=t.message;dsf.layer.toast(t)}).finally(function(){a.loading=!1})},link:function(t){this.$router.push({name:"dsfIframe",query:{url:t.SSOURL,title:t.APP_NAME}})}},created:function(){this.init()},mounted:function(){},destroyed:function(){}},function(){var e=this,t=e._self._c;return t("div",{staticClass:"yingyong"},[t("div",{staticClass:"box"},[e.loading?t("van-loading",{attrs:{type:"spinner"}}):e._e(),e._v(" "),e._l(e.list,function(a){return t("div",{key:a.ID,staticClass:"info",on:{click:function(t){return e.link(a)}}},[t("div",{staticClass:"tubiao"},[t("img",{attrs:{src:a.ICON}}),e._v(" "),0<a.COUNT?t("p",{staticClass:"num"},[e._v(e._s(a.COUNT))]):e._e()]),e._v(" "),t("p",[e._v(e._s(a.APP_NAME))])])})],2)])},[],!1,null,"4350fe7d",null).exports,c="",a={name:"staging",components:{padHeader:a.Z,daiban:n,zhiban:s,qianbao:i,yinyong:o},data:function(){return{tabIndex:0,tabList:[{name:"待办事项",icon:"static/images/project/fgwPad/db.svg",icon_active:"static/images/project/fgwPad/db_active.svg",ref:"daiban"},{name:"值班管理",icon:"static/images/project/fgwPad/zb.svg",icon_active:"static/images/project/fgwPad/zb_active.svg",ref:"zhiban"},{name:"签报管理",icon:"static/images/project/fgwPad/qb.svg",icon_active:"static/images/project/fgwPad/qb_active.svg",ref:"qianbao"},{name:"应用中心",icon:"static/images/project/fgwPad/yy.svg",icon_active:"static/images/project/fgwPad/yy_active.svg",ref:"yinyong"}]}},computed:{},watch:{},methods:{changeTab:function(t,a){this.tabIndex=a}},created:function(){},mounted:function(){},destroyed:function(){},beforeRouteEnter:function(t,a,e){c=a.name,e()},activated:function(){window.addEventListener("resize",function(){var t=window.document.documentElement,a=t.clientWidth/128*5;t.style.fontSize=a+"px"}),"dsfIframe"==c&&this.$refs[this.tabList[this.tabIndex].ref].doRefresh()}},r=(0,e.Z)(a,function(){var i=this,t=i._self._c;return t("div",{staticClass:"staging"},[t("padHeader",{staticClass:"head"}),i._v(" "),t("div",{staticClass:"contain"},[t("div",{staticClass:"leftTab"},i._l(i.tabList,function(a,e){return t("div",{key:e,staticClass:"tabItem",class:{active:i.tabIndex==e},on:{click:function(t){return i.changeTab(a,e)}}},[[t("img",{directives:[{name:"show",rawName:"v-show",value:i.tabIndex!=e,expression:"tabIndex != index"}],staticClass:"icon",attrs:{src:a.icon,alt:""}}),i._v(" "),t("img",{directives:[{name:"show",rawName:"v-show",value:i.tabIndex==e,expression:"tabIndex == index"}],staticClass:"icon",attrs:{src:a.icon_active,alt:""}}),i._v(" "),t("span",[i._v(i._s(a.name))])]],2)}),0),i._v(" "),t("div",{staticClass:"rightContent"},[0==i.tabIndex?t("daiban",{ref:"daiban"}):i._e(),i._v(" "),1==i.tabIndex?t("zhiban",{ref:"zhiban"}):i._e(),i._v(" "),2==i.tabIndex?t("qianbao",{ref:"qianbao"}):i._e(),i._v(" "),3==i.tabIndex?t("yinyong"):i._e()],1)])],1)},[],!1,null,"79148022",null).exports}}]);