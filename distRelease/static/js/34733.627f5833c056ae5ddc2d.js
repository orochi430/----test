"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[34733],{11865:function(t,e,n){n.d(e,{Z:function(){return p}});var e=n(26243),s=n.n(e),e=n(62680),o=n.n(e),e=n(95366),r=n.n(e),e=n(6919),i=n.n(e),l=n(5044),c=n(77193),e=n(18428),d=n.n(e);function u(e,t){var a,i=s()(e);return o()&&(a=o()(e),t&&(a=a.filter(function(t){return r()(e,t).enumerable})),i.push.apply(i,a)),i}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach(function(t){(0,c.Z)(e,t,a[t])}):i()?Object.defineProperties(e,i()(a)):u(Object(a)).forEach(function(t){Object.defineProperty(e,t,r()(a,t))})}return e}var e={name:"commonCard",components:{},props:{title:{default:"",type:String},type:{default:"",type:String},keyword:{default:"",type:String},cardHeight:{default:"",type:String}},data:function(){return{appList:[],pageIndex:1,pageSize:10,loading:!1,finished:!1,refreshing:!1,url:"",apiObj:{}}},computed:{cardType:{get:function(){return this.type},set:function(){}}},watch:{},created:function(){this.initUrl()},mounted:function(){},methods:{initUrl:function(){var t={moduleId:"190105143853JG60tzYub8kZVlHz41r","query_S-APP-0056":"1",zdfw:"1"},e={};switch(this.cardType){case"all":this.url="fn/application/store/230518181204g9QDOvekP21o3FtcX82/mobile/q",e={_content:this.keyword,"query_S-APP-0096":"","query_S-APP-0087":""},this.apiObj=a(a({},t),e);break;case"recommend":this.url="fn/application/store/230518151804YdPmKWxiYAZ7HQHj7Ko/mobile/q",this.apiObj=t;break;case"hot":this.url="fn/application/store/230518180238gDkLQrJ3dNXmQmRUmYn/mobile/q",this.apiObj=t;break;case"my":this.url="fn/list/230518192726S3IUYa85cukZZxi88yz/mobile/q",e={listId:"230518192726S3IUYa85cukZZxi88yz"},this.apiObj=a(a({},t),e);break;case"applying":this.url="fn/list/230519141156TOWA7ZDldtH2J6qMG0D/mobile/q",e={_content:this.keyword,listId:"230519141156TOWA7ZDldtH2J6qMG0D"},this.apiObj=a(a({},t),e);break;case"applyPass":this.url="fn/list/230518192726S3IUYa85cukZZxi88yz/mobile/q",e={_content:this.keyword,listId:"230518192726S3IUYa85cukZZxi88yz"},this.apiObj=a(a({},t),e);break;case"applyReject":this.url="fn/list/230519141254N97FnClw8F6KVxrkfT2/mobile/q",e={_content:this.keyword,listId:"230519141254N97FnClw8F6KVxrkfT2"},this.apiObj=a(a({},t),e)}},getList:function(){var a=this,t=(this.refreshing&&(this.appList=[],this.pageIndex=1,this.refreshing=!1),d()(this.apiObj,{page:this.pageIndex,limit:this.pageSize}));dsf.http.post(this.url,t).then(function(t){var e;a.loading=!1,t&&200==t.status&&t.data&&t.data.datas&&(e=t.data.datas.map(function(t){return{id:t.dataValue["S-BASE-0001"]||t.dataValue["app.S-BASE-0001"],icon:dsf.url.getServerUrl("fn/file/downloadImage?fileName=".concat(t.dataValue["S-APP-0026"]||t.dataValue["app.S-APP-0026"])),text:t.dataValue["S-APP-0001"]||t.dataValue["app.S-APP-0001"],module:t.dataValue["S-APP-0066"]||t.dataValue["app.S-APP-0066"],rate:Number(t.dataValue["S-APP-0110"]||t.dataValue["app.S-APP-0110"]),time:t.dataValue["S-APP-0108"]||t.dataValue["app.S-APP-0108"],used:t.dataValue["S-APP-0109"]||t.dataValue["app.S-APP-0109"]}}),0<a.appList.length?a.appList=[].concat((0,l.Z)(a.appList),(0,l.Z)(e)):a.appList=e,a.pageIndex++,a.appList.length!=t.data.total)&&!(t.data.datas.length<a.pageSize)||(a.finished=!0)}).catch(function(t){}).finally(function(){a.finished=!0,a.loading=!1})},onLoad:function(){this.getList()},onRefresh:function(){this.finished=!1,this.loading=!0,this.refreshing=!0,this.pageIndex=1,this.getList()},goDetail:function(t){this.$router.push({path:"/applicationDetail/".concat(t.id)})}}},p=(0,n(51900).Z)(e,function(){var a=this,i=a._self._c;return i("div",{staticClass:"common-card",style:{height:"".concat(a.cardHeight)}},[a.title?i("div",{staticClass:"card-title"},[i("p",[i("img",{attrs:{src:n(33996),alt:""}}),a._v(" "),i("span",[a._v(a._s(a.title))])])]):a._e(),a._v(" "),i("van-pull-refresh",{on:{refresh:a.onRefresh},model:{value:a.refreshing,callback:function(t){a.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:a.finished},on:{load:a.onLoad},model:{value:a.loading,callback:function(t){a.loading=t},expression:"loading"}},a._l(a.appList,function(e,t){return i("div",{key:t,staticClass:"list-box",on:{click:function(t){return a.goDetail(e)}}},[i("div",{staticClass:"top-content"},[i("div",{staticClass:"app-info"},[i("img",{attrs:{src:e.icon,alt:""}}),a._v(" "),i("div",[i("p",[a._v(a._s(e.text))]),a._v(" "),i("span",[a._v(a._s(e.module))])])]),a._v(" "),i("van-rate",{attrs:{size:12,color:"#F19927","void-icon":"star","void-color":"#eee",readonly:""},model:{value:e.rate,callback:function(t){a.$set(e,"rate",t)},expression:"item['rate']"}})],1),a._v(" "),i("div",{staticClass:"bottom-content"},[i("span",[a._v("发布时间："+a._s(e.time))]),a._v(" "),i("span",[a._v("使用量："+a._s(e.used||0))])])])}),0)],1),a._v(" "),a.appList.length||a.loading?a._e():i("commonempty")],1)},[],!1,null,"9e47efe0",null).exports},34733:function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var e={name:"searchResult",components:{CommonCard:a(11865).Z},props:{},data:function(){return{keyword:this.$route.query.key||""}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{search:function(t){this.keyword=t,this.$refs.commonCard.initUrl(),this.$refs.commonCard.onRefresh()}}},i=(0,a(51900).Z)(e,function(){var e=this,t=e._self._c;return t("div",{staticClass:"applyrRecord"},[t("div",{staticClass:"search-box"},[t("van-search",{attrs:{placeholder:"搜索","left-icon":"",clearable:!1},on:{search:e.search},scopedSlots:e._u([{key:"left-icon",fn:function(){return[t("i",{staticClass:"iconfont iconsousuo i1",staticStyle:{color:"#999"},on:{click:function(t){return e.search(e.keyword)}}})]},proxy:!0}]),model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),t("div",{staticClass:"result-box"},[t("common-card",{ref:"commonCard",attrs:{title:"应用列表",keyword:e.keyword,cardHeight:"calc(100vh - ".concat(e.dsf.util.getOffsetTop()," - ").concat(e.$store.state.isShowAppFooter?"1.2rem":"0px"," - 75px)"),type:"all"}})],1)])},[],!1,null,"3811ab90",null).exports},33996:function(t,e,a){t.exports=a.p+"static/img/icon-line.22d6bd9..png"}}]);