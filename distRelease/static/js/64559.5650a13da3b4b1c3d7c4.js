"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[64559],{64559:function(e,i,n){n.r(i),n.d(i,{default:function(){return s}});var a=n(25108),i={filters:{dateFormat:function(e){return e?dsf.date.format(e,"yyyy-mm-dd"):""}},data:function(){return{keywords:"",loading:!1,finished:!1,refreshing:!1,finishedTips:"没有更多了",page:1,pageSize:10,list:[]}},methods:{onLoad:function(){var i=this;i.refreshing&&(i.list=[],i.page=1,i.refreshing=!1),dsf.http.get("api/app/yidian_news",{page:i.page,limit:i.pageSize,keyword:i.keywords}).done(function(e){0==e.code?(i.page++,i.list=i.list.concat(e.data.news),e.data.news.length<i.pageSize&&(i.finished=!0)):dsf.layer.toast(e.msg)}).error(function(e){i.list=null,a.log("yidian_news-error",e)}).always(function(){i.loading=!1})},onRefresh:function(){var e=this;e.finished=!1,e.loading=!0,e.keywords="",e.onLoad()},go:function(e){this.$router.push("/jinboNewsDetail/".concat(e.id))},onSearch:function(e){var i=this;i.page=1,i.list=[],i.loading=!0,i.onLoad()}}},s=(0,n(51900).Z)(i,function(){var n=this,a=n._self._c;return a("van-pull-refresh",{on:{refresh:n.onRefresh},model:{value:n.refreshing,callback:function(e){n.refreshing=e},expression:"refreshing"}},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:n.onSearch},model:{value:n.keywords,callback:function(e){n.keywords=e},expression:"keywords"}}),n._v(" "),a("div",{staticClass:"news-container"},[a("van-list",{attrs:{finished:n.finished,"finished-text":n.finishedTips},on:{load:n.onLoad},model:{value:n.loading,callback:function(e){n.loading=e},expression:"loading"}},[0<n.list.length?n._l(n.list,function(i,e){return a("div",{staticClass:"news-item",on:{click:function(e){return n.go(i)}}},[a("div",{staticClass:"flex jb as main"},[a("div",{staticClass:"title clamp"},[n._v(n._s(i.title))]),n._v(" "),i.image?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.image,expression:"item.image"}],attrs:{alt:""}}):n._e()]),n._v(" "),a("div",{staticClass:"flex jb sub"},[a("div",[n._v("来源："+n._s(i.origin))]),n._v(" "),a("div",[n._v("发布时间："+n._s(n._f("dateFormat")(i.time)))])])])}):n._e()],2)],1)],1)},[],!1,null,"703ffc2e",null).exports}}]);