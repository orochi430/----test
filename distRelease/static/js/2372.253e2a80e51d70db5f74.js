"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[2372],{58086:function(t,e,i){function a(t,e){return JSON.stringify(t)===JSON.stringify(e)}var n=i(35976),c=i(40216),s=i(78054),r=i(95566),o=i(18169),u=i(94611),i=i(12098),n=(0,n.d)("slider"),l=n[0],d=n[1];e.Z=l({mixins:[u.D,i.f],props:{disabled:Boolean,vertical:Boolean,range:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:[Number,Array],default:0}},data:function(){return{dragStatus:""}},computed:{scope:function(){return this.max-this.min},buttonStyle:function(){var t;if(this.buttonSize)return{width:t=(0,c.N)(this.buttonSize),height:t}}},created:function(){this.updateValue(this.value)},mounted:function(){this.range?(this.bindTouchEvent(this.$refs.wrapper0),this.bindTouchEvent(this.$refs.wrapper1)):this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.currentValue=this.value,this.range?this.startValue=this.value.map(this.format):this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){this.disabled||("start"===this.dragStatus&&this.$emit("drag-start"),(0,r.PF)(t,!0),this.touchMove(t),this.dragStatus="draging",t=this.$el.getBoundingClientRect(),t=(this.vertical?this.deltaY:this.deltaX)/(this.vertical?t.height:t.width)*this.scope,this.range?this.currentValue[this.index]=this.startValue[this.index]+t:this.currentValue=this.startValue+t,this.updateValue(this.currentValue))},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.currentValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){var e,i;t.stopPropagation(),this.disabled||(i=this.$el.getBoundingClientRect(),t=this.vertical?t.clientY-i.top:t.clientX-i.left,i=this.vertical?i.height:i.width,t=+this.min+t/i*this.scope,this.range&&(t<=((e=(i=this.value)[0])+(i=i[1]))/2?e=t:i=t,t=[e,i]),this.startValue=this.value,this.updateValue(t,!0))},handleOverlap:function(t){return t[0]>t[1]?(t=(0,s.I)(t)).reverse():t},updateValue:function(t,e){t=this.range?this.handleOverlap(t).map(this.format):this.format(t),a(t,this.value)||this.$emit("input",t),e&&!a(t,this.startValue)&&this.$emit("change",t)},format:function(t){var e=+this.min,i=+this.max,a=+this.step,i=(t=(0,o.w6)(t,e,i),Math.round((t-e)/a)*a);return(0,o.Ft)(e,i)}},render:function(){function t(){var t=r.value,e=r.min,i=r.range,a=r.scope;return i?100*(t[0]-e)/a+"%":null}function e(e){var i="number"==typeof e,a=i?r.value[e]:r.value;return o("div",{ref:i?"wrapper"+e:"wrapper",attrs:{role:"slider",tabindex:r.disabled?-1:0,"aria-valuemin":r.min,"aria-valuenow":r.value,"aria-valuemax":r.max,"aria-orientation":r.vertical?"vertical":"horizontal"},class:d(i?"button-wrapper-"+["left","right"][e]:"button-wrapper"),on:{touchstart:function(){i&&(r.index=e)},click:function(t){return t.stopPropagation()}}},[function(){if(i){var t=r.slots(0===e?"left-button":"right-button",{value:a});if(t)return t}return r.slots("button")?r.slots("button"):o("div",{class:d("button"),style:r.buttonStyle})}()])}var i,a,n,s,r=this,o=arguments[0],u=this.vertical,l=u?"height":"width",h=((s={background:this.inactiveColor})[u?"width":"height"]=(0,c.N)(this.barHeight),(i={})[l]=(l=r.value,a=r.min,h=r.range,n=r.scope,h?100*(l[1]-l[0])/n+"%":100*(l-a)/n+"%"),i.left=this.vertical?null:t(),i.top=this.vertical?t():null,i.background=this.activeColor,i);this.dragStatus&&(h.transition="none");return o("div",{style:s,class:d({disabled:this.disabled,vertical:u}),on:{click:this.onClick}},[o("div",{class:d("bar"),style:h},[this.range?[e(0),e(1)]:e()])])}})},88152:function(t,e,i){i(99780)},69823:function(t,e,i){i.d(e,{Z:function(){return n}});var r=i(5044),e=i(77193),a=(i(88152),i(58086)),o=i(25108),e={components:(0,e.Z)({},a.Z.name,a.Z),props:{data:{type:Array,default:function(){return[]}},showDefault:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},showSlider:{type:Boolean,default:!1},adjoinGrey:{type:Boolean,default:!1},tbHighLight:{type:Boolean,default:!1},title:{type:String,default:""}},data:function(){return{slider:0,isShow:!1,dataList:this.data.slice(),order:"original"}},watch:{data:function(t){this.dataList=t}},computed:{tableWidth:function(){return 100+this.slider},tableSize:function(){return.28+this.slider/1e3}},mounted:function(){var t=this;this.$refs.dsfTable&&this.$refs.dsfTable.addEventListener("touchend",function(){clearTimeout(t.timeout),t.isShow=!0,t.timeout=setTimeout(function(){return t.isShow=!1},2e3)})},methods:{onChange:function(t){},sort:function(a){o.log("1111111111111111");var n,t,s=this;"showArrow"==a.showCategory&&(n=function(t,e){for(var i=[];0<t.length&&0<e.length;)Number(t[0].dataValue[a.showMetaColumn])<Number(e[0].dataValue[a.showMetaColumn])?"up"==s.order?i.push(t.shift()):i.push(e.shift()):"up"==s.order?i.push(e.shift()):i.push(t.shift());return[].concat(i,(0,r.Z)(t),(0,r.Z)(e))},t=function t(e){var i,a;return 1==e.length?e:(i=Math.floor(e.length/2),a=e.slice(0,i),e=e.slice(i),n(t(a),t(e)))},"up"==this.order?this.order="down":"down"==this.order?this.order="original":this.order="up","original"==this.order?this.dataList=this.data:this.dataList=t(this.dataList))}}},n=(0,i(51900).Z)(e,function(){var i=this,a=i._self._c;return a("div",[0<i.showDefault.length?a("div",{staticClass:"top"},[i._l(i.showDefault,function(t,e){return[t.showName?a("div",{key:e},[t.showName?a("span",[i._v(i._s(t.showName))]):i._e(),i._v(" "),t.text?a("span",[i._v(":"+i._s(t.text))]):i._e()]):i._e()]})],2):i._e(),i._v(" "),i.columns.length?a("div",{ref:"dsfTable",staticClass:"dsf-table"},[a("div",{staticClass:"table",style:{width:i.tableWidth+"vw",fontSize:i.tableSize+"rem"}},[i.title?a("van-row",{staticStyle:{"font-size":"var(--font_size_2)"}},[a("van-col",{class:{highLight:i.tbHighLight},style:{color:i.tbHighLight?"#fff":"",padding:"0.2rem 0"},attrs:{span:"24"}},[i._v(i._s(i.title))])],1):i._e(),i._v(" "),a("van-row",{attrs:{type:"flex",justify:"space-between"}},i._l(i.columns,function(e){return a("van-col",{key:e.showMetaColumn,staticClass:"flex jc ac",class:{highLight:i.tbHighLight},style:{width:100/i.columns.length+"%"},on:{click:function(t){return i.sort(e)}}},[a("span",{style:{color:i.tbHighLight?"#fff":"",verticalAlign:"center"}},[i._v(i._s(e.showName))])])}),1),i._v(" "),i._l(i.dataList,function(e,t){return a("van-row",{key:t,class:{highLight:e.dataValue.isHighLight},style:{backgroundColor:i.adjoinGrey&&t%2==0?"#f1f1f1":""},attrs:{type:"flex",justify:"space-between"}},i._l(i.columns,function(t){return a("van-col",{key:t.showMetaColumn,style:{width:100/i.columns.length+"%",textAlign:"showArrow"==t.showCategory?"right":""}},[a("span",[i._v(i._s(e.dataValue[t.showMetaColumn]))]),i._v(" "),"showArrow"==t.showCategory?a("van-icon",{style:{transform:0<e.dataValue[t.showMetaColumn]?"rotate(180deg)":""},attrs:{name:"down",color:0<e.dataValue[t.showMetaColumn]?"#4daf7b":"#e32416"}}):i._e()],1)}),1)})],2),i._v(" "),i.isShow&&i.showSlider?a("div",{staticClass:"slider"},[a("van-slider",{attrs:{vertical:""},on:{change:i.onChange},model:{value:i.slider,callback:function(t){i.slider=t},expression:"slider"}})],1):i._e()]):i._e()])},[],!1,null,"a637e0f6",null).exports},2372:function(t,e,i){i.r(e),i.d(e,{default:function(){return a}});var e={components:{DsfListTable:i(69823).Z},data:function(){return{keyword:"",columns:[{showCategory:"subTitleA",showName:"值班签到时间",showMetaColumn:"handoverTime"},{showCategory:"subTitleA",showName:"值班人",showMetaColumn:"nextDutyUserName"}],data:[],showDefault:[],showPicker:!1,chooseTime:"",loading:!0,previous:null}},computed:{},watch:{previous:{handler:function(t){this.init()}}},created:function(){this.init()},methods:{init:function(){var e=this;this.loading=!0,dsf.http.post("ctrl/DutyForMobiles/dutyHandoverQuery",{previous:this.previous}).then(function(t){200==t.data.code&&(e.data=t.data.data.map(function(t){return{dataValue:t}}))}).error(function(t){dsf.layer.toast("系统出错，请再次尝试")}).always(function(){e.loading=!1})}}},a=(0,i(51900).Z)(e,function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"allTab"},[t("span",{staticClass:"choose",on:{click:function(t){e.previous=1}}},[e._v("上月")]),e._v(" "),t("span",{staticClass:"choose",on:{click:function(t){e.previous=null}}},[e._v("本月")])]),e._v(" "),e.loading?t("van-loading",{attrs:{size:"24px",vertical:""}},[e._v("加载中...")]):[t("DsfListTable",{attrs:{columns:e.columns,data:e.data,"show-default":e.showDefault,tbHighLight:!0}}),e._v(" "),0==e.data.length?t("commonempty"):e._e()]],2)},[],!1,null,"19eb47b8",null).exports}}]);