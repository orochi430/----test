"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[85036],{85036:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var t=a(54258),t=(a(94859),{name:"inspectorStatistics",components:{VChart:t.Z},data:function(){return{isShowTypePicker:!1,currentType:"全部",currentTypeIndex:0,typeList:["全部","选项1","选项2"],isShowStartTimePicker:!1,isShowEndTimePicker:!1,startDate:new Date((new Date).getFullYear(),0,1),endDate:new Date,tempStartDate:new Date((new Date).getFullYear(),0,1),tempEndDate:new Date,minDate:new Date((new Date).getFullYear()-2,0,1),maxDate:new Date,statisticsList:[{dept:"县教体局",total:1027,inTimeFeedback:1024,lateFeedback:2,noFeedback:1},{dept:"县公安局",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"县发改委",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位测试办理单位测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1},{dept:"测试办理单位",total:5,inTimeFeedback:2,lateFeedback:2,noFeedback:1}],polar:{title:{show:!1},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["#ED7D31","#5B9BD5","#A5A5A5"],legend:{show:!0,orient:"vertical",left:16,bottom:"bottom",data:["已反馈","超期反馈","未反馈"]},series:[{name:"督查件处理情况",type:"pie",radius:"80%",center:["50%","45%"],data:[{value:43,name:"已反馈"},{value:20,name:"超期反馈"},{value:17,name:"未反馈"}],itemStyle:{normal:{label:{show:!0,position:"inner",formatter:function(e){return e.value+"件"+e.percent.toFixed(0)+"%"},textStyle:{color:"#000",fontSize:15}}}}}]}}},created:function(){},mounted:function(){},methods:{typeConfirm:function(e,t){this.currentType=e,this.currentTypeIndex=t,this.isShowTypePicker=!1},openStartTimePicker:function(){this.tempStartDate=this.startDate,this.isShowStartTimePicker=!0},openEndTimePicker:function(){this.tempEndDate=this.endDate,this.isShowEndTimePicker=!0},startDateConfirm:function(e){new Date(e).getTime()>new Date(this.endDate).getTime()?dsf.layer.toast("开始日期不能大于结束日期"):(this.startDate=e,this.isShowStartTimePicker=!1)},endDateConfirm:function(e){new Date(e).getTime()<new Date(this.startDate).getTime()?dsf.layer.toast("结束日期不能小于起始日期"):(this.endDate=e,this.isShowEndTimePicker=!1)},dateFormat:function(e,t){var a,n={"M+":(e=new Date(e)).getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},e=4<=(e=e.getFullYear().toString()).length?e:"0000".substr(0,4-e.length)+e;for(a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}},filters:{numFormat:function(e){return 999<e?"999...":e}}}),n=(0,a(51900).Z)(t,function(){var a=this,n=a._self._c;return n("div",{attrs:{id:"inspector-statistics"}},[n("van-nav-bar",{attrs:{title:"督办统计"}}),a._v(" "),n("div",{staticClass:"select-container"},[n("div",{staticClass:"selece-type",on:{click:function(e){a.isShowTypePicker=!0}}},[n("span",[a._v(a._s(a.currentType))]),a._v(" "),n("van-icon",{attrs:{name:"arrow-down"}})],1),a._v(" "),n("div",[n("span",{on:{click:a.openStartTimePicker}},[a._v(a._s(a.dateFormat(a.startDate,"yyyy-MM-dd")))]),a._v(" "),n("span",[a._v("至")]),a._v(" "),n("span",{on:{click:a.openEndTimePicker}},[a._v(a._s(a.dateFormat(a.endDate,"yyyy-MM-dd")))])])]),a._v(" "),n("div",{staticClass:"chart-container"},[n("v-chart",{attrs:{options:a.polar}})],1),a._v(" "),a._m(0),a._v(" "),a._m(1),a._v(" "),n("div",{staticClass:"table-content-container"},[n("table",{attrs:{border:"1"}},a._l(a.statisticsList,function(e,t){return n("tr",{key:t,style:{backgroundColor:(t+1)%2==1?"":"#8FE9FF"}},[n("td",{staticClass:"dept-name"},[a._v(a._s(e.dept))]),a._v(" "),n("td",[a._v(a._s(a._f("numFormat")(e.total)))]),a._v(" "),n("td",[a._v(a._s(a._f("numFormat")(e.inTimeFeedback)))]),a._v(" "),n("td",[a._v(a._s(a._f("numFormat")(e.lateFeedback)))]),a._v(" "),n("td",[a._v(a._s(a._f("numFormat")(e.noFeedback)))])])}),0)]),a._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:a.isShowTypePicker,callback:function(e){a.isShowTypePicker=e},expression:"isShowTypePicker"}},[n("van-picker",{attrs:{columns:a.typeList,"show-toolbar":"",title:"事项来源","default-index":a.currentTypeIndex},on:{cancel:function(e){a.isShowTypePicker=!1},confirm:a.typeConfirm}})],1),a._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:a.isShowStartTimePicker,callback:function(e){a.isShowStartTimePicker=e},expression:"isShowStartTimePicker"}},[n("van-datetime-picker",{attrs:{type:"date",title:"选择起始时间","min-date":a.minDate,"max-date":a.maxDate},on:{cancel:function(e){a.isShowStartTimePicker=!1},confirm:a.startDateConfirm},model:{value:a.tempStartDate,callback:function(e){a.tempStartDate=e},expression:"tempStartDate"}})],1),a._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:a.isShowEndTimePicker,callback:function(e){a.isShowEndTimePicker=e},expression:"isShowEndTimePicker"}},[n("van-datetime-picker",{attrs:{type:"date",title:"选择结束时间","min-date":a.minDate,"max-date":a.maxDate},on:{cancel:function(e){a.isShowEndTimePicker=!1},confirm:a.endDateConfirm},model:{value:a.tempEndDate,callback:function(e){a.tempEndDate=e},expression:"tempEndDate"}})],1)],1)},[function(){var e=this._self._c;return e("div",{staticClass:"table-title"},[e("p",[this._v("各单位督察件处理情况：")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"table-header-container"},[t("table",{attrs:{border:"1"}},[t("tr",[t("td",{staticStyle:{width:"30%"}},[e._v("办理单位")]),e._v(" "),t("td",[e._v("总文件数")]),e._v(" "),t("td",[e._v("已反馈")]),e._v(" "),t("td",[e._v("超期反馈")]),e._v(" "),t("td",[e._v("未反馈")])])])])}],!1,null,"be13a80c",null).exports}}]);