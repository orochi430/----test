"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[9303],{9303:function(t,a,n){var e=n(26243),i=n.n(e),e=n(62680),d=n.n(e),e=n(95366),s=n.n(e),e=n(6919),o=n.n(e),c=n(66250),u=n(77193),r=n(5044),e=n(33453),l=n.n(e),e=n(18428),h=n.n(e),e=n(79529),f=n.n(e),e=n(8450),p=n.n(e),e=n(43562),m=n.n(e),e=n(73473),g=n.n(e),y=n(90541),I=n(88561),V=n(62596),v=n(25108);function Z(a,t){var e,o=i()(a);return d()&&(e=d()(a),t&&(e=e.filter(function(t){return s()(a,t).enumerable})),o.push.apply(o,e)),o}function k(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(e),!0).forEach(function(t){(0,u.Z)(a,t,e[t])}):o()?Object.defineProperties(a,o()(e)):Z(Object(e)).forEach(function(t){Object.defineProperty(a,t,s()(e,t))})}return a}a.Z={methods:((0,u.Z)(e={"action-baoMing":function(t,a){var e=this,t=t.dataValue;v.log(t),"xzd"==y.Z.config.projectName&&(this.$refs.signFile.extra={typesString:"person,department,post,group,privateGroup",rootObject:"5",tabs:[{key:"self_unit"}]}),this.$refs.signFile.show({meetingtzId:t.info_id,pk:t.info_id,pnId:t.pnid,deptBaoming:!0}).then(function(){y.Z.layer.toast("报名成功",!0),e.onRefresh&&e.onRefresh()},function(t){})},"action-personBaoMing":function(t,a){var e=this,t=t.dataValue;v.log(t),this.$refs.signFilePerson.show({meetingtzId:t.id,pk:t.id,pnId:0,deptBaoming:!1}).then(function(){y.Z.layer.toast("报名成功",!0),e.onRefresh&&e.onRefresh()},function(t){})},"action-qingJia":function(t,a){var e=this;this.$refs.askLeave.show({meetingtzId:t.dataValue.id}).then(function(){y.Z.layer.toast("请假成功",!0),e.onRefresh&&e.onRefresh()})},"action-quXiao":function(t,a){var o=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("fn/meeting/endMeetingInstance",{sqid:t.dataValue.id}).then(function(t){var t=t.data,a=t.message,e=t.result;("success"===t.type||e)&&o.onRefresh&&o.onRefresh(),o.dsf.layer.toast(a)}).catch(function(){o.$toast.clear()})},"action-qianDao":function(t,a){var o=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("fn/meeting/signMeeting",{pk:t.dataValue.pid,deviceId:"",userId:y.Z.util.loadSessionStore("user").user_id}).then(function(t){var t=t.data,a=t.message,e=t.result;("success"===t.type||e)&&o.onRefresh&&o.onRefresh(),o.dsf.layer.toast(a)}).catch(function(){o.$toast.clear()})},"action-qianShou":function(a,t){var o=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("fn/remoteExchangeData/getReceiveTarget",{rcvRecordId:a.dataValue.A0001||a.dataValue.info_id}).then(function(t){t=t.data.data[0]||{},t={pk:a.dataValue.A0001,convertId:t.id,targetModuleId:t.targetModuleId,isConvertToDo:"",moduleId:a.dataValue.A0004,ruleId:t.ruleId};y.Z.http.post("ctrl/exRemoteInterfaceController/acceptDoc",t).then(function(t){var t=t.data,a=t.message,e=t.result;("success"===t.type||e)&&o.onRefresh&&o.onRefresh(),o.dsf.layer.toast(a,!0)}).catch(function(){o.$toast.clear()})})},"action-tuiHui":function(t,a){var e=this;this.showFlowBack=!0,this.$nextTick(function(){e.$refs.wfDialog.show({text:"退回"})}),this.selected=t.dataValue},"action-guanZhu":function(e,t){var o=this;v.log("ddd",t),1!=y.Z.config.setting["SYS-MOBILE-FORM-0018"]?(this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("/fn/mobileFocus/setFocus",{fid:0,infoId:e.dataValue.fid||e.dataValue.info_id||e.dataValue.infoId||e.dataValue.A0001||e.dataValue.id||e.dataValue["SW_XZD.A0001"]||e.dataValue["G_INFOS.A0001"]||e.dataValue["XZBYQ_0012.A0001"],"x-auth-token":y.Z.util.loadSessionStore("loginToken")}).then(function(t){var t=t.data,a=(t.message,t.result);("success"===t.type||a)&&(t=[].concat((0,r.Z)(e.buttons.commonButtons||e.buttons.commonButton),(0,r.Z)(e.buttons.mainButtons||e.buttons.mainButton)).find(function(t){return"guanZhu"==t.action}))&&(t.name="取消",t.icon="iconai-mark",t.action="quXiaoGuanZhu"),o.dsf.layer.toast("操作成功")}).catch(function(){o.$toast.clear()})):this.showChooseFolder=!0},"action-quXiaoGuanZhu":function(e,t){var o=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),v.log(e),y.Z.http.post("/fn/mobileFocus/deleteFocus",{infoId:e.dataValue.fid||e.dataValue.info_id||e.dataValue.infoId||e.dataValue.A0001||e.dataValue.id||e.dataValue["SW_XZD.A0001"]||e.dataValue["G_INFOS.A0001"]}).then(function(t){var t=t.data,a=(t.message,t.result);"success"!==t.type&&!a||(y.Z.layer.toast("操作成功"),"200829130745dElHh3RtPgDfI9hhFVP"==o.listId?o.onRefresh&&o.onRefresh():(t=[].concat((0,r.Z)(e.buttons.commonButtons||e.buttons.commonButton),(0,r.Z)(e.buttons.mainButtons||e.buttons.mainButton)).find(function(t){return"quXiaoGuanZhu"==t.action}))&&(t.name="关注",t.icon="iconshoucang",t.action="guanZhu"))}).catch(function(){o.$toast.clear()})},getType:function(){var t=6;switch(this.tab){case"gw":t=1;break;case"hy":t=2;break;case"dbfk":case"db":t=3;break;case"dy":t=4;break;case"dqs":t=5}return t},"action-zhiDing":function(t,a){var e=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("/fn/mobileToDo/topRead",{pk:2===this.getType()?t.dataValue.todoId:t.dataValue.id||t.dataValue.A0001||t.dataValue.info_id,type:this.getType()}).then(function(t){var t=t.data,a=(t.message,t.result);("success"===t.type||a)&&e.onRefresh&&e.onRefresh(),e.dsf.layer.toast("操作成功")}).catch(function(){e.$toast.clear()})},"action-quXiaoZhiDing":function(t,a){var e=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("/fn/mobileToDo/unTopRead",{pk:2===this.getType()?t.dataValue.todoId:t.dataValue.id||t.dataValue.A0001||t.dataValue.info_id,type:this.getType()}).then(function(t){var t=t.data,a=(t.message,t.result);("success"===t.type||a)&&e.onRefresh&&e.onRefresh(),e.dsf.layer.toast("操作成功")}).catch(function(){e.$toast.clear()})},"action-fanKui":function(t,a){var e=this;v.log(t),y.Z.http.get("fn/superviseV5/feedback/mobileTransFeedBack?id=".concat(t.dataValue.A0001)).then(function(t){t=t.data;"200"==t.code&&e.$router.push({path:"/commonForm/2009221438319K1lPaTGwMBYwfpllZ5/".concat(t.data.pk),query:{fkStatus:t.data.status}})})},"action-Transfer":function(t,a){this.showPerson=!0,this.selected=t,this.isTransfer=!0,"xzd"==y.Z.config.projectName&&(this.extra={typesString:"person,department,post,group,privateGroup",rootObject:"5",tabs:[{key:"self_unit"}]})},"action-feedback":function(a,t){var e=this;y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"210723164631rGtQC0zTkW9rU5dYlxQ",initDataSource:1,srcInfo:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001,relationId:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001,type:"反馈"}})})},"action-deptFeedback":function(a,t){var e=this;y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"2207191416105iDaeqzLIL5zalLANw6",initDataSource:1,srcInfo:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001,relationId:a.dataValue["DBTZ.A0001"]||a.dataValue.A0001}})})},"action-releaseNotice":function(t,a){v.log(t)},"action-shenQingYanQi":function(t,a,e){e?this.showDelayform=!0:this.$router.push({name:"DelayForm",params:{data:t}})},"action-banJie":function(t,a){this.$router.push({name:"supervise",params:{data:t}})},"action-yueBi":function(t,a){var o=this;this.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("fn/mobileToReadOperation/readed",{infoIds:t.dataValue.info_id,distribIds:t.dataValue.distribId}).then(function(t){var t=t.data,a=t.message,e=t.result;("success"===t.type||e)&&o.onRefresh&&o.onRefresh(),o.dsf.layer.toast(a)}).catch(function(){o.$toast.clear()})},allYueBi:function(t,a){var o=this;this.distribIds.length?y.Z.layer.confirm({title:"批量阅毕",message:"是否确认批量阅毕当前列表文件？",cancelButtonColor:"#000"},function(){o.$toast.loading({forbidClick:!0,message:"提交中"}),y.Z.http.post("/fn/shareRead/readedIds",{distribIds:o.distribIds}).then(function(t){var t=t.data,a=t.message,e=t.result;("success"===t.type||e)&&o.onRefresh&&o.onRefresh(),o.dsf.layer.toast(a)}).catch(function(){o.$toast.clear()})}):y.Z.layer.toast("您暂无待阅文件!")},"action-fenYue":function(t,a){var e=this;this.showFyyj=!0,t.dataValue.info_id||(t.dataValue.info_id=t.dataValue["SW_XZD.A0001"]),this.$nextTick(function(){e.$refs.readPop.show(t.dataValue).then(function(){e.onRefresh&&e.onRefresh(),e.showFyyj=!1},function(t){v.log(t),e.showFyyj=!1})})},"action-zhuanDuBan":function(t,a){var e=t.dataValue.moduleId||t.dataValue.A0004,t=t.dataValue.info_id||t.dataValue.A0001,o={},n=this,i=(o.isOpenForm=!0,o.convertParams={autoRela:""},"2106021016102xjgjpCc6tqdMZkrX20"),d=e,e=t,s=function(t){"success"==t.type?y.Z.http.post("ctrl/superviseV6/convert/setDefaultValue",{pk:t.data.pk}):y.Z.layer.toast(t.message)},c=null,u=o,t=(u=u||{}).initData,r={sourceModule:d,targetModule:i,srcInfo:e};function l(){var t;i&&d&&(t=y.Z.http.post("ctrl/convert/moduleConvert",r).then(function(t){var a,e,o;if(void 0===(a=s?s(t.data):a)||!1===a)if("success"==t.data.type){if(null!=u.isOpenForm&&"false"==u.isOpenForm)return!1;"0"!=t.data.data.jump&&"-1"!=t.data.data.jump&&(a=t.data.data.openFlowNode||"",e={reloadParentFormOnSave:!0,srcModule:d},o={pk:t.data.data.pk,moduleId:i},a&&(e.listId="customConvertOpenBean",e.method="viewList",e.openFlowNode=a),n.$router.push({name:"commonForm",params:k({},o),query:k({},e)}))}else y.Z.layer.toast(t.data.messagee)}))&&"success"!==t.type&&"function"==typeof c&&c()}t&&(r.initDataSource=1),u.isEndSrcFlow&&(r.isEndSrcFlow=1),u.pnid&&(r.pnid=u.pnid),u.convertParams?h()(r,u.convertParams):u.convertParams=r,y.Z.http.post("ctrl/convert/fileConvertCount",r).then(function(t){"success"==t.data.type&&(-1==(t=f()(t.data.data))?l():0==t?y.Z.layer.toast("转换生成文件已达到设定限制！"):0<t&&y.Z.layer.confirm({message:"已存在"+t+"个转换文件，请确认是否继续转换生成新文件？",confirmButtonText:"确认"},function(){l()}))})},"action-faSong":function(a,t){var e=this;y.Z.http.post("/fn/xform/validate",{pk:a.dataValue.info_id||a.dataValue.infoId,moduleId:a.dataValue.moduleId,flowId:a.dataValue.flowId,nodeId:a.dataValue.nodeId,pId:a.dataValue.pid,pnId:a.dataValue.pnid,hd:"mobile"==y.Z.config.clientType?"0":"1"}).then(function(t){200==t.data.code?(e.showFlowSend=!0,e.$nextTick(function(){e.$refs.sendPop.$el.style.display="none",e.$refs.sendFile.show("isList")}),e.selected=a.dataValue):y.Z.layer.confirm({message:t.data.message,confirmButtonText:"进入表单"},function(){e.$nextTick(function(){e.$refs.dslist.link?e.$refs.dslist.link(a):e.$refs.dslist.length&&e.$refs.dslist[0].link(a)})})})},batchSend:function(){var a=this;this.showCheck=!0,this.$eventBus.onDefaultListCheck(this,function(t){v.log(t),a.showFlowSend=!0,a.$nextTick(function(){a.$refs.sendPop.$el.style.display="none",a.$refs.sendFile.show("isList")}),a.selected=JSON.parse(p()(t[0].dataValue)),1<t.length&&(a.selected.disableAutoSend=1,a.selected.disableAutoSend4EndNode=1,a.selected.batchSend=1,a.selected.allowEditOpinion=0),a.batchSendArr=t.map(function(t){return{type:"SR_SEND",bt:t.dataValue.bt,infoId:t.dataValue.info_id||t.dataValue.infoId,pid:t.dataValue.pid,pnid:t.dataValue.pnid,wfId:t.dataValue.flowId,nodeId:t.dataValue.nodeId,moduleId:t.dataValue.moduleId,moduleName:t.dataValue.moduleName,nodeName:t.dataValue.nodeName,agencyType:"0",disableAutoSend:-1,disableAutoSend4EndNode:-1,onlyCopyNode:!1}})}),this.batchSend_checkClick=function(a){var t;this.checkList.length?a.checked?this.checkList[0].dataValue.moduleId==a.dataValue.moduleId&&this.checkList[0].dataValue.flowId==a.dataValue.flowId&&this.checkList[0].dataValue.nodeId==a.dataValue.nodeId?this.checkList.push(a):(a.checked=!1,y.Z.layer.toast("选择的文件必须同一类型、同一流程和同一环节")):-1<(t=this.checkList.findIndex(function(t){return a.dataValue.id===t.dataValue.id}))&&this.checkList.splice(t,1):this.checkList.push(a)}},"action-anPaiRenYuan":function(t,a){this.showPerson=!0,this.selected=t},"action-juQian":function(t,a){this.$router.push({name:"RejectedSign",params:{data:t}})},"action-baoMingQingKuang":function(t,a){v.log(y.Z.config.meetingConfig.meetingNoToDoUrl),"xzd"==y.Z.config.projectName?this.$router.push({path:"/meetingSignupStatus",query:{id:t.dataValue.id}}):this.$router.push({path:"/meeting/signup/status",query:{id:t.dataValue.id}})},"action-baoMingQingKuang2":function(t,a){v.log(y.Z.config.meetingConfig.meetingNoToDoUrl),this.$router.push({path:"/meetingSignupStatus",query:{id:t.dataValue.A0001}})},"action-qianShouQingKuang":function(a,t){var e=this,o=a.dataValue.fid;a.dataValue["SW_XZD.A0001"]&&(o=a.dataValue["SW_XZD.A0001"]),m()(a.dataValue).forEach(function(t,a){0<=t[0].indexOf("A0001")&&(o=t[1])}),v.log(a),y.Z.http.post("fn/remoteExchangeData/getSendRecord",{remoteId:o}).then(function(t){v.log(t.data.code),"200"==t.data.code?(a.dataValue.fid=t.data.data.sendRecordId,e.$router.push({name:"signIn",params:{data:a}})):y.Z.layer.toast(t.data.message)})},"action-duBanQingKuang":function(t,a){"xzd"==y.Z.config.projectName?this.$router.push({name:"inspectorConditionXZD",params:{data:t}}):this.$router.push({name:"InspectorCondition",params:{data:t}})},"action-duBanQingKuang1":function(t,a){this.$router.push({name:"InspectorConditionRB",params:{data:t}})},"action-huiyibaoming":function(t,a){this.$router.push({name:"InspectorConditionRBhuiyi",params:{data:t}})},"action-qianshouqingkuang":function(t,a){this.$router.push({name:"InspectorConditionRBqianshou",params:{data:t}})},"action-doBanQingKuang":function(t,a){this.$router.push({name:"InspectorCondition",params:{data:t}})},"action-huiYiShiPin":function(t,a){window.dd?(y.Z.layer.loading("发起视频中"),y.Z.video.startWithConf(t.dataValue.info_id||t.dataValue.id||t.dataValue.A0001)):y.Z.layer.toast("功能暂未开放")},"action-liuChengShiPin":function(t,a){window.dd?(v.log(t.dataValue.info_id,t.dataValue.A0001,t.dataValue.id),y.Z.video.startWithForm(t.dataValue.info_id||t.dataValue.A0001||t.dataValue.id)):y.Z.layer.toast("功能暂未开放")},"action-huiYiShiPinNew":function(t,a){v.log(t),window.dd&&(y.Z.layer.loading("发起视频中"),y.Z.video.startWithConfNew({pk:t.dataValue.A0001,moduleId:t.dataValue.A0004}))},"action-noticeRessiue":function(t,a){v.log(t),this.$router.push({path:"/commonForm/221121182120DMMgw8OAPFEWnUXDHhm",query:{pk:t.dataValue.B0035,type:t.dataValue["c-meetingtz-004.value"],fid:t.dataValue.B0035}})},"action-tongzBf":function(t,a){v.log(t),this.$router.push({path:"/commonForm/221121182120DMMgw8OAPFEWnUXDHhm",query:{pk:t.dataValue.B0035,type:t.dataValue["c-meetingsq-075.value"],fid:t.dataValue.B0035}})},"action-issueNotice":function(t,a){v.log(t),y.Z.http.post("/fn/meetingNotice/issueNotice",{pk:t.dataValue.A0001,moduleId:t.dataValue.A0004}).then(function(t){v.log(t),"200"==t.code?y.Z.layer.toast("通知下发成功"):y.Z.layer.toast("通知下发失败")})},"action-convertMeetingNotice":function(t,a){v.log(t),y.Z.http.post("ctrl/flow/sendRequest",{pk:t.dataValue.A0001,moduleId:"190111184257QgSNR8cW92akDpqeWMA",nextNodeId:2,nextLineId:"uJTr9VgRtvRqBTs",todoId:"",exSendOpinion:"",handleUserId:1,sendType:"SR_EXSEND",likeSendType:"SR_SEND"}).then(function(t){v.log(t)})},"action-recoveryTopicmMterial":function(t,a){var e=this;v.log(t),y.Z.http.post("ctrl/meetingTopic/modifyTopicRecoveryStatus",{pk:t.dataValue.A0001,moduleId:t.dataValue.A0004,type:"-1"}).then(function(t){v.log(t),"200"==t.status&&(y.Z.layer.toast(t.data.message),e.onRefresh())})},"action-cancelRecoveryTopicmMterial":function(t,a){var e=this;v.log(t),y.Z.http.post("ctrl/meetingTopic/modifyTopicRecoveryStatus",{pk:t.dataValue.A0001,moduleId:t.dataValue.A0004,type:1}).then(function(t){v.log(t),"200"==t.status&&(y.Z.layer.toast(t.data.message),e.onRefresh())})},"action-meetingAddressList":function(t){v.log(t),this.$router.push({path:"/commonTabs/MailListDetail",query:{pk:t.dataValue["c-meetingsq-121.value"]||t.dataValue.A0001||t.dataValue["FTZ.A0001.value"],notLink:1}})},"action-jxwAddressBook":function(t){v.log(t),this.$router.push({path:"/commonTabs/jxwMailListDetail",query:{secQuery:'{"pk": "'.concat(t.dataValue["FTZ.A0001.value"]||t.dataValue["c-meetingsq-121.value"]||t.dataValue.A0001,'"}')}})},"action-meetingSignUp":function(t){this.$router.push({path:"/meetingEnter",query:{pk:t.dataValue["c-meetingsq-121.value"]||t.dataValue.A0001,name:t.dataValue["B0001.value"]}})},"action-zxFeedBack":function(t){this.$router.push({path:"/topicFeedback",query:{pk:t.dataValue.A0001,name:t.dataValue["B0001.value"],moduleId:t.dataValue["A0004.value"]}})},"action-YiTiChaKan":function(t){v.log(t),this.$router.push({path:"/commonList/210803152651ysvjiVvXwDx6GPRxN7E/210607181937YJxUC5fve4y7q3SH5hJ",query:{secQuery:'{"pk": "'.concat(t.dataValue.A0001,'"}')}})},"action-createRow":function(t){this.$router.push({path:"/topicFeedback",query:{pk:t.dataValue.A0001,name:t.dataValue["B0001.value"]}})},"action-meetingChange":function(e){var o=this;y.Z.http.post("fn/meetingChange/convert",{masterId:e.dataValue.B0035}).then(function(t){var a;200==t.data.code?(a={initDataSource:1,fid:e.dataValue.B0035,pk:t.data.data.pk,source:t.data.data.source},t.data.data.showNodeId&&h()(a,{showNodeId:t.data.data.showNodeId,listId:"MeetingList",method:"customNode"}),t.data.data.hyTodo&&"1"==t.data.data.hyTodo?y.Z.layer.toast("操作成功",!0,function(){return o.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:a})}):o.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:a})):y.Z.layer.toast(t.data.message)})},"action-DSF.Meeting.Action.meetingChange":function(e){var o=this;y.Z.http.post("ctrl/meetingChange/convert",{masterId:e.dataValue.B0035}).then(function(t){var a;200==t.data.code?(a={initDataSource:1,fid:e.dataValue.B0035,pk:t.data.data.pk,source:t.data.data.source},t.data.data.showNodeId&&h()(a,{showNodeId:t.data.data.showNodeId,listId:"MeetingList",method:"customNode"}),t.data.data.hyTodo&&"1"==t.data.data.hyTodo?y.Z.layer.toast("操作成功",!0,function(){return o.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:a})}):o.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:a})):y.Z.layer.toast(t.data.message)})},"action-meetingChangeLog":function(t){v.log(t),this.$router.push({path:"/commonList/23082309373047kuAFRMFLXJi4PruqQ/200819103404M68aBaOHQCJpEAaAES2",query:{secQuery:p()({fid:t.dataValue["B0035.value"]})}})},"action-ctflowSend2":function(e){var o=this;v.log(e),y.Z.http.post("fn/meetingRoomOccupy/checkRoomOccupy",{pk:e.dataValue.B0035,hys:e.dataValue["C-MEETINGROOM-POCCUPY-0003.value"],sdate:e.dataValue["C-MEETINGROOM-POCCUPY-0001"],edate:e.dataValue["C-MEETINGROOM-POCCUPY-0002"]}).then(function(t){"error"==t.data.type?y.Z.layer.toast(t.data.message):y.Z.http.post("ctrl/meetingRoomOccupy/getTodoData",{pk:e.dataValue["C-MEETINGROOM-POCCUPY-0011.value"]}).then(function(t){var a={info_id:e.dataValue["C-MEETINGROOM-POCCUPY-0011.value"]};h()(a,t.data.data),v.log(a),y.Z.http.post("/fn/xform/validate",{pk:a.info_id,moduleId:a.moduleId,flowId:a.flowId,nodeId:a.nodeId,pId:a.pid,pnId:a.pnid,hd:"mobile"==y.Z.config.clientType?"0":"1"}).then(function(t){200==t.data.code&&(o.showFlowSend=!0,o.$nextTick(function(){o.$refs.sendPop.$el.style.display="none",o.$refs.sendFile.show("isList")}),o.selected=a)})})})},"action-ctflowSendBack":function(e){var o=this;v.log(e),y.Z.http.post("ctrl/meetingRoomOccupy/getTodoData",{pk:e.dataValue["C-MEETINGROOM-POCCUPY-0011.value"]}).then(function(t){var a={info_id:e.dataValue["C-MEETINGROOM-POCCUPY-0011.value"]};h()(a,t.data.data),o.showFlowBack=!0,o.$nextTick(function(){o.$refs.wfDialog.show({text:"退回"})}),o.selected=a})},"action-yiJianHuiZhi":function(t,a){var e,o=this;m()(t.dataValue).forEach(function(t,a){0<=t[0].indexOf("A0001")&&(e=t[1]),0<=t[0].indexOf("A0002")&&t[1]}),y.Z.http.post("fn/remoteExchange/feedbackByServer",{rcvRecordId:e,doFeedback:!1}).then(function(t){var t=t.data,a=t.message,e=t.type,t=t.data;"success"===e?o.$router.push({name:"commonForm",params:{pk:t.feedbackId,moduleId:t.feedbackModuleId,rcvRecordId:t.rcvRecordId}}):o.dsf.layer.toast(a)})},"action-chuXi":function(t,a){},"action-huiYiBianGeng":function(t,a){this.$router.push({path:"/meeting/change",query:{pk:t.dataValue.id,moduleId:t.dataValue.moduleId}})},"action-huiYiQuXiao":function(t,a){var e=this,o=y.Z.layer.loading("取消中");y.Z.http.post("fn/meeting/endMeetingInstance",{sqid:t.dataValue.id}).then(function(t){var t=t.data,a=t.message;"success"===t.type&&e.onRefresh&&e.onRefresh(),e.dsf.layer.toast(a)}).finally(function(){y.Z.layer.closeLoading(o)})},"action-ding":function(t,a){"notInDingTalk"!==dd.env.platform&&(this.showPerson=!0,this.selected=t,this.isDing=!0)},"action-gout":function(t,a){dd.biz.conference.videoConfCall({title:"视频会议",calleeCorpId:"dinga215a69365c38b4e24f2f5cc6abecb85",calleeStaffIds:["01073527405729134428","121068281424150312","1866470252761733"],onSuccess:function(){},onFail:function(){}})},"action-transfer":function(t,a){this.showPerson=!0,this.selected=t,this.isTransfer=!0,void 0!==this.transferType&&(this.transferType="db"),this.extra={multiple:!1,tabs:[{action:"fn/user/select/data?types=person&rootObject=3&action=self_org&async=false",name:"本机构",subTabKey:"department"}]}},"action-xform.changeUser":function(t,a){this.showPerson=!0,this.selected=t,this.isTransfer=!0,void 0!==this.transferType&&(this.transferType="gw"),this.extra={multiple:!1,tabs:[{action:"fn/user/select/data?types=person&rootObject=3&action=self_org&async=false",name:"本机构",subTabKey:"department"}]}},"action-recycle":function(e,t){var n=this;this.$dialog.confirm({title:"提示",message:"确认回收此份文件吗?"}).then(function(){var t;e.data?(t={pk:e.data.infoId,flowId:e.data.wfId,pId:e.data.pid,pnId:e.data.pnid,fPnId:e.data.fid,bt:e.data.bt,userId:e.data.userId,nodeName:e.data.actname},v.log(t),y.Z.http.post("fn/flow/recycle",t).then(function(t){"success"==t.data.type&&(y.Z.layer.toast(t.data.message,"html"),n.onRefresh())})):e.dataValue&&y.Z.http.post("fn/flow/checkRecycle",{pk:e.dataValue.id||e.dataValue[n.keyColumn]}).then(function(t){var a,o;"success"==t.data.type?1==t.data.message?(a=t.data.data,y.Z.http.post("fn/flow/recycle",a).then(function(t){"success"==t.data.type&&y.Z.layer.toast(t.data.message,"html",function(){n.onRefresh(),n.$eventBus.refreshBadge(n)})})):(o=[],y.Z.http.post("fn/flow/recycleListData",{pk:e.dataValue.id}).then(function(e){n.$refs.ckDialog.show(e.data.data,"选择回收人员","id","uName,deptName").then(function(t){o=t.map(function(a){var t=e.data.data.find(function(t){return t.id==a});return{pk:t.infoId,flowId:t.wfId,pId:t.pId,pnId:t.pNId,fPnId:t.fId,bt:t.bt,userId:t.userId,nodeName:t.actName}}),y.Z.http.post("fn/flow/batchRecycle",{data:p()(o)}).then(function(t){"success"==t.data.type&&(y.Z.layer.toast(t.data.message,"html"),n.onRefresh())})}).catch(function(){y.Z.layer.toast("请选择回收人员")})})):y.Z.layer.toast(t.data.message)})}).catch(function(){v.log("cancell")})},"action-custom1":function(t,a){y.Z.dd.serverDing([t.dataValue.A0001]).then(function(t){y.Z.layer.toast(t)}).catch(function(t){y.Z.layer.toast(t)})},"action-cuibanRB":function(t,a){y.Z.http.post("fn/cuibanRB",{}).then(function(){y.Z.layer.toast("催办成功")})},"action-custom3":function(t,a){this.$router.push({name:"commonListWrap",params:{moduleType:"pinganfankui",fid:t.dataValue.A0001}})},"action-NoticeReadDetail":function(t,a){this.$router.push({path:"/announcementStatus",query:{pk:t.dataValue.A0001,bt:"您有一份标题为【"+t.dataValue.B0001+"】的公告,请及时处理"}})},"action-NoticePublish":function(t,a){y.Z.layer.loading("发布中"),y.Z.http.post("/fn/notice/publish",{pks:t.dataValue.infoId||t.dataValue.A0001,moduleId:t.dataValue.moduleId||t.dataValue.A0004}).then(function(t){200!=t.data.code?y.Z.layer.toast(t.data.message):(y.Z.layer.toast(t.data.message,!0),self.onRefresh())})},"action-cancelPublish":function(t,a){var e=this;v.log(t),e.$dialog.confirm({title:"提示",message:"是否确认取消发布该条通知公告"}).then(function(){v.log("then"),y.Z.http.post("fn/notice/cancelPublish",{pks:t.dataValue.infoId||t.dataValue.A0001,moduleId:t.dataValue.moduleId||t.dataValue.A0004}).then(function(t){200==t.data.code&&(y.Z.layer.toast(t.data.message,!0),e.onRefresh())})}).catch(function(){v.log("cancell")})},"action-revoke":function(t,a){var e=this;this.$dialog.confirm({title:"提示",message:"是否确认撤回"}).then(function(){y.Z.http.post("fn/meetingNotice/revoke",{pk:t.dataValue.infoId||t.dataValue.A0001}).then(function(t){200==t.data.code&&(y.Z.layer.toast(t.data.message,!0),e.onRefresh())})}).catch(function(){v.log("cancell")})},"action-meetingNoticeRemind":function(t,a){var e=this;this.$refs.remindDialog.show("催办","您有会议【".concat(t.dataValue.B0001,"】需要报名，请您尽快报名")),this.$refs.remindDialog.submitFun=function(){y.Z.http.post("/fn/meetingNotice/remind",{pk:t.dataValue.A0001,content:e.$refs.remindDialog.message}).then(function(t){200==t.data.code&&e.$refs.remindDialog.close(),y.Z.layer.toast(t.data.message,!0)})}},"action-goutong":function(n,t){return(0,c.Z)(l().mark(function t(){var a,e,o;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a="",e=n.dataValue.fileType,"mobileIM"!=y.Z.util.getClientName()?t.next=16:(t.t0=e,t.next="ToDo"===t.t0?6:"ToRead"===t.t0?8:10);break;case 6:case 8:return a=n.dataValue.info_id,t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:return t.next=13,new(g())(function(o,t){y.Z.http.get("fn/im/operation/getGroupInfo",{groupId:a,type:"document"}).then(function(t){var a,e;"success"==t.data.type&&null!=(a=t.data.data)&&a.groupId?(e=t.data.data.groupId,t.data.data.inGroup?window.native&&window.native.chatTo({conversationType:"GROUP",toId:e}):y.Z.http.get("fn/im/operation/joinGroup",{groupId:e}).then(function(t){"success"===t.data.type?window.native&&window.native.chatTo({conversationType:"GROUP",toId:e}):y.Z.layer.toast(t.data.message)})):o()})});case 13:y.Z.http.post("fn/im/operation/getChatUsersByDocument",{pk:a}).then(function(t){"success"==t.data.type&&t.data.data&&(t={title:"选择联系人",data:{users:t.data.data.users||[],isLimitCount:!1,total:9999}},v.log(t),window.native)&&window.native.showSelectUsers(t,function(t){v.log(t),t&&t.userIds&&(t=t.userIds.join(","),t={groupId:a,type:"document",userIds:t},y.Z.http.post("fn/im/operation/createChatGroup",t).then(function(t){var a;"success"===t.data.type&&t.data.data?(a=t.data.data.groupId,y.Z.layer.toast("创建群成功"),window.native&&window.native.chatTo({conversationType:"GROUP",toId:a})):y.Z.layer.toast(t.data.message)}))})}).catch(function(t){y.Z.layer.toast("创建群聊失败")}),t.next=28;break;case 16:y.Z.config.ddSetting.isDing?(t.t1=e,t.next="ToDo"===t.t1?20:"ToRead"===t.t1?22:24):t.next=28;break;case 20:return a=n.dataValue.id,t.abrupt("break",25);case 22:return a=n.dataValue.info_id,t.abrupt("break",25);case 24:return t.abrupt("break",25);case 25:return o="fn/mobileToDo/getDingUsersByToDo?pk=".concat(a),y.Z.http.post(o).then(function(t){t=t.data.data.codeList;t[0].children.length?(v.log("钉钉人员",t),dd.biz.contact.createGroup({corpId:y.Z.config.ddSetting.ddCoprId,users:[],onSuccess:function(t){dd.biz.chat.toConversation({corpId:y.Z.config.ddSetting.ddCoprId,chatId:t.id,onSuccess:function(){},onFail:function(){}})},onFail:function(t){}})):y.Z.layer.toast("当前暂无钉钉人员")}),t.abrupt("return");case 28:case"end":return t.stop()}},t)}))()},visitorRegistration:function(t,a){var e,o=I.Z.loadSessionStore("user")||I.Z.loadLocalStore("user");o?(o={deptId:o.deptId,deptName:encodeURI(o.deptName),userId:o.user_id,userName:encodeURI(o.name),tel:o.tel},v.log(o),o=encodeURIComponent(V.Z.encode(p()(o))),e=y.Z.url.getRootPath()+"dist/index.html#/PeopleDaily/Login?paras=".concat(o),Promise.all([n.e(38653),n.e(56369)]).then(n.t.bind(n,56369,23)).then(function(t){t.biz.util.share({type:0,url:e,title:"访客登记单",content:"访客登记单",image:"",onSuccess:function(){},onFail:function(t){}})})):y.Z.layer.toast("未授权的访问，请重新登录！")},"action-saveDBCB":function(a,t){var e=this;v.log("action-saveDBCB"),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"2106161334381PC5vugnZwQyjNoMLzA",initDataSource:1,srcInfo:a.dataValue.A0001||a.dataValue["DBTZ.A0001"]}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001||a.dataValue["DBTZ.A0001"],relationId:a.dataValue.A0001||a.dataValue["DBTZ.A0001"],type:"催办"}})})},"action-ApplyDelay":function(a,t){var e=this;v.log("action-ApplyDelay"),v.log(a.dataValue.A0001),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"2106161334595i5kcF958pSy79wI6t1",initDataSource:1,srcInfo:a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001,relationId:a.dataValue.A0001,type:"延期"}})})}},"action-banJie",function(a,t){var e=this;v.log("action-banJie"),v.log(a.dataValue.A0001),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"210616133423XmMnuQ7yvMILNoWX6NY",initDataSource:1,srcInfo:a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001,relationId:a.dataValue.A0001,type:"办结"}})})}),(0,u.Z)(e,"action-pingJia",function(a,t){var e=this;v.log("action-pingJia"),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"210723193202gK3WrhlYN0pG9bE77fE",initDataSource:1,srcInfo:a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001,relationId:a.dataValue.A0001,type:"评价"}})})}),(0,u.Z)(e,"action-increaseChengBan",function(a,t){var e=this;v.log("action-increaseChengBan"),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"220805171120LY8GOHEtSNDgVStRskk",initDataSource:1,srcInfo:a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001,relationId:a.dataValue.A0001,type:"增加承办"}})})}),(0,u.Z)(e,"action-bianGengPlan",function(a,t){var e=this;v.log("action-bianGengPlan"),y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"220805171717HXpWekYcCtbO2GgbEWh",initDataSource:1,srcInfo:a.dataValue.A0001}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001,relationId:a.dataValue.A0001,type:"变更计划"}})})}),(0,u.Z)(e,"action-dbtzChange",function(a,t){var e=this;y.Z.http.post("/ctrl/convert/moduleRuleConvert",{convertId:"210715193605z4SYYk4JHBUGNy3b7tF",initDataSource:1,srcInfo:a.dataValue.A0001||a.dataValue["DBTZ.A0001"]}).then(function(t){200==t.data.code&&e.$router.push({path:"/commonForm/".concat(t.data.data.moduleId,"/").concat(t.data.data.pk),query:{initDataSource:1,sourcePk:a.dataValue.A0001||a.dataValue["DBTZ.A0001"],relationId:a.dataValue.A0001||a.dataValue["DBTZ.A0001"],type:"变更"}})})}),(0,u.Z)(e,"action-fanKuiQingKuang",function(t,a){v.log("action-fanKuiQingKuang"),this.$router.push("/superviseIdea?id=".concat(t.dataValue.A0001))}),(0,u.Z)(e,"action-DBjieShouQingKuang",function(t,a){v.log("action-DBjieShouQingKuang"),this.$router.push("/superviseAccept?id=".concat(t.dataValue.A0001))}),(0,u.Z)(e,"createDay",function(t,a){this.$router.push({path:"/commonForm/220407154218C862fYgw0KRsdwUgHgm"})}),(0,u.Z)(e,"createWeek",function(t,a){this.$router.push({path:"/commonForm/220408101939oHnveN4uZe0cIhPtEz1"})}),(0,u.Z)(e,"createMonth",function(t,a){this.$router.push({path:"/commonForm/220408102004WCgZ3kAk3iIyuxfcAoe"})}),(0,u.Z)(e,"action-unRelease",function(t,a){var e=this,t=t.dataValue.A0001;y.Z.http.post("fn/calendar/unRelease",{pk:t}).then(function(t){var t=t.data,a=t.message;"success"===t.type&&"1"==a?(e.dsf.layer.toast("取消成功"),setTimeout(function(){e.onRefresh&&e.onRefresh()},1500)):e.dsf.layer.toast("已有部门填写了校历征集,不能取消发布!")}).finally(function(){})}),(0,u.Z)(e,"action-release",function(t,a){var e=this,o=t.dataValue.A0001;"1"==t["2108241539404N5u3scBD2B9v1lJWtg"]?this.dsf.layer.toast("该通知已发布!"):y.Z.http.post("fn/calendar/release",{pk:o}).then(function(t){var t=t.data,a=t.message;"success"===t.type&&"1"==a?(e.onRefresh&&e.onRefresh(),e.dsf.layer.toast("发布成功")):e.dsf.layer.toast("发布失败")}).finally(function(){})}),(0,u.Z)(e,"action-custom9",function(t,a){t=t.dataValue.A0001;this.$router.push({path:"/commonList",query:{fileType:"xlzjckhz",pk:t}})}),(0,u.Z)(e,"action-quickPull",function(t,a){t={pk:t.dataValue.A0001,moduleId:t.dataValue.A0004};y.Z.http.post("fn/meeting/sendimgroup",t).then(function(t){var a;v.log(t),200==t.data.code?(a=t.data.data).groupId&&window.native&&window.native.chatTo({conversationType:"GROUP",toId:a.groupId}):y.Z.layer.toast(t.data.message)})}),(0,u.Z)(e,"action-addHair",function(d,t){var s=this,a=d.dataValue["FW.C-GW-FW-0202"],c="";if(a)switch(a){case"上行文":c=-1;break;case"平行文":c=0;break;case"下行文":c=1}else c=1;this.extra={multiple:!0,tabs:[{action:"fn/orgManager/getOrgByType?orgType=".concat(c,"&checkedIds="),name:"远程增发",subTabKey:"department"}]},this.showPerson=!0,this.selected=d,this.isTransfer=!0,this.selectType=1,this.getSelectUser=function(t){var a="",e="",o="",n="",t=(t.forEach(function(t){a+=t.id+",",e+=t.name+",",o+=t.attrs.domain+",",n+="999,"}),a+"|"+e+"|"+o+"|"+n),t={infoId:d.dataValue["hhht_fw.A0001"],range:t,nrtypes:"",targetType:3,orgType:c},i=y.Z.layer.loading("发送中");y.Z.http.get("fn/proxySend/remotesend",t).then(function(t){y.Z.layer.closeLoading(i),200==t.data.code?y.Z.layer.alert({title:"温馨提示",message:"远程发送成功"},function(){s.showPerson=!1}):y.Z.layer.toast("远程发送失败")})}}),(0,u.Z)(e,"action-receiptStatus",function(t,a){this.$router.push({path:"/commonList/211203143107ZUz7KDyUJUWU5mCEn8J/190316115452TEcLfcQBFJozNasHYrm",query:{secQuery:p()({info_id:t.dataValue["hhht_fw.A0001"]})}})}),(0,u.Z)(e,"action-batchRetriece",function(t,a){var e=this;"0"!=String(t.dataValue["C-R-SEND-0010.value"])&&String(t.dataValue["C-R-SEND-0010.value"])?y.Z.layer.toast("该文件非未签收，无法进行回收"):this.$dialog.confirm({title:"提示",message:"确定要回收吗？"}).then(function(){y.Z.http.post("fn/proxySend/retrieve",{sendIds:t.dataValue.A0001}).then(function(t){200==t.data.code?y.Z.layer.alert({title:"温馨提示",message:"回收成功"},function(){e.onRefresh&&e.onRefresh()}):y.Z.layer.toast("回收失败")})}).catch(function(){})}),(0,u.Z)(e,"action-RemoteDocExchange.accept",function(u,t){var e,o,n,i=this;function d(d,t,a,s,e){s=s||{};var o,n,i,c=u.dataValue["C-R-RCV-0088"];"3"==c?convert({convertId:t,srcInfo:d}).then(function(t){var a,e,o,n,i;200!=t.data.code?y.Z.layer.toast(t.data.message):(t=t.data.data,i=d,a=t.pk,e=t.moduleId,o=t.moduleName,n=s,t=u.dataValue["C-R-RCV-0088"],i={sourcePk:d,targetPk:a,targetModuleId:e,isConvertToDo:void 0!==(n=n||{}).isConvertToDo&&n.isConvertToDo,doSign:void 0===n.doSign||n.doSign},t="3"==t?"ctrl/hardDiskExchange/acceptCallback":"ctrl/remoteExchange/acceptCallback",y.Z.http.post(t,i).then(function(t){"success"==t.data.type?r():y.Z.layer.toast(t.data.message)}))}):(o="",n=null,n="5"==c?(o="ctrl/localInsideController/accept",{pk:d,convertId:t,targetModuleId:a,moduleId:s.moduleId}):"6"==c||"6"==s.mode?(o="ctrl/exRemoteInterfaceController/acceptDoc",{pk:d,convertId:t,targetModuleId:a,isConvertToDo:null==s.isConvertToDo?"":s.isConvertToDo,moduleId:s.moduleId,ruleId:e}):(o="ctrl/remoteExchange/acceptByRule",{pk:d,convertId:t,targetModuleId:a,isConvertToDo:void 0!==s.isConvertToDo&&s.isConvertToDo,doSign:void 0===s.doSign||s.doSign,ruleId:e}),i=y.Z.layer.loading(),y.Z.http.post(o,n).then(function(t){var a,e;y.Z.layer.closeLoading(i),"success"==t.data.type&&t.data.data?(a=(e=t.data.data).pk,e=e.moduleName,r()):y.Z.layer.toast(t.data.message)}).catch(function(t){y.Z.layer.toast("请求失败")}))}function r(){y.Z.layer.toast("签收成功"),i.onRefresh()}e={mode:u.dataValue["C-R-RCV-0088"],backFileId:u.dataValue["C-R-RCV-0056"],isfeedback:u.dataValue["C-R-RCV-0041"],moduleId:u.dataValue.A0004},o=y.Z.layer.loading(),n=u.dataValue.A0001,y.Z.http.post("ctrl/remoteExchangeData/getReceiveTarget",{rcvRecordId:n}).then(function(t){var a;y.Z.layer.closeLoading(o),"success"===t.data.type?t.data.data&&1<t.data.data.length?i.$refs.ckDialog.show(t.data.data,"请选择要转换的目标模块","ruleId","ruleName",[],!1).then(function(t){t=t[0];d(n,t.id,t.targetModuleId,e,t.ruleId)}).catch(function(){y.Z.layer.toast("请选择要转换的目标模块")}):t.data.data&&0<t.data.data.length?(a=t.data.data[0],e.convertId=a.id,e.ruleId=a.ruleId,e.exchangeDocType=a.exchangeDocType,d(n,a.id,a.targetModuleId,e,a.ruleId)):y.Z.layer.toast("签收模块未配置"):y.Z.layer.toast(t.data.message)})}),(0,u.Z)(e,"action-exchangeSendBack",function(t,a){var e=this;v.log(this.chooseItem),y.Z.http.post("ctrl/remoteExchange/checkCanReject",{pk:t.dataValue.A0001,moduleId:t.dataValue.A0004,level:3}).then(function(t){"success"===t.data.type?e.componentName="exchangeSendBack":y.Z.layer.toast(t.data.message)})}),(0,u.Z)(e,"action-MeetingNoticeBuFa",function(t){this.$router.push({path:"/commonForm/2307211034185H9YpnhGCGcs47M1bxn",query:{fid:t.dataValue.A0001}})}),(0,u.Z)(e,"action-AddressBooks",function(t){this.$router.push({path:"/commonList/210812175757ButsoHgEfB7zGXq5xW9/210812175755YL1w4jjIh65pNqDaSBh",query:{pk:t.dataValue.A0001}})}),(0,u.Z)(e,"action-remoteMeetingFeedBack",function(a){1==a.dataValue["C-R-RCV-0058.value"]?y.Z.layer.toast("该数据是强制签收数据，请联系发件单位后操作!"):a.dataValue.A0003?y.Z.http.get("ctrl/remoteExchangeData/getInboxData",{pk:a.dataValue.A0003}).then(function(t){v.log(t),200==t.data.code&&(t=t.data.data,url=t.pid&&t.pnid?"/commonForm/".concat(t.moduleId,"/").concat(a.dataValue.A0003,"?pk=").concat(a.dataValue.A0003,"&todoId=").concat(t.pid+"_"+t.pnid):1==t.status?"/commonForm/".concat(t.moduleId,"/").concat(a.dataValue.A0003,"?listId=RemoteMeetingList&mId=").concat(t.moduleId,"&method=openRemoteNoticeView&validateByList=1&pk=").concat(a.dataValue.A0003):"/commonForm/".concat(t.moduleId,"/").concat(a.dataValue.A0003,"?listId=20082313555438zby5yWOGo2grZPrkJ& method=meetingSignUpRcv&validateByList=1&pk=").concat(dataValue.A0003),vueData.$router.push({path:url}))}):y.Z.layer.toast("未找到需要反馈的通知!")}),(0,u.Z)(e,"action-signUpUserInfo",function(t){this.$router.push({path:"/commonTabs/jxwpersonInfo"})}),(0,u.Z)(e,"action-Flow.cancelEndNode",function(t,a){var e=this;y.Z.http.post("/fn/flow/cancelEndNode",{pk:t.dataValue.info_id||t.dataValue.A0001||t.dataValue.infoId}).then(function(t){t=t.data;y.Z.layer.toast(t.message,!0,function(){return e.onRefresh&&e.onRefresh()})})}),(0,u.Z)(e,"action-recycle2",function(e,t){var i=this,d=this;this.$dialog.confirm({title:"提示",message:"确认需要跨节点撤回吗?"}).then(function(){y.Z.http.post("fn/flowListController/recycleReserveOpinion",{infoId:e.dataValue.id||e.dataValue.infoId}).then(function(t){var o,n,a;"success"==t.data.type&&(o=function(t){y.Z.http.post("fn/flow/sendRequest",t,{headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(t){"success"==t.data.type&&(y.Z.layer.toast("回收成功"),d.onRefresh)&&d.onRefresh()}).catch(function(){v.log("cancell")})},(n={sendType:"SR_SPECIAL"}).pk=e.dataValue.infoId,n.isBackTrack=1,n.pId=t.data.data.pid,n.pnId=t.data.data.pnid,n.nextNodeId=t.data.data.nodeId,n.opinionType=4,n.opinionContent="",n.disableAutoSend=-1,n.nextHandleType="SR_BACKSEND",n.agencyType=2,n.determineUser=t.data.data.duserId,n.determineUserName=t.data.data.duserName,n.receiverList=[],n.receiverList.push({type:1,userId:t.data.data.userId,userName:t.data.data.userName,deptId:t.data.data.deptId,deptName:t.data.data.deptName}),1==t.data.data.count?o(n):(a=y.Z.layer.loading(),y.Z.http.post("ctrl/flowListController/recycleNodeList",{infoId:e.dataValue.infoId,page:1,limit:10}).then(function(e){y.Z.layer.closeLoading(a),i.$refs.ckDialog.show(e.data.data,"环节名称","id","nodeName",[e.data.data[0].id],!1).then(function(a){var t=e.data.data.find(function(t){return t.id==a[0]});n.pnId=t.id,n.determineUserName=t.uname,n.determineUser=t.userId,o(n)})})))}).error(function(t){y.Z.layer.closeLoading(loading),v.log(t)})})}),(0,u.Z)(e,"reissue",function(t){var o=this,n=this.$route.query.moduleId,i=this.$route.query.pk;this.extra={multiple:!0,tabs:[{action:"fn/distribute/queryDeptsTree?moduleId=".concat(n),name:"选择部门",subTabKey:"department"}]},this.showPerson=!0,this.selected=t,this.isTransfer=!0,this.selectType=1,this.getSelectUser=function(t){v.log("data",t);var a,e=[];t.forEach(function(t){e.push(t.id)}),null==(e=e.join(","))||""==e?y.Z.layer.toast("未选择需要补发的部门！"):(v.log("depts",e),a=y.Z.layer.loading(),y.Z.http.post("ctrl/distribute/sendForward",{sendType:"send",pk:i,moduleId:n,depts:e}).then(function(t){y.Z.layer.closeLoading(a),o.showPerson=!1,"success"===t.data.type?y.Z.layer.toast("补发成功！",!0,function(){return o.onRefresh&&o.onRefresh()}):y.Z.layer.toast("补发失败！")}).catch(function(t){y.Z.layer.closeLoading(a),v.log(t)}))}}),(0,u.Z)(e,"recover",function(){var o=this,n=this;this.showCheck=!0,this.$eventBus.onDefaultListCheck(this,function(t){v.log("data",t);var a=[];if(0==t.length)return y.Z.layer.toast("请选择"),!1;t.forEach(function(t){if(1!=t.dataValue.handleStatus)return y.Z.layer.toast("文件已收回！"),!1;a.push(t.dataValue.infoId)});var e=a.join(",");v.log("pks",e),o.$dialog.confirm({title:"提示",message:"确定要收回该文件吗?"}).then(function(){var a=y.Z.layer.loading();y.Z.http.post("ctrl/distribute/recover",{pks:e}).then(function(t){y.Z.layer.closeLoading(a),"success"===t.data.type?(n.showCheck=!1,y.Z.layer.toast("收回成功！",!0,function(){return n.onRefresh&&n.onRefresh()})):y.Z.layer.toast("收回失败！")}).catch(function(t){y.Z.layer.closeLoading(a),v.log(t)})})}),this.recover_checkClick=function(a){var t;this.checkList.length?a.checked?this.checkList[0].dataValue.moduleId==a.dataValue.moduleId&&this.checkList[0].dataValue.flowId==a.dataValue.flowId&&this.checkList[0].dataValue.nodeId==a.dataValue.nodeId?this.checkList.push(a):a.checked=!1:-1<(t=this.checkList.findIndex(function(t){return a.dataValue.id===t.dataValue.id}))&&this.checkList.splice(t,1):this.checkList.push(a)}}),(0,u.Z)(e,"reminders",function(){var a=this;this.showCheck=!0,this.$eventBus.onDefaultListCheck(this,function(t){if(v.log("data",t),0==t.length)return y.Z.layer.toast("请选择"),!1;t.forEach(function(t){if(1!=t.dataValue.handleStatus)return y.Z.layer.toast("请选择在待办的文件催办！"),!1}),a.componentName="remindersDialog",a.chooseItem={data:t}}),this.recover_checkClick=function(a){var t;this.checkList.length?a.checked?this.checkList[0].dataValue.moduleId==a.dataValue.moduleId&&this.checkList[0].dataValue.flowId==a.dataValue.flowId&&this.checkList[0].dataValue.nodeId==a.dataValue.nodeId?this.checkList.push(a):a.checked=!1:-1<(t=this.checkList.findIndex(function(t){return a.dataValue.id===t.dataValue.id}))&&this.checkList.splice(t,1):this.checkList.push(a)}}),e)}}}]);