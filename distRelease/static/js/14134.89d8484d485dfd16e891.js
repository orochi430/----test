"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[14134],{34838:function(a,t,e){e.r(t);var n=e(73473),o=e.n(n),i=e(90541),r=(e(88561),e(25108)),n={handle:function(a,t){},saveAfter:function(a,t,e){a.$router.go(-1)},initHandle:function(a,t,e){r.log(e.$router),e.$route.params.pk||i.Z.http.get("fn/epidemic/isClockIn").then(function(a){var t,a=a.data;r.log(a),"success"==a.type?(e.$set(e.formData.main,"C-EPIDEMIC-0004",{value:""}),e.$set(e.formData.main,"C-EPIDEMIC-0005",{value:""}),e.$set(e.formData.main,"C-EPIDEMIC-0006",{value:""}),window.dd&&(t=i.Z.layer.loading(),i.Z.dd.getGeolocation().then(function(a){r.log(a,"119"),e.$set(e.formData.main,"C-EPIDEMIC-0002",{value:a.province+""+a.city+a.district}),e.$set(e.formData.main,"C-EPIDEMIC-0004",{value:a.province}),e.$set(e.formData.main,"C-EPIDEMIC-0005",{value:a.city}),e.$set(e.formData.main,"C-EPIDEMIC-0006",{value:a.district}),i.Z.layer.closeLoading(t)}).catch(function(a){i.Z.layer.closeLoading(t),r.log(a,"121")}))):(i.Z.layer.toast("今日已打卡"),e.$router.replace("/commonForm/210202144200a6hFT4QWrGbmmP4dSy1/".concat(a.data)))}),t.controls.forEach(function(a,t){"B0025"==a.metaId&&(a.show=!0,a.controlType="controlHtml",a.label=" "),"C-EPIDEMIC-0002"==a.metaId&&(a.show=!0,a.controlType="controlMap",a.inpReadonly=!0)}),r.log(e.formData),e.$bus.on("selectDateTime",function(a){"C-EPIDEMIC-0002"==a.metaData.metaId&&(e.$set(e.formData.main,"C-EPIDEMIC-0004",{value:a.province}),e.$set(e.formData.main,"C-EPIDEMIC-0005",{value:a.city}),e.$set(e.formData.main,"C-EPIDEMIC-0006",{value:a.adName})),r.log(a),r.log(e.formData)})},saveFilter:function(a,t,e,n){return new(o())(function(a,t){a()})}};t.default=n}}]);