"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[328],{93540:function(t,e,i){i.d(e,{Z:function(){return n}});var e={props:{news:{type:Object,default:function(){}}},data:function(){return{}},methods:{link:function(){"ymbd"==this.news.type?window.wx?wx.invoke("openUrl",{type:0,url:this.news.blink},function(t){t.err_msg}):this.$router.push({name:"dsfIframe",params:{url:this.news.blink,title:"新闻详情"}}):this.$router.push({path:"/jiangsuyancaoNewsDetail",query:{id:this.news.id,type:this.news.type,time:this.news.time,showHeader:this.$route.query.showHeader}})}}},n=(0,i(51900).Z)(e,function(){var t=this,e=t._self._c;return e("div",{staticClass:"news",on:{click:t.link}},[e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[t._v(t._s(t.news.title))]),t._v(" "),t.news.time?e("div",{staticClass:"time"},[t._v(t._s(t.news.time))]):t._e()])])},[],!1,null,"f3a0341a",null).exports},328:function(t,e,i){i.r(e),i.d(e,{default:function(){return s}});var e={props:{title:{type:Array,default:function(){}},rightText:{type:String,default:"更多"}},data:function(){return{activeTab:"",activeType:""}},watch:{title:{handler:function(t){this.activeTab=t[t.length-1].title,this.activeType=t[t.length-1].type},deep:!0,immediate:!0}},methods:{tabClick:function(t){this.activeTab=t.title,this.activeType=t.type,this.$emit("tabClick",this.activeType)},rClick:function(){this.$emit("rightClick",this.activeType)}}},n=i(51900),e={components:{moduleItem:(0,n.Z)(e,function(){var i=this,n=i._self._c;return n("div",{staticClass:"module"},[n("div",{staticClass:"top"},[i._l(i.title,function(e,t){return n("span",{key:t,class:["tab",{active:i.activeTab==e.title}],on:{click:function(t){return i.tabClick(e)}}},[n("span",{staticClass:"left"}),i._v(" "),n("span",{staticClass:"title"},[i._v(i._s(e.title))])])}),i._v(" "),n("span",{staticClass:"right",on:{click:i.rClick}},[i._v(i._s(i.rightText))])],2),i._v(" "),i._t("default")],2)},[],!1,null,"3d3a7889",null).exports,newsItem:i(93540).Z},data:function(){return{activeName:"",tabs:[],currentTab:{},loading:!1,finished:!1}},created:function(){this.getColumn()},methods:{getColumn:function(){var e=this;dsf.http.get("fn/news/getColumn").then(function(t){200==t.data.code?(e.tabs=t.data.data,e.tabs.forEach(function(t){e.$set(t,"list",[]),e.$set(t,"images",[])})):dsf.layer.toast(t.data.message)})},load:function(e){var i=this.tabs.find(function(t){return t.title==e});i.lbType&&dsf.http.post("fn/news/getcarousel",{newsType:i.lbType}).then(function(t){200==t.data.code&&(i.images=t.data.data)}).error(function(t){}),this.currentTab=i,this.getList()},getCurrentTab:function(e){this.currentTab=this.tabs.find(function(t){return t.title==e})},getList:function(t){var e=this;this.currentTab.list=[],this.loading=!1,this.finished=!1,dsf.http.post("fn/news/list",{type:t||this.currentTab.subTitles[this.currentTab.subTitles.length-1].type,page:1,limit:12}).then(function(t){200==t.data.code?e.currentTab.list=t.data.data:e.currentTab.list=[],e.finished=!0}).error(function(t){})},rclick:function(t){this.$router.push({path:"/jiangsuyancaoNewsList",query:{type:t,showHeader:this.$route.query.showHeader}})},link:function(t){this.$router.push({path:"/jiangsuyancaoNewsDetail",query:{id:t.id,type:t.type,time:t.time,showHeader:this.$route.query.showHeader}})}}},s=(0,n.Z)(e,function(){var i=this,n=i._self._c;return n("div",[n("van-tabs",{attrs:{sticky:"","offset-top":i.$store.state.isShowAppHeader?"0.92rem":"0px",swipeable:""},on:{rendered:i.load,change:i.getCurrentTab},model:{value:i.activeName,callback:function(t){i.activeName=t},expression:"activeName"}},i._l(i.tabs,function(t){return n("van-tab",{key:t.type,attrs:{title:t.title,name:t.title}},[t.lbType?n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},i._l(t.images,function(e,t){return n("van-swipe-item",{key:t,on:{click:function(t){return i.link(e)}}},[n("img",{staticStyle:{objectFit:"cover"},attrs:{src:e.image}}),i._v(" "),n("div",{staticClass:"imgTitle"},[n("span",{staticClass:"clamp",domProps:{innerHTML:i._s(e.title)}})])])}),1):i._e(),i._v(" "),n("module-item",{attrs:{title:t.subTitles},on:{tabClick:i.getList,rightClick:i.rclick}},[n("template",{slot:"default"},[n("van-list",{attrs:{finished:i.finished},model:{value:i.loading,callback:function(t){i.loading=t},expression:"loading"}},[0<t.list.length?i._l(t.list,function(t){return n("news-Item",{key:t.id,attrs:{news:t}})}):i._e()],2)],1)],2)],1)}),1)],1)},[],!1,null,"6cc836f5",null).exports}}]);