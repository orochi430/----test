"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[13465],{13465:function(t,a,i){i.r(a),i.d(a,{default:function(){return s}});i(34837);var c=i(36689),a={components:{Toast:c.Z},data:function(){return{pass:"",noPass:"",data:{},isOk:"",code:"",backgroundUrl:""}},filters:{filterName:function(t){return t?t.substring(0,1)+new Array(t.length).join("*"):""}},computed:{time:function(){return dsf.date.format(new Date,"yyyy-mm-dd hh:ii:ss")}},created:function(){var t,a,s,e,i=this;i.$route.query.data?(i.data=JSON.parse(i.$route.query.data),i.setData()):i.$route.query.id&&(t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},a=(new Date).getTime(),s="cms"+(t()+t())+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t(),e="YQFKCX",$iaction.encrypt({proName:"YQFKCX",encryptKey:a+e+s},function(t){i.loadingIndx=dsf.layer.loading(),dsf.http.post("ctrl/api/log/".concat(i.$route.query.id),{timestamp:a,token:s,app:e,vcode:t,deviceId:dsf.util.loadLocalStore("DeviceId")||"未获取到设备",deviceName:dsf.util.loadLocalStore("DeviceName")||"未获取到设备"}).then(function(t){dsf.layer.closeLoading(i.loadingIndx),200==t.data.code?(i.data=t.data.data,i.data.errorDesc&&(0,c.Z)({message:i.data.errorDesc.replace(/<\/br>/gm,"\n")}),i.setData()):dsf.layer.toast(t.data.message)}).error(function(t){dsf.layer.toast("查询失败")})},function(t){alert(t)}))},methods:{setData:function(){this.isOk=1==this.data.healthCodeStatus&&1==this.data.nucleinStatus&&1==this.data.vaccinStatus&&(null==this.data.travelCodeStatus||1==this.data.travelCodeStatus),this.code=this.isOk?i(46833):i(91299),this.backgroundUrl=this.isOk?"url(".concat(i(97723),")"):"url(".concat(i(31504),")")},setStyle:function(t,a){return null==t?{backgroundColor:"#a1a1a1",boxShadow:"3px 7px 12px 0px #ddd"}:"1"==t?{backgroundColor:"#29B93D",boxShadow:"3px 7px 12px 0px rgba(163,222,171,1)"}:"01"==a?{backgroundColor:"#EBAE30",boxShadow:"3px 7px 12px 0px #decca3"}:{backgroundColor:"#DE4B2D",boxShadow:"3px 7px 12px 0px #DEA3A3"}}}},s=(0,i(51900).Z)(a,function(){var s=this,e=s._self._c;return e("div",{staticClass:"epidemicPrevention",style:{minHeight:"calc(100vh - ".concat(s.$store.state.isShowAppHeader?"0.92rem":"0px",")"),background:s.backgroundUrl}},[e("div",{staticClass:"box"},[e("div",{staticClass:"top",style:{color:s.isOk?"#29B93D":"#DE4B2D"}},[e("div",{staticClass:"title flex jc ac"},[e("i",{class:["iconfont",s.isOk?"iconchoose":"iconguanbi"],staticStyle:{"font-size":"0.8rem","padding-right":"0.2rem"}}),s._v(" "),s._v("\n        "+s._s(s.isOk?"通过":"不通过")+"\n      ")])]),s._v(" "),e("div",{staticClass:"ao"},[e("div",{staticClass:"line",style:{borderColor:s.isOk?"#29B93D":"#DE4B2D"}}),s._v(" "),e("img",{attrs:{src:i(91747),alt:""}})]),s._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticStyle:{"text-align":"center"}},[s._v(s._s(s.data.requestTime))]),s._v(" "),e("div",{staticClass:"flex jb info"},[e("div",[e("span",[s._v("姓  名：")]),s._v(" "),e("span",[s._v(s._s(s._f("filterName")(s.data.name)))])]),s._v(" "),e("div",[e("span",[s._v("身份证：")]),s._v(" "),e("span",[s._v(s._s(s.data.idNumber?s.data.idNumber.replace(/^(.{3})(?:\d+)(.{4})$/,"$1***********$2"):""))])])]),s._v(" "),e("div",{staticClass:"sub-box flex jc",style:s.setStyle(s.data.nucleinStatus)},[e("div",{staticClass:"left flex jc ac tc"},[s._v(s._s(s.data.nucleinEffectiveTime.replace("h","小时"))),e("br"),s._v("核酸检测")]),s._v(" "),e("div",{staticClass:"right flex jb ac"},[s.data.lastNucleinReportTime?[e("div",[e("div",{staticClass:"flex je"},[e("span",{staticClass:"hours",style:{color:1==s.data.nucleinStatus?"#29B93D":"#DE4B2D"}},[s._v("\n                  "+s._s(s.data.lastNucleinOverdueDesc||"剩余".concat(s.data.lastNucleinSurplusHours,"过期"))+"\n                ")])]),s._v(" "),e("div",{staticClass:"cell",staticStyle:{"padding-top":"0.12rem"}},[e("div",{staticClass:"key"},[s._v("采样时间：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinSampleTime))])]),s._v(" "),e("div",{staticClass:"cell"},[e("div",{staticClass:"key"},[s._v("采样单位：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinSampleOrgname||"核酸码采集"))])]),s._v(" "),s.data.lastNucleinSampleType?e("div",{staticClass:"cell"},[e("div",{staticClass:"key"},[s._v("采样方式：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinSampleType))])]):s._e(),s._v(" "),e("div",{staticClass:"cell"},[e("div",{staticClass:"key"},[s._v("检测时间：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinCollectTime))])]),s._v(" "),s.data.lastNucleinTestOrgname?e("div",{staticClass:"cell"},[e("div",{staticClass:"key"},[s._v("检测机构：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinTestOrgname))])]):s._e(),s._v(" "),e("div",{staticClass:"cell",staticStyle:{"font-size":"var(--font_size_3)","font-weight":"600"}},[e("div",{staticClass:"key"},[s._v("报告时间：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinReportTime))])]),s._v(" "),e("div",{staticClass:"cell",staticStyle:{"font-size":"var(--font_size_3)","font-weight":"600"}},[e("div",{staticClass:"key"},[s._v("检测结果：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(s.data.lastNucleinResult))])]),s._v(" "),e("div",{staticClass:"cell"},[e("span"),s._v(" "),s.$route.query.id?s._e():e("div",{staticClass:"to flex ac",on:{click:function(t){return s.$router.push("/epidemichistory?name=".concat(s.data.name||"","&idNumber=").concat(s.data.idNumber))}}},[s._v("\n                  查看详情"+s._s(1==s.data.hasUnUploadNuclein?"(含待检测机构上传)":"")+"\n                  "),1!=s.data.hasUnUploadNuclein?e("span",[e("van-icon",{attrs:{name:"arrow"}})],1):s._e()])])])]:[e("span",{staticStyle:{"font-size":"var(--font_size_3)"}},[s._v("暂无记录")])]],2)]),s._v(" "),e("div",{staticClass:"sub-box flex jc",style:s.setStyle(s.data.vaccinStatus)},[e("div",{staticClass:"left flex dc jc ac"},[s._v("\n          疫苗接种\n        ")]),s._v(" "),e("div",{staticClass:"right flex jb ac"},[s.data.jzjc?[e("div",{staticStyle:{flex:"1"}},[e("div",{staticClass:"flex je"},[e("span",{staticClass:"hours",style:{color:1==s.data.vaccinStatus?"#29B93D":"#DE4B2D"}},[s._v("\n                  接种"+s._s(s.data.jzjc)+"次\n                  ")])]),s._v(" "),s._l(s.data.jzrqArrays,function(t,a){return e("div",{key:a,staticClass:"cell"},[e("div",{staticClass:"key"},[s._v("第"+s._s(s.data.jzrqArrays.length-a)+"剂：")]),s._v(" "),e("div",{staticClass:"val"},[s._v(s._s(t))])])}),s._v(" "),e("div",{staticClass:"cell"},[e("span"),s._v(" "),s.$route.query.id?s._e():e("div",{staticClass:"to flex ac",on:{click:function(t){return s.$router.push("/epidemicvaccin?name=".concat(s.data.name||"","&idNumber=").concat(s.data.idNumber,"&vaccinSource=").concat(s.data.vaccinSource))}}},[s._v("查看详情 "),e("van-icon",{attrs:{name:"arrow"}})],1)])],2)]:e("div",{staticClass:"empty"},[e("span",{staticStyle:{"font-size":"var(--font_size_3)"}},[s._v("暂无记录")])])],2)]),s._v(" "),e("div",{staticClass:"sub-box flex jc",style:s.setStyle(s.data.healthCodeStatus,s.data.healthCode)},[e("div",{staticClass:"left flex jc ac"},[s._v("健康码")]),s._v(" "),e("div",{staticClass:"right flex jb ac"},[s.data.healthCode?e("span",{staticStyle:{"font-size":"var(--font_size_3)"}},[s._v(s._s(s.data.healthCodeMemo))]):e("span",{staticStyle:{"font-size":"var(--font_size_3)"}},[s._v("未查询到健康码")])])]),s._v(" "),e("div",{staticClass:"sub-box flex jc",style:s.setStyle(s.data.travelCodeStatus)},[e("div",{staticClass:"left flex jc ac"},[s._v("行程")]),s._v(" "),e("div",{staticClass:"right flex jb ac"},[null!=s.data.travelCodeStatus?[e("span",[s._v(s._s(s.data.travelCodeMemo))])]:e("div",{staticStyle:{"font-size":"var(--font_size_3)"}},[s._v("本次未查询行程码")])],2)])])])])},[],!1,null,"2a071cfe",null).exports},91747:function(t,a,s){t.exports=s.p+"static/img/ao.08e0938..png"},97723:function(t,a,s){t.exports=s.p+"static/img/greenBg.79c492d..png"},46833:function(t,a,s){t.exports=s.p+"static/img/greenCode.fbe0406..svg"},31504:function(t,a,s){t.exports=s.p+"static/img/redBg.b982971..png"},91299:function(t,a,s){t.exports=s.p+"static/img/redCode.9e7f4ba..svg"}}]);