"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[89668],{89668:function(t,a,e){e.r(a),e.d(a,{default:function(){return o}});var a=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("基本信息")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("入离职人数对比图")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-title"},[a("p",[a("img",{attrs:{src:e(58405),alt:""}}),t._v(" "),a("span",[t._v("各部门请假人数统计")])])])}],i=e(5044),n=e(70596),s=e(25108),r={name:"personStatistic",components:{},props:{},data:function(){return{baseInfo:{},gender:{},degree:[{text:"大专",value:0},{text:"大学本科",value:0},{text:"硕士",value:0},{text:"博士",value:0},{text:"未知",value:0}],rlzData:{names:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],values:[{name:"离职人数",type:"bar",data:[18203,23489,29034,104970,131744,630230,18203,23489,29034,104970,131744,630230]},{name:"入职人数",type:"bar",data:[19325,23438,31e3,121594,134141,681807,19325,23438,31e3,121594,134141,681807]}]},leaveData:{names:[],values:[{name:"请假人数",type:"bar",barMaxWidth:25,data:[]}]}}},computed:{},watch:{},created:function(){},mounted:function(){this.getData()},methods:{pieEchart:function(){var t=n.init(this.$refs.infoPie),a={series:[{type:"pie",color:["#3296fa","#E93F3F","#8543E0"],radius:["30%","50%"],avoidLabelOverlap:!1,label:{position:"outer",formatter:"{b}\n{d}%",distanceToLabelLine:-15,fontSize:12,lineHeight:15},labelLine:{lineStyle:{color:"#999"},length:5,length2:20},data:this.gender}]};t.clear(),t.setOption(a),window.onresize=function(){t.resize()}},radarEchart:function(){var a=this.degree.map(function(t){return t.value}),t=this.degree.map(function(t){return{name:t.text,max:Math.max.apply(Math,(0,i.Z)(a))}}),e=n.init(this.$refs.infoRadar),t={tooltip:{},radar:[{indicator:t,radius:"45%",splitArea:{show:!1},axisLine:{show:!1},name:{textStyle:{color:"#333",fontSize:12}},nameGap:3}],series:[{type:"radar",color:"#3296fa",symbol:"none",data:[{value:a}]}]};e.clear(),e.setOption(t),window.onresize=function(){e.resize()}},barEchart:function(t,a){var e=n.init(this.$refs[t]),t={color:["#0091FF","#E93F3F"],legend:{bottom:"3%",show:1<a.values.length},tooltip:{trigger:"axis",axisPointer:{type:"none"},lineStyle:{opacity:0}},grid:{left:"5%",right:"5%",bottom:"15%",top:"10%",containLabel:!0,z:22},xAxis:{type:"category",data:a.names,axisTick:{show:!1},axisLabel:{show:!0,interval:0,fontSize:12},axisLine:{lineStyle:{color:"#999999"}}},yAxis:{min:0,type:"value",axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:"#999999",width:1,type:"dashed"}},axisLine:{show:!1,lineStyle:{color:"#999999"}}},series:a.values};e.clear(),e.setOption(t),window.onresize=function(){e.resize()}},getData:function(){var n=this;dsf.http.get("ctrl/hr/statistics/base").then(function(t){var i;s.log(t.data.data),t&&t.data&&200==t.data.code&&t.data.data&&(i=t.data.data,n.baseInfo=i.base,n.gender=i.gender.map(function(t){return{name:t.type,value:t.count}}),n.degree.forEach(function(a,e){i.degree.forEach(function(t){a.text==t.type&&(n.degree[e].value=Number(t.count))})}),s.log(n.degree),n.rlzData.values[0].data=i.lz,n.rlzData.values[1].data=i.rz,i.leave.forEach(function(t){n.leaveData.names.push(t.type),n.leaveData.values[0].data.push(Number(t.count))}),n.$nextTick(function(){n.pieEchart(),n.radarEchart(),n.barEchart("contrastBar",n.rlzData),n.barEchart("leaveBar",n.leaveData)}))})}}},o=(0,e(51900).Z)(r,function(){var t=this,a=t._self._c;return a("div",{staticClass:"personStatistic",style:{height:"calc(100vh - ".concat(t.$store.state.isShowAppHeader?"0.92rem":"0px"," - ").concat(t.$store.state.isShowAppFooter?"1.2rem":"0px",")")}},[a("div",{staticClass:"common-card"},[t._m(0),t._v(" "),a("div",{staticClass:"common-content"},[a("ul",{staticClass:"info-list"},[a("li",[a("p",[t._v("总人数")]),t._v(" "),a("label",[t._v(t._s(t.baseInfo.count||0))])]),t._v(" "),a("li",[a("p",[t._v("本月入职")]),t._v(" "),a("label",[t._v(t._s(t.baseInfo.rz||0))])]),t._v(" "),a("li",[a("p",[t._v("本月离职")]),t._v(" "),a("label",[t._v(t._s(t.baseInfo.lz||0))])])]),t._v(" "),a("div",{staticClass:"echart-container"},[a("div",{ref:"infoPie",staticClass:"echart"}),t._v(" "),a("div",{ref:"infoRadar",staticClass:"echart"})])])]),t._v(" "),a("div",{staticClass:"common-card"},[t._m(1),t._v(" "),a("div",{staticClass:"common-content"},[a("div",{ref:"contrastBar",staticClass:"echart-box"})])]),t._v(" "),a("div",{staticClass:"common-card"},[t._m(2),t._v(" "),a("div",{staticClass:"common-content"},[a("div",{ref:"leaveBar",staticClass:"echart-box"})])])])},a,!1,null,"60aface8",null).exports},58405:function(t,a,e){t.exports=e.p+"static/img/titlebg.bdca99b..png"}}]);