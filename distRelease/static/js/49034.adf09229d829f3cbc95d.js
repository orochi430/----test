(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[49034],{8449:function(e,t,i){"use strict";var s=i(8167),o=i(31314),a=i(77193),n=i(8450),r=i.n(n),l=i(25108),n=function(){function n(){(0,s.Z)(this,n),(0,a.Z)(this,"ws",null),(0,a.Z)(this,"userid",""),(0,a.Z)(this,"ponReceivedTodo",null),(0,a.Z)(this,"ponScanCodeAfter",null),(0,a.Z)(this,"setIntervalWesocketPush",null)}return(0,o.Z)(n,[{key:"open",value:function(e){var t=dsf.url.getRootPath(),i=dsf.util.loadSessionStore("user").user_id||dsf.util.loadSessionStore("user").userId;t.startsWith("http:")?t=t.replace("http","ws")+"servletWebsocket/"+i:t.startsWith("https:")&&(t=t.replace("https","wss")+"servletWebsocket/"+i),this.ws=new WebSocket(t),this.ws.onopen=function(){e&&e()},this.ws.onmessage=function(e){var t;"pong"!=e.data&&(l.log(e),e=JSON.parse(e.data),t=n.getInstance(),-1<e.badgeType.indexOf("inbox")&&0<e.userIds.filter(function(e){return e==t.userid}).length?null!=t.ponReceivedTodo&&t.ponReceivedTodo({badgeType:e.badgeType,refresh:!0}):"qrCodeMessag"==e.badgeType&&e.userIds==t.userid?null!=t.ponScanCodeAfter&&t.ponScanCodeAfter({data:e.data}):"sameScreenMessage"==e.badgeType&&e.userIds.includes(t.userid)&&null!=t.ponmeettingSameScreen&&t.ponmeettingSameScreen({data:e.data}))},this.ws.onerror=function(e){l.log(e)},this.ws.onclose=function(){n.getInstance()}}},{key:"sendMessage",value:function(e){this.ws.send(r()(e))}},{key:"onReceivedTodo",value:function(e,t){this.userid=e,this.ponReceivedTodo=t}},{key:"onScanCodeAfter",value:function(e,t){this.userid=e,this.ponScanCodeAfter=t}},{key:"onmeettingSameScreen",value:function(e,t){this.userid=e,this.ponmeettingSameScreen=t}},{key:"clearFunction",value:function(){this.ponReceivedTodo=null,this.ponScanCodeAfter=null}},{key:"sendPing",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6e4,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"ping";clearInterval(this.setIntervalWesocketPush),this.ws&&1==this.ws.readyState&&this.ws.send(i),this.setIntervalWesocketPush=setInterval(function(){e.ws&&1==e.ws.readyState?e.ws.send(i):clearInterval(e.setIntervalWesocketPush)},t)}},{key:"getWsReadyState",value:function(){return n.instance.ws.readyState}}],[{key:"getInstance",value:function(e,t,i){return n.instance||(n.instance=new n).open(function(){n.instance.sendPing(),t&&i&&n.instance[t](i)}),n.instance}},{key:"close",value:function(e){n.instance&&n.instance.ws&&(clearInterval(n.instance.setIntervalWesocketPush),1==n.instance.ws.readyState&&n.instance.ws.close(),n.instance=null,e)&&e()}}]),n}();t.Z=n},71828:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});var t={props:{meeting:{type:Object,default:function(){return null}}},data:function(){return{title:"",address:"",host:"",startTime:"",endTime:""}},created:function(){this.getData()},methods:{dateFormat:function(e){return e?dsf.date.format(e,"yyyy-mm-dd hh:ii"):""},getData:function(e){var t=this;dsf.http.post("fn/conferenceMobile/meetingInfo",{meetingId:e&&e.id||this.meeting.id}).done(function(e){200==e.code&&e.data&&(t.title=e.data.title,t.address=e.data.address,t.host=e.data.moderator,t.startTime=t.dateFormat(e.data.startDateTime),t.endTime=t.dateFormat(e.data.endDateTime))}).error(function(e){dsf.layer.toast("数据获取失败！",!1)}).always(function(){})}}},n=(0,i(51900).Z)(t,function(){var e=this,t=e._self._c;return t("div",{ref:"meetingInfoContainer",staticClass:"meeting-info-container"},[t("div",{ref:"meetingInfoInner",staticClass:"meeting-info-inner"},[t("div",{staticClass:"info-item"},[t("span",{staticClass:"name"},[e._v("会议名称")]),e._v(" "),t("span",{staticClass:"val"},[e._v(e._s(e.title))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("span",{staticClass:"name"},[e._v("会议地点")]),e._v(" "),t("span",{staticClass:"val"},[e._v(e._s(e.address))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("span",{staticClass:"name"},[e._v("主持人")]),e._v(" "),t("span",{staticClass:"val"},[e._v(e._s(e.host))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("span",{staticClass:"name"},[e._v("开始时间")]),e._v(" "),t("span",{staticClass:"val"},[e._v(e._s(e.startTime))])]),e._v(" "),t("div",{staticClass:"info-item"},[t("span",{staticClass:"name"},[e._v("结束时间")]),e._v(" "),t("span",{staticClass:"val"},[e._v(e._s(e.endTime)+" ")])])])])},[],!1,null,"397059ba",null).exports},49034:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var t={components:{},data:function(){return{schedules:[{date:"8月16日 (星期一)",agendas:[{id:"4b7c5093-b4dc-6b12-718b-87bdddc0ada5",time:"上午09:00",title:"各代表团活动"},{id:"82a80603-a918-6df2-3220-ba66091a7c68",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"},{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议省会议中心大会堂举行预备会议省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]},{date:"8月17日 (星期二)",agendas:[{id:"8280215c-aeaf-df34-50b2-27d9611d6b28",time:"上午09:00",title:"各代表团活动"},{id:"804fcd45-22d3-ce8e-f8f8-d240a71da4a1",time:"下午15:00",title:"省会议中心大会堂举行预备会议"}]}]}},created:function(){},mounted:function(){},methods:{}},n=i(51900),t=(0,n.Z)(t,function(){var i=this,n=i._self._c;return n("div",{staticClass:"container"},i._l(i.schedules,function(e,t){return n("div",{key:t,staticClass:"day-box"},[n("div",{staticClass:"day"},[i._v(i._s(e.date))]),i._v(" "),n("van-cell-group",{attrs:{border:!1,inset:""}},i._l(e.agendas,function(e,t){return n("van-cell",{key:t,attrs:{title:e.title,to:"","is-link":""}})}),1)],1)}),0)},[],!1,null,"67a0743d",null).exports,s=i(71828),o=i(71937),o=i.n(o),a=i(22428),a=i.n(a),r=i(82060),l=i(70538),c=i(25108),a=(l.default.use(a()),l.default.use(o()),{components:{EnclosurePreview:r.default},props:{meeting:{type:Object,default:function(){}}},data:function(){return{activeNames:[],topics:[],hasFilePng:["ai","cloud","html","img","jpg","mp3","mp4","pdf","png","ppt","psd","rar","txt","word","wps","xls","zip","folder"],fileType:{pdf:["pdf"],img:["jpeg","bmp","webp","svgz","svg","gif","jpg","ico","png","tif"],txt:["txt","sql","xml","html","css","js","java","php","bat","log"],word:["docx","docm","doc","dotx","dotm","dot"],xls:["xlsx","xlsm","xlsb","xls","xltx","xltm","xlt","xlam","xla","ods"],ppt:["pptx","pptm","ppt","potx","potm","pot","ppsx","ppsm","pps","ppam","ppa"]},imgPreview:!1,previewImg:[],popFile:{},showFile:!1,filename:"",isPreview:!0,showDiolag:!1,showScreen:!1,sameFile:{},meetingObj:{meetingId:"",topicId:"",fileId:"",mode:0}}},created:function(){this.getData()},methods:{goPreview:function(){this.isPreview=!0},goHandWrite:function(){this.isPreview=!1},goto:function(e){this.$router.push({path:"/meetingPad/index/topic/".concat(e.id)})},getData:function(){var i=this,t=this;dsf.http.post("fn/conferenceMobile/meetingTopics",{meetingId:t.meeting.id}).done(function(e){200==e.code&&0<e.data.length&&(t.topics=e.data,i.activeNames=[],t.topics.forEach(function(e,t){i.activeNames.push(t)}))}).error(function(e){dsf.layer.toast("数据获取失败！",!1)}).always(function(){})},typeClass:function(e){var t,i=e.fileName.substr(e.fileName.lastIndexOf(".")+1).toLowerCase();for(t in this.hasFilePng.includes(i)&&"static/images/fileType/".concat(i,".png"),this.fileType)if(this.fileType[t].includes(i))return"static/images/fileType/".concat(t,".png")},previewFile:function(e,t){c.log(t),this.meetingObj.topicId=t.id,this.meetingObj.meetingId=this.$route.query.meetingId,this.meetingObj.fileId=e.fileId,this.setRead(e),this.popFile={id:e.fileId,name:e.fileName,infoId:e.infoId,moduleId:e.moduleId,isHandwrite:"1",flowId:e.flowId,nodeId:e.nodeId},navigator.userAgent.includes("DreamSoft")&&dsf.config.commonForm.nativeWps?this.wpsOpen(this.popFile):(this.isPreview=!0,this.filename=e.fileName,this.showFile=!0)},wpsOpen:function(e){var t=dsf.url.getRootPath(),i=dsf.util.loadSessionStore("user").auth.token,t={keepCallback:!0,downUrl:t+"fn/file/download?infoId=".concat(e.infoId,"&fileId=").concat(e.id,"&fileName=").concat(e.name,"&moduleId=").concat(e.moduleId,"&x-auth-token=").concat(i,"&fullfilename=").concat(e.name),saveUrl:"",fileName:e.name,openWithWPS:!0,uploadFile:!0,openMode:"readOnly",enterReviseMode:!1,showReviewingPaneRightDefault:!1,userName:dsf.util.loadSessionStore("user").name};c.log(t),$WPS.downAndOpen(t,function(e){c.log(e)},function(e){c.log("错误回调",e)})},closeFile:function(){this.showFile=!1,this.$refs.enclosurePreview.destroyInterval()},setRead:function(e){dsf.http.post("fn/conferenceMobile/setRead",{pk:e.fileId,moduleId:e.moduleId}).done(function(e){c.log("打开文件",e)}).error(function(e){c.log("error",e)}).always(function(){})}}}),l=(0,n.Z)(a,function(){var n=this,s=n._self._c;return s("div",{staticClass:"topic-container"},[s("van-collapse",{model:{value:n.activeNames,callback:function(e){n.activeNames=e},expression:"activeNames"}},n._l(n.topics,function(i,e){return s("van-collapse-item",{key:e,attrs:{name:e}},[s("template",{slot:"title"},[s("span",{staticClass:"topic-container-title"},[n._v(n._s(i.title))])]),n._v(" "),0<i.files.length?n._l(i.files,function(t,e){return s("div",{key:e,staticClass:"file-item",on:{click:function(e){return n.previewFile(t,i)}}},[s("div",{staticClass:"file-icon",style:"background-image:url(".concat(n.typeClass(t),")")}),n._v(" "),s("div",{staticClass:"file-desc"},[s("div",{staticClass:"file-desc-name"},[n._v(n._s(t.fileName))])])])}):n._e(),n._v(" "),i&&i.files&&0==i.files.length?s("div",{staticClass:"no-data"},[n._v("当前议题暂无资料")]):n._e()],2)}),1),n._v(" "),s("van-popup",{staticClass:"file-preview",staticStyle:{height:"100vh"},attrs:{"close-on-click-overlay":!0,"lock-scroll":"",position:"bottom"},model:{value:n.showFile,callback:function(e){n.showFile=e},expression:"showFile"}},[s("van-cell",{staticClass:"top-back",attrs:{title:n.filename,icon:"arrow-left",center:""},on:{click:n.closeFile}}),n._v(" "),s("div",{staticClass:"preview-outer"},[s("enclosure-preview",{ref:"enclosurePreview",attrs:{file:n.popFile,"is-show-cur-person":!0,"is-preview":n.isPreview,"is-signature":!0,meetingObj:n.meetingObj},on:{goPreview:n.goPreview,samescreenClick:function(e){},goHandWrite:n.goHandWrite}})],1)],1)],1)},[],!1,null,"18ef7bcc",null).exports,o=i(7418),a=i.n(o),d=i(25108),o={name:"NoticeScroll",components:{vueSeamlessScroll:a()},data:function(){return{list:[]}},created:function(){this.getData()},methods:{noticeClick:function(e){this.$router.push({path:"/meetingPad/index/noticeDetail",query:{id:e.id}})},getData:function(){var t=this;dsf.http.post("/fn/conferenceMessage/notice",{meetingId:this.$route.query.meetingId,count:5}).done(function(e){200==e.code&&e.data&&(t.list=e.data)}).error(function(e){d.log("error",e)}).always(function(){})},moreClick:function(){this.$router.push("/meetingPad/index/notice")}}},a=(0,n.Z)(o,function(){var i=this,n=i._self._c;return n("div",{staticClass:"notice-scroll"},[i._m(0),i._v(" "),0<i.list.length?[n("div",{staticClass:"center"},[n("vue-seamless-scroll",{staticClass:"seamless-warp",attrs:{data:i.list,"class-option":{direction:2,limitMoveNum:2}}},[n("ul",{staticClass:"item"},i._l(i.list,function(t,e){return n("li",{key:e,domProps:{textContent:i._s(t.title)},on:{click:function(e){return i.noticeClick(t)}}})}),0)])],1),i._v(" "),n("div",{staticClass:"right",on:{click:i.moreClick}},[i._v("更多")])]:n("div",[i._v("暂无公告")])],2)},[function(){var e=this._self._c;return e("div",{staticClass:"left"},[e("span"),this._v("通知公告:")])}],!1,null,"1f2e84bc",null).exports,u=i(44321),f=i(88561),h=i(8449),o=i(69448),m=i(25108),i={components:{agendaList:t,meetingInfo:s.Z,topicList:l,noticeScroll:a,EnclosurePreview:r.default,screenPerson:o.Z},data:function(){return{configMenus:dsf.config.meetingConfig.homePage.padMenu,menus:[],meeting:null,noticeInfo:[],msgUnReadCount:0,ishiddenTitle:!1,popFile:{},showFile:!1,filename:"",isPreview:!0,promoter:dsf.util.loadSessionStore("user"),showSame:!1,meetingObj:{meetingId:"",topicId:"",fileId:"",mode:"",sendUserId:"",sendUserName:"",personnelUserid:"",isLocked:""}}},watch:{},created:function(){this.getData()},mounted:function(){this.acceptSameScreen(),this.openMySocket()},methods:{showSameClick:function(){this.showSame=!this.showSame},moreClick:function(){this.$router.push({name:"meetingPadTopic",query:{meetingId:this.meeting.id}})},goPreview:function(){this.isPreview=!0},goHandWrite:function(){this.isPreview=!1},closeFile:function(){this.showFile=!1,this.$refs.enclosurePreview.destroyInterval()},goUrl:function(e){if("czzn"===e.id){var t=this.meeting;if(t.znFileId){if(t.flowId=0,t.nodeId=-1,this.popFile={id:t.znFileId,name:t.znFileName,infoId:t.znFileId,moduleId:t.moduleId,isHandwrite:"1",flowId:t.flowId,nodeId:t.nodeId},navigator.userAgent.includes("DreamSoft")&&dsf.config.commonForm.nativeWps)return void this.wpsOpen(this.popFile);this.showFile=!0,this.filename=t.znFileName}else dsf.layer.toast("请先上传".concat(e.name,"！"))}else e.url?this.$router.push(e.url):dsf.layer.toast("功能开发中！")},wpsOpen:function(e){var t=dsf.url.getRootPath(),i=dsf.util.loadSessionStore("user").auth.token,t={keepCallback:!0,downUrl:t+"fn/file/download?infoId=".concat(e.infoId,"&fileId=").concat(e.id,"&fileName=").concat(e.name,"&moduleId=").concat(e.moduleId,"&x-auth-token=").concat(i,"&fullfilename=").concat(e.name),saveUrl:"",fileName:e.name,openWithWPS:!0,uploadFile:!0,openMode:"readOnly",enterReviseMode:!1,showReviewingPaneRightDefault:!1,userName:dsf.util.loadSessionStore("user").name};m.log(t),$WPS.downAndOpen(t,function(e){m.log(e)},function(e){m.log("错误回调",e)})},getData:function(){var i=this,n=this;dsf.http.post("fn/conferenceMobile/meetingInfo",{meetingId:this.$route.query.meetingId}).done(function(e){var t;200==e.code&&e.data&&(n.meeting=e.data,dsf.util.saveToSessionStore("meeting",e.data),u.Z.commit("setMeetingName",n.meeting.title),i.msgUnReadCount=e.data.msgUnReadCount,t=e.data.showModule.split(","),i.menus=i.configMenus.filter(function(e){return t.includes(e.id)}),e.data.isSendMessage)&&t.includes("hyxx")&&i.menus.push({id:"xxfb",name:"消息发布",img:"static/images/meetingPad/xxfb.png",url:"/meetingPad/index/publish"})}).error(function(e){m.log("error",e)}).always(function(){})},acceptSameScreen:function(){var t=this;dsf.http.post("fn/conferenceMobile/getSameScreen",{meetingId:this.$route.query.meetingId}).done(function(e){m.log(e),200==e.code&&e.data.fileId&&(t.meetingObj.meetingId=t.$route.query.meetingId,t.meetingObj.topicId=e.data.topicId,t.meetingObj.fileId=e.data.fileId,t.meetingObj.sendUserId=e.data.promoterUserid,t.meetingObj.sendUserName=e.data.promoterUsername,t.meetingObj.personnelUserid=e.data.personnelUserid,t.meetingObj.isLocked=e.data.isLocked,t.promoter.user_id==e.data.promoterUserid?t.meetingObj.mode=0:t.meetingObj.mode=1,t.showSameClick())})},openMySocket:function(){var t=this;h.Z.close(),this.oaScoket=h.Z.getInstance(this),this.oaScoket.onmeettingSameScreen(f.Z.loadSessionStore("user").user_id,function(e){m.log(e),200==e.data.code&&("发起同屏"==e.data.message||"发起同屏-新增人员"==e.data.message?(t.meetingObj.fileId=e.data.fileId,t.meetingObj.sendUserName=e.data.promoterUsername,t.meetingObj.sendUserId=e.data.promoterUserid,t.meetingObj.isLocked=e.data.isLocked,t.meetingObj.mode=0,t.showSameClick()):(t.showSame&&dsf.layer.toast("分享已结束"),t.showSame=!1))})}}},p=(0,n.Z)(i,function(){var i=this,n=i._self._c;return n("div",{staticClass:"index-container"},[n("div",{staticClass:"left"},[n("noticeScroll"),i._v(" "),n("div",{staticClass:"info content-box"},[i.ishiddenTitle?i._e():n("div",{staticClass:"title"},[i._v("会议信息")]),i._v(" "),i.meeting?n("meetingInfo",{staticClass:"content",attrs:{meeting:i.meeting},on:{hiddenTitle:function(){return i.ishiddenTitle=!0}}}):i._e()],1),i._v(" "),n("div",{staticClass:"menus"},i._l(i.menus,function(t,e){return n("div",{key:e,on:{click:function(e){return i.goUrl(t)}}},[0<i.msgUnReadCount&&"hyxx"===t.id?n("span",{staticClass:"sign"},[i._v(i._s(i.msgUnReadCount))]):i._e(),i._v(" "),n("img",{attrs:{src:t.img,alt:""}}),i._v(" "),n("p",[i._v(i._s(t.name))])])}),0)],1),i._v(" "),n("div",{staticClass:"right content-box"},[n("div",{staticClass:"right-top"},[n("div",{staticClass:"title"},[i._v("会议议题")]),i._v(" "),n("span",{staticClass:"more",on:{click:i.moreClick}},[i._v("更多")])]),i._v(" "),i.meeting?n("topicList",{staticClass:"content",attrs:{meeting:i.meeting}}):i._e()],1),i._v(" "),n("van-popup",{staticClass:"file-preview",staticStyle:{height:"100vh"},attrs:{"close-on-click-overlay":!0,"lock-scroll":"",position:"bottom"},model:{value:i.showFile,callback:function(e){i.showFile=e},expression:"showFile"}},[n("van-nav-bar",{attrs:{title:i.filename,"left-text":"返回","left-arrow":"",fixed:"",placeholder:""},on:{"click-left":i.closeFile}}),i._v(" "),n("div",{staticClass:"preview-outer"},[n("enclosure-preview",{ref:"enclosurePreview",attrs:{file:i.popFile,"is-preview":i.isPreview,"is-signature":!0,isShowCurPerson:!0,isSignature:!1},on:{goPreview:i.goPreview,goHandWrite:i.goHandWrite}})],1)],1),i._v(" "),i.showSame?n("screen-person",{ref:"sameScreen",attrs:{accept:!0,meetingObj:i.meetingObj},on:{showSameClick:i.showSameClick}}):i._e()],1)},[],!1,null,"62842599",null).exports},7418:function(e){e.exports=function(i){function n(e){var t;return(s[e]||(t=s[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}var s={};return n.m=i,n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(4)();var n=i(5),s=i(6);t.default={name:"vue-seamless-scroll",data:function(){return{xPos:0,yPos:0,delay:0,copyHtml:"",height:0,width:0,realBoxWidth:0}},props:{data:{type:Array,default:function(){return[]}},classOption:{type:Object,default:function(){return{}}}},computed:{leftSwitchState:function(){return this.xPos<0},rightSwitchState:function(){return Math.abs(this.xPos)<this.realBoxWidth-this.width},leftSwitchClass:function(){return this.leftSwitchState?"":this.options.switchDisabledClass},rightSwitchClass:function(){return this.rightSwitchState?"":this.options.switchDisabledClass},leftSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 -"+this.options.switchOffset+"px",transform:"translate(-100%,-50%)"}},rightSwitch:function(){return{position:"absolute",margin:this.height/2+"px 0 0 "+(this.width+this.options.switchOffset)+"px",transform:"translateY(-50%)"}},float:function(){return this.isHorizontal?{float:"left",overflow:"hidden"}:{overflow:"hidden"}},pos:function(){return{transform:"translate("+this.xPos+"px,"+this.yPos+"px)",transition:"all "+this.ease+" "+this.delay+"ms",overflow:"hidden"}},defaultOption:function(){return{step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}},options:function(){return s({},this.defaultOption,this.classOption)},navigation:function(){return this.options.navigation},autoPlay:function(){return!this.navigation&&this.options.autoPlay},scrollSwitch:function(){return this.data.length>=this.options.limitMoveNum},hoverStopSwitch:function(){return this.options.hoverStop&&this.autoPlay&&this.scrollSwitch},canTouchScroll:function(){return this.options.openTouch},isHorizontal:function(){return 1<this.options.direction},baseFontSize:function(){return this.options.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1},realSingleStopWidth:function(){return this.options.singleWidth*this.baseFontSize},realSingleStopHeight:function(){return this.options.singleHeight*this.baseFontSize},step:function(){var e=this.options.step;return this.isHorizontal?this.realSingleStopWidth:this.realSingleStopHeight,e}},methods:{reset:function(){this._cancle(),this._initMove()},leftSwitchClick:function(){if(this.leftSwitchState)return Math.abs(this.xPos)<this.options.switchSingleStep?void(this.xPos=0):void(this.xPos+=this.options.switchSingleStep)},rightSwitchClick:function(){if(this.rightSwitchState)return this.realBoxWidth-this.width+this.xPos<this.options.switchSingleStep?void(this.xPos=this.width-this.realBoxWidth):void(this.xPos-=this.options.switchSingleStep)},_cancle:function(){cancelAnimationFrame(this.reqFrame||"")},touchStart:function(e){var t,i,n,s=this;this.canTouchScroll&&(e=e.targetTouches[0],t=(n=this.options).waitTime,i=n.singleHeight,n=n.singleWidth,this.startPos={x:e.pageX,y:e.pageY},this.startPosY=this.yPos,this.startPosX=this.xPos,i&&n?setTimeout(function(){s._cancle()},t+20):this._cancle())},touchMove:function(e){var t;!this.canTouchScroll||1<e.targetTouches.length||e.scale&&1!==e.scale||(e=e.targetTouches[0],t=this.options.direction,this.endPos={x:e.pageX-this.startPos.x,y:e.pageY-this.startPos.y},event.preventDefault(),1==(e=Math.abs(this.endPos.x)<Math.abs(this.endPos.y)?1:0)&&t<2?this.yPos=this.startPosY+this.endPos.y:0==e&&1<t&&(this.xPos=this.startPosX+this.endPos.x))},touchEnd:function(){var e,t,i=this;this.canTouchScroll&&(e=this.options.direction,this.delay=50,1===e?0<this.yPos&&(this.yPos=0):0===e?(t=this.realBoxHeight/2*-1,this.yPos<t&&(this.yPos=t)):2===e?0<this.xPos&&(this.xPos=0):3===e&&(t=-1*this.realBoxWidth,this.xPos<t)&&(this.xPos=t),setTimeout(function(){i.delay=0,i._move()},this.delay))},enter:function(){this.hoverStopSwitch&&this._stopMove()},leave:function(){this.hoverStopSwitch&&this._startMove()},_move:function(){this.isHover||(this._cancle(),this.reqFrame=requestAnimationFrame(function(){var e=this,t=this.realBoxHeight/2,i=this.realBoxWidth/2,n=this.options,s=n.direction,n=n.waitTime,o=this.step;1===s?(Math.abs(this.yPos)>=t&&(this.$emit("ScrollEnd"),this.yPos=0),this.yPos-=o):0===s?(0<=this.yPos&&(this.$emit("ScrollEnd"),this.yPos=-1*t),this.yPos+=o):2===s?(Math.abs(this.xPos)>=i&&(this.$emit("ScrollEnd"),this.xPos=0),this.xPos-=o):3===s&&(0<=this.xPos&&(this.$emit("ScrollEnd"),this.xPos=-1*i),this.xPos+=o),this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.realSingleStopHeight?Math.abs(this.yPos)%this.realSingleStopHeight<o?this.singleWaitTime=setTimeout(function(){e._move()},n):this._move():this.realSingleStopWidth&&Math.abs(this.xPos)%this.realSingleStopWidth<o?this.singleWaitTime=setTimeout(function(){e._move()},n):this._move()}.bind(this)))},_initMove:function(){var n=this;this.$nextTick(function(){var e=n.options.switchDelay,t=n.autoPlay,i=n.isHorizontal;n._dataWarm(n.data),n.copyHtml="",i&&(n.height=n.$refs.wrap.offsetHeight,n.width=n.$refs.wrap.offsetWidth,i=n.$refs.slotList.offsetWidth,n.$refs.realBox.style.width=(i=t?2*i+1:i)+"px",n.realBoxWidth=i),t?(n.ease="ease-in",n.delay=0,n.scrollSwitch?(n.copyHtml=n.$refs.slotList.innerHTML,setTimeout(function(){n.realBoxHeight=n.$refs.realBox.offsetHeight,n._move()},0)):(n._cancle(),n.yPos=n.xPos=0)):(n.ease="linear",n.delay=e)})},_dataWarm:function(e){e.length},_startMove:function(){this.isHover=!1,this._move()},_stopMove:function(){this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this._cancle()}},mounted:function(){this._initMove()},watch:{data:function(e,t){this._dataWarm(e),n(e,t)||this.reset()},autoPlay:function(e){e?this.reset():this._stopMove()}},beforeCreate:function(){this.reqFrame=null,this.singleWaitTime=null,this.isHover=!1,this.ease="ease-in"},beforeDestroy:function(){this._cancle(),clearTimeout(this.singleWaitTime)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=i(2),n=i&&i.__esModule?i:{default:i};n.default.install=function(e){e.component((1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).componentName||n.default.name,n.default)},"undefined"!=typeof window&&window.Vue&&Vue.component(n.default.name,n.default),t.default=n.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=i(0),o=i.n(s);for(n in s)"default"!==n&&function(e){i.d(t,e,function(){return s[e]})}(n);var a=i(7),o=i(3)(o.a,a.a,!1,null,null,null);t.default=o.exports},function(e,t){e.exports=function(e,t,i,n,s,o){var a,r,l,c=e=e||{},d=typeof e.default,d="function"==typeof(c="object"!=d&&"function"!=d?c:(a=e).default)?c.options:c;return t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),s&&(d._scopeId=s),o?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=r):n&&(r=n),r&&(e=d.functional,l=e?d.render:d.beforeCreate,e?(d._injectStyles=r,d.render=function(e,t){return r.call(t),l(e,t)}):d.beforeCreate=l?[].concat(l,r):[r]),{esModule:a,exports:c,options:d}}},function(e,t){e.exports=function(){window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e)},window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}},function(e,t){e.exports=function(e,t){if(e!==t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1}return!0}},function(e,t){var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function e(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t,i,n,s,o=void 0,a=void 0,r=1,l=arguments[0]||{},c=!1,d=arguments.length;if("boolean"==typeof l&&(c=l,l=arguments[1]||{},r++),"object"!==(void 0===l?"undefined":u(l))&&"function"!=typeof l&&(l={}),r!==d)for(;r<d;r++)if(null!=(t=arguments[r]))for(o in t)i=l[o],n=t[o],s=Array.isArray(n),c&&n&&("object"===(void 0===n?"undefined":u(n))||s)?(a=s?i&&Array.isArray(i)?i:[]:i&&"object"===(void 0===i?"undefined":u(i))?i:{},l[o]=e(c,a,n)):void 0!==n&&(l[o]=n);return l}},function(e,t,i){"use strict";t.a={render:function(){var e=this,t=e.$createElement,t=e._self._c||t;return t("div",{ref:"wrap"},[e.navigation?t("div",{class:e.leftSwitchClass,style:e.leftSwitch,on:{click:e.leftSwitchClick}},[e._t("left-switch")],2):e._e(),e._v(" "),e.navigation?t("div",{class:e.rightSwitchClass,style:e.rightSwitch,on:{click:e.rightSwitchClick}},[e._t("right-switch")],2):e._e(),e._v(" "),t("div",{ref:"realBox",style:e.pos,on:{mouseenter:e.enter,mouseleave:e.leave,touchstart:e.touchStart,touchmove:e.touchMove,touchend:e.touchEnd}},[t("div",{ref:"slotList",style:e.float},[e._t("default")],2),e._v(" "),t("div",{style:e.float,domProps:{innerHTML:e._s(e.copyHtml)}})])])},staticRenderFns:[]}}]).default}}]);