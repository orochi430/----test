"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[51593],{69032:function(t,a,n){n.r(a);var e=n(73473),o=n.n(e),e=n(79529),i=n.n(e),n={};function u(t,a,n){t.main["C-IM-PROJECT-048"].value.length?n.$set(n.formData.main,"C-IM-PROJECT-052",{value:"1",text:"是"}):n.$set(n.formData.main,"C-IM-PROJECT-052",{value:"2",text:"否"})}n.initHandle=function(n,t,e){t.controls.find(function(t){return"C-IM-PROJECT-017"==t.metaId}).controlType="controlMap",u(n,0,e),e.$bus.on("blurBus",function(t){"C-IM-PROJECT-048"==t.metaData.metaId&&u(n,0,e)}),e.$bus.on("checkVal",function(a){"C-IM-PROJECT-VRLINKMAN-002"==a.metaData.metaId&&a.value&&dsf.http.post("fn/projectManage/getVrLinkManPhoneNo",{userId:a.value}).then(function(t){t=t.data;"success"==t.type&&e.$set(n.multinfos["2204221452494767VJ2CyWIDkyjAwvo"].rows[a.subFormIndex],"C-IM-PROJECT-VRLINKMAN-003",{value:t.data.phone})})}),e.$bus.on("setAddress",function(t){"C-IM-PROJECT-017"==t.metaData.metaId&&(e.$set(e.formData.main,"C-IM-PROJECT-017",{value:t.address}),e.$set(e.formData.main,"C-IM-PROJECT-018",{value:t.lng}),e.$set(e.formData.main,"C-IM-PROJECT-019",{value:t.lat}))})},n.saveFilter=function(n,t,f,a){return new(o())(function(a,t){var s=n.multinfos["220422150137uK6Gmft6rSu9wIdGadL"].rows,r=n.multinfos["2204221452494767VJ2CyWIDkyjAwvo"].rows;dsf.http.post("fn/projectManage/getSubFormId").then(function(t){var n,e,t=t.data,o=t.data.projectLinkMaxId,u=t.data.vrLinkMaxId;f.pk?(e=n=0,s.forEach(function(t,a){"Added"==t.action&&(f.$set(t["220422150137uK6Gmft6rSu9wIdGadL"],"value",i()(o)+n),n++)}),r.forEach(function(t,a){"Added"==t.action&&(f.$set(t["2204221452494767VJ2CyWIDkyjAwvo"],"value",i()(u)+e),e++)})):(s.forEach(function(t,a){f.$set(t["220422150137uK6Gmft6rSu9wIdGadL"],"value",i()(o)+a)}),r.forEach(function(t,a){f.$set(t["2204221452494767VJ2CyWIDkyjAwvo"],"value",i()(u)+a)})),a()})})},a.default=n}}]);