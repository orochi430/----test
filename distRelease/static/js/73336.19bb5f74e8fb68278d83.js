"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[73336],{73336:function(t,i,n){n.r(i),n.d(i,{default:function(){return a}});var l=n(522),i=n(62207),u=n.n(i),d=n(25108),i={name:"womanHomePage",data:function(){return{keyword:"",active:1,listValue:[],ListView:!0,mapView:!1,wenZi:"切换地图"}},created:function(){var n=this;window.zoomOnClick111=function(t,i){t=n.listValue[t];t.active=n.active,n.$router.push({name:"partiCulars",params:t})},this.getData()},mounted:function(){},methods:{getSearch:function(){d.log("我点击了");var t={type:this.active,bt:this.keyword,ddm:this.keyword},i=this;dsf.http.post("fn/kjdd/data",t).then(function(t){"200"==t.data.code&&(i.listValue=t.data.data,i.loadMap())})},getData:function(t){var i=this,n=this,t=(null!=t&&(n.active=t),{type:n.active});dsf.http.post("fn/kjdd/data",t).then(function(t){d.log(t),"200"==t.data.code&&(n.listValue=t.data.data,i.loadMap())})},goForm:function(t){t.active=this.active,this.$router.push({name:"partiCulars",params:t})},btnCut:function(){1==this.ListView?(this.ListView=!1,this.mapView=!0,this.wenZi="切换列表"):(this.ListView=!0,this.mapView=!1,this.wenZi="切换地图")},loadMap:function(){var t=this,i=this.$refs.mapFrame.contentWindow.document,n=i.createElement("script");n.type="text/javascript",n.src="http://map.qq.com/api/js?v=2.exp&key=YOUR_KEY&libraries=geometry",n.onload=function(){t.initMap()},i.body.appendChild(n)},initMap:function(){d.log(this.$refs.mapFrame.contentWindow.document.getElementById);var t=new qq.maps.LatLng(31.279,121.579023),e=new qq.maps.Map(this.$refs.mapFrame.contentWindow.document.body,{center:t,zoom:12,draggable:!0,scrollwheel:!0,markers:i}),s=this,i=s.listValue.map(function(t){if(t.zb)return t.zb.split(",").map(function(t){return u()(t)})}),r=s.listValue.map(function(t){t=t.zb.split(",").map(function(t){return u()(t)}),t=(0,l.Z)(t,2);return{lat:t[0],lng:t[1]}});for(var n=[],a=0;a<i.length;a++){var o=new qq.maps.LatLng(i[a][0],i[a][1]),o=new qq.maps.Marker({position:o,map:e});n.push(o)}new qq.maps.MarkerCluster({map:e,minimumClusterSize:999,markers:n,zoomOnClick:!0,gridSize:30,averageCenter:!0,maxZoom:18});for(var c=new qq.maps.InfoWindow({map:e}),a=0;a<r.length;a++)!function(i){var n=s.listValue[i].bt,a=s.listValue[i].ddm,t=new qq.maps.Marker({position:new qq.maps.LatLng(r[i].lat,r[i].lng),map:e});qq.maps.event.addListener(t,"click",function(){var t='<div onClick="window.parent.zoomOnClick111('+i+')"  id="btn'+i+'"   style="text-align:center;white-space:nowrap;margin:10px;">'+n+'</div><div onClick="window.parent.zoomOnClick111('+i+')" style="text-align:center;margin:10px;width:200px">位置:'+a+"</div>";c.open(),c.setContent(t),c.setPosition(new qq.maps.LatLng(r[i].lat,r[i].lng))})}(a)}}},a=(0,n(51900).Z)(i,function(){var n=this,a=n._self._c;return a("div",[a("div",{staticClass:"box"},[a("div",[a("van-swipe",{staticClass:"swipe",attrs:{loop:!1,"show-indicators":!1,width:118}},[a("van-swipe-item",[a("div",{staticClass:"swipeBox",on:{click:function(t){return n.getData(1)}}},[a("img",{attrs:{src:"static\\images\\pudongFulian\\fuwuzhongxin.png",alt:""}})])]),n._v(" "),a("van-swipe-item",[a("div",{staticClass:"swipeBox",on:{click:function(t){return n.getData(3)}}},[a("img",{attrs:{src:"static\\images\\pudongFulian\\jiatinglianjie.png",alt:""}})])]),n._v(" "),a("van-swipe-item",[a("div",{staticClass:"swipeBox",on:{click:function(t){return n.getData(0)}}},[a("img",{attrs:{src:"static\\images\\pudongFulian\\tongyuekongjian.png",alt:""}})])]),n._v(" "),a("van-swipe-item",[a("div",{staticClass:"swipeBox",on:{click:function(t){return n.getData(2)}}},[a("img",{attrs:{src:"static\\images\\pudongFulian\\youhaokongjian.png",alt:""}})])])],1)],1),n._v(" "),a("div",{staticClass:"search_body"},[a("van-search",{attrs:{"show-action":"","action-text":"搜索","right-icon":"","left-icon":"search",placeholder:"请输入搜索关键词"},scopedSlots:n._u([{key:"action",fn:function(){return[a("div",{staticClass:"boxRd"},[a("div",{staticClass:"zise",on:{click:function(t){return n.getSearch()}}},[n._v("搜索")]),n._v(" "),a("div",{staticClass:"wenziR",on:{click:function(t){return n.btnCut()}}},[n._v(n._s(n.wenZi))])])]},proxy:!0}]),model:{value:n.keyword,callback:function(t){n.keyword=t},expression:"keyword"}})],1),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.ListView,expression:"ListView"}]},[a("div",{staticClass:"boxWidth"},n._l(n.listValue,function(i,t){return a("div",{key:t,staticClass:"boxChunk",on:{click:function(t){return n.goForm(i)}}},[a("div",{staticClass:"box-box"},[a("div",{staticClass:"boxZi"}),n._v(" "),a("div",{staticClass:"boxWen"},[n._v(n._s(i.bt))])]),n._v(" "),a("div",{staticClass:"Weizhi"},[n._v("位置: "+n._s(i.ddm))])])}),0)]),n._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:n.mapView,expression:"mapView"}],staticClass:"ditu"},[a("iframe",{ref:"mapFrame",attrs:{width:"100%",height:"800px",frameborder:"0",src:"about:blank",allowfullscreen:""}})])])])},[],!1,null,"4937b9c9",null).exports},79156:function(t,i,n){n.d(i,{Z:function(){return e}});var a=n(78149);function e(t){if(a(t))return t}},26511:function(t,i,n){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(i,{Z:function(){return a}})},522:function(t,i,n){n.d(i,{Z:function(){return r}});var a=n(79156),u=n(85579),d=n(22013);var e=n(33422),s=n(26511);function r(t,i){return(0,a.Z)(t)||function(t,i){var n=null==t?null:void 0!==u&&t[d]||t["@@iterator"];if(null!=n){var a,e,s,r,o=[],c=!0,l=!1;try{if(s=(n=n.call(t)).next,0===i){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=s.call(n)).done)&&(o.push(a.value),o.length!==i);c=!0);}catch(t){l=!0,e=t}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw e}}return o}}(t,i)||(0,e.Z)(t,i)||(0,s.Z)()}}}]);