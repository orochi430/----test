"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[13852],{13852:function(e,t,a){a.d(t,{Z:function(){return V}});var t=a(62680),r=a.n(t),t=a(95366),i=a.n(t),t=a(6919),n=a.n(t),t=a(27921),s=a.n(t),t=a(85579),l=a.n(t),t=a(22013),c=a.n(t),x=a(522),y=a(5044),o=a(77193),t=a(26243),b=a.n(t),t=a(43562),w=a.n(t),t=a(8450),S=a.n(t),C=a(70690),t=a(79529),d=a.n(t),t=a(62207),u=a.n(t),m=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],h=["1","0","X","9","8","7","6","5","4","3","2"],g=null;function f(e,t){try{15==(e=e.replace(/ /g,"").replace("x","X").replace(/(^\s*)|(\s*$)/g,"")).length&&(s="",e=s=(s=(s=(o=e).substring(0,6)+"19")+o.substring(6))+p(s));i=(i=(i=!0)&&e&&""!=e)&&18==e.length;for(var a=e.split(""),n=0;i&&n<17;n++)var r=a[0],r=d()(r),i=i&&0<=r&&r<=9;return i=(i=i&&p(e)==a[17])&&function(e){var t,a=e.substring(6,10),n=e.substring(10,12),e=e.substring(12,14),r=new Date(a,u()(n)-1,u()(e));{var i;g=a+"-"+n+"-"+e,void 0===t&&(i=new Date,(o=i.getMonth()+1)<10&&(o="0"+o),(s=i.getDate())<10&&(s="0"+s),i=i.getFullYear()+"-"+o+s,t=i)}var o=t.replace(/-/g,""),s=g.replace(/-/g,"");if(null!=s&&""!=s&&d()(s)>d()(o))return!1;return!(r.getFullYear()!=u()(a)||r.getMonth()!=u()(n)-1||r.getDate()!=u()(e)||r.getFullYear()<1900)}(e)}catch(e){return!1}var o,s}function p(e){for(var t=e.split(""),a=0,n=0;n<17;n++)a+=t[n]*m[n];return h[a%11]}var t={IdCardValidate:f,fileRequired:function(e,t,a){return!($(t).find(".attachment-row[x-data-state!='Deleted']").size()<=0)},fileMJ:function(e,t,a){return!0},fileRelationValidator:function(e,t,a){return 0!=$(t).find(".attachment-row").length},opinionContentRequired:function(e,t,a,n){$(t).parent().find(".layui-error-msg").remove();var r=(r=$(t).find("textarea[name='opinionDesc']").val()).trim();if(n){var i=n.content.isContent,o=n.content.isFile,s=n.content.isContentMsg,l=n.content.isFileMsg,n=n.content.opinionConfirm;if(n&&1==n)return"";if(i&&"true"==i&&(null==r||""==r))return s;if(o&&"true"==o)if($(t).find(".attachment-row[x-data-state!='Deleted']").size()<=0)return l}return""},endTimeCheck:function(e,t,a,n){function r(e){return e&&e.replace(/-/g,"/")}var i=(o=this.controlData.rules.filter(function(e){return"endTimeCheck"==e.name})[0]).begTime,o=o.endTime,s=function e(t){return"FORM"!=t.$el.tagName?e(t.$parent):t.$parent}(this),l="datetime()"==i?Date.parse(new Date):Date.parse(r(null==(l=s.formData.main[i])?void 0:l.value)),c="datetime()"==o?Date.parse(new Date):Date.parse(r(null==(c=s.formData.main[o])?void 0:c.value)),d=(Date.parse(r(this.value.value)),!0),u=(c<l&&(d=!1),/^[1-9][0-9][0-9][0-9][-/][0-1]{0,1}[0-9][/-][0-3]{0,1}[0-9]\s[0-2]{0,1}[0-9]/);return d=u.test(null==(i=s.formData.main[i])?void 0:i.value)&&u.test(null==(i=s.formData.main[o])?void 0:i.value)&&c<=l?!1:d},numberGreaterThan:function(e,t,a,n){return!isNaN(e)&&n.content.num<e}},v=a(25108);function F(e,t){var a,n,r,i,o=void 0!==l()&&e[c()]||e["@@iterator"];if(o)return n=!(a=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){n=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(n)throw r}}};if(Array.isArray(e)||(o=function(e,t){var a;if(e)return"string"==typeof e?D(e,t):"Map"===(a="Object"===(a=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:a)||"Set"===a?s()(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function R(t,e){var a,n=b()(t);return r()&&(a=r()(t),e&&(a=a.filter(function(e){return i()(t,e).enumerable})),n.push.apply(n,a)),n}function T(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(Object(a),!0).forEach(function(e){(0,o.Z)(t,e,a[e])}):n()?Object.defineProperties(t,n()(a)):R(Object(a)).forEach(function(e){Object.defineProperty(t,e,i()(a,e))})}return t}var V={props:{metaData:{type:Object},value:{type:Object}},data:function(){return{readonly:!1}},created:function(){},mounted:function(){this.initStyle()},methods:T(T({},t),{},{initRules:function(){var e,s=this;if(this.metaData.privilege&&(this.readonly=!this.metaData.privilege.editable),this.controlData.inputAlign&&(this.controlData.inputAlign="left"),this.readonly?(this.controlData.placeholder="",this.controlUserMessage&&(this.controlUserMessage.placeholder="")):(e=["controlUser","controlCode","controlComboBox","controlFileCode","controlDateTime"].includes(this.metaData.controlType)?"请选择":"请输入",this.controlData.placeholder=this.metaData.placeholder||e+this.metaData.label.replace(/&nbsp;/g,"")),this.controlData&&this.controlData.hasOwnProperty("rules")){var t,l=[],c=(b(),w()),a=this.metaData.validator,n=[],r=F(c(a));try{for(r.s();!(t=r.n()).done;){var i=(0,x.Z)(t.value,2),o=i[0],d=i[1];if(C.Z.hasOwnProperty(o)){var u,m=JSON.parse(S()(C.Z[o])),h=F(c(a[o]));try{for(h.s();!(u=h.n()).done;){var g=(0,x.Z)(u.value,2),f=g[0],p=g[1],v="{"+f+"}";m.regex&&(m.regex=m.regex.replace(v,p)),m.function&&"endTimeCheck"==m.function&&(m.begTime=a[o].begTime,m.endTime=a[o].endTime),m.message=m.message.replace(v,p)}}catch(e){h.e(e)}finally{h.f()}m.name=o,-1<m.message.indexOf("{title}")&&(m.message=m.message.replace("{title}",this.metaData.label).replace(/&nbsp;/g,"")),-1<m.message.indexOf("{message}")&&(m.message=m.message.replace("{message}",this.metaData.label)),d.message&&(m.message=d.message),n.push(m)}}}catch(e){r.e(e)}finally{r.f()}var D=[];n.forEach(function(e,t){"required"==e.name&&(D.push(e),n.splice(t,1))}),(n=D.length?[].concat(D,(0,y.Z)(n)):n).forEach(function(e,t){e.regex&&(e.regex=new RegExp(e.regex,"m"));var a,n=T({validator:e.function?s[e.function]:"",message:e.message,pattern:e.regex},e),r=F(c(n));try{for(r.s();!(a=r.n()).done;){var i=(0,x.Z)(a.value,2),o=i[0];i[1];n[o]||delete n[o]}}catch(e){r.e(e)}finally{r.f()}l.push(n)}),this.controlData.rules=l}this.controlData&&this.controlData.maxlength&&(this.controlData.maxlength=this.metaData.validator&&this.metaData.validator.length&&this.metaData.validator.length.maxLength?this.metaData.validator.length.maxLength:"")},findForm:function(e){return"FORM"!=e.$el.tagName?this.findForm(e.$parent):e.$parent},intoView:function(e){v.log(e.target);var t=document.documentElement.clientHeight||document.body.clientHeight;setTimeout(function(){(document.documentElement.clientHeight||document.body.clientHeight)<t&&e.target.scrollIntoViewIfNeeded(!1)},300)},initStyle:function(){var e="#ctr_".concat(this.metaData.controlId," .van-field .van-field__control:read-only\n      {").concat(this.metaData.extra.fontSize?"font-size: "+this.metaData.extra.fontSize+"px !important;":"","\n      ").concat(this.metaData.extra.fontWeight?"font-weight: "+this.metaData.extra.fontWeight+" !important;":"","\n      ").concat(this.metaData.extra.fontStyle?"font-style: "+this.metaData.extra.fontStyle+" !important;":"","\n      ").concat(this.metaData.extra.color?"color: "+this.metaData.extra.color+" !important;":"","}");dsf.config.commonForm.labelStyleWithContent&&(e+="#ctr_".concat(this.metaData.controlId," .control_label span\n          {").concat(this.metaData.extra.fontSize?"font-size: "+this.metaData.extra.fontSize+"px !important;":"","\n          ").concat(this.metaData.extra.fontWeight?"font-weight: "+this.metaData.extra.fontWeight+" !important;":"","\n          ").concat(this.metaData.extra.fontStyle?"font-style: "+this.metaData.extra.fontStyle+" !important;":"","\n          ").concat(this.metaData.extra.color?"color: "+this.metaData.extra.color+" !important;":"","}")),this.setCssRule(e)},setCssRule:function(e){1==this.$el.nodeType&&(this.dividerStyle=document.createElement("style"),this.dividerStyle.type="text/css",this.$el.appendChild(this.dividerStyle),this.dividerStyle.innerHTML=e)}}),watch:{"metaData.privilege.editable":{handler:function(e,t){this.initRules()},deep:!0},"metaData.validator":{handler:function(e,t){this.initRules()},deep:!0},"metaData.show":{immediate:!0,handler:function(e,t){1==e?this.initRules():this.controlData.rules=[],this.$bus.emit("changeControlShow",{show:e,metaId:this.metaData.metaId})}}}}},70690:function(e,t){t.Z={sampleFunctionValidator:{function:" return window.sampleFunctionValidator(value , item , $control); /*定义在validators.js*/",message:"示例校验失败提示"},sampleRegexValidator:{regex:"^.+$",message:"必填项{title}不能为空"},required:{regex:"^.+$",message:"{title}不能为空"},integer:{regex:"^(\\-?)(\\d+)$|^$",message:"{title}只能填写整数"},number:{regex:"^(\\-?)(\\d+)$|^(\\-?)(\\d+)(.{1})(\\d+)$|^$",message:"{title}只能填写数字"},email:{regex:"^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$|^$",message:"{title}邮箱格式不正确"},url:{regex:"(^#)|(^http(s*):\\/\\/[^\\s]+\\.[^\\s]+)|^$",message:"{title}链接格式不正确"},date:{regex:"^(\\d{4})[-\\/](\\d{1}|0\\d{1}|1[0-2])([-\\/](\\d{1}|0\\d{1}|[1-2][0-9]|3[0-1]))*$|^$",message:"{title}日期格式不正确"},datetime:{regex:"^((((1[6-9]|[2-9]\\d)\\d{2})[-\\/]?(0?[13578]|1[02])[-\\/]?(0?[1-9]|[12]\\d|3[01]))|(((1[6-9]|[2-9]\\d)\\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\\d|30))|(((1[6-9]|[2-9]\\d)\\d{2})-0?2-(0?[1-9]|1\\d|2[0-9]))|(((1[6-9]|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29-))( (20|21|22|23|[0-1]?\\d):[0-5]?\\d(:[0-5]?\\d)?)?$|^$",message:"{title}日期时间格式不正确"},mobile:{regex:"^[+]?(0|86|)?\\s?1[3456789]\\d{1}\\s?\\d{4}\\s?\\d{4}$|^$",message:"{title}手机号码格式不正确"},tel:{regex:"^((0\\d{2}\\s*(-?)\\s*)?(\\d{4}\\s*\\d{4}))$|^((0\\d{3}\\s*(-?)\\s*)?(\\d{3}\\s*\\d{4}|\\d{4}\\s*\\d{4}|\\d{4}\\s*\\d{3}))$|^$",message:"{title}固话号码格式不正确"},phone:{regex:"^[+]?(0|86|)?\\s?1[3456789]\\d{1}\\s?\\d{4}\\s?\\d{4}$|^((0\\d{2}\\s*(-?)\\s*)?(\\d{4}\\s*\\d{4}))$|^((0\\d{3}\\s*(-?)\\s*)?(\\d{3}\\s*\\d{4}|\\d{4}\\s*\\d{4}|\\d{4}\\s*\\d{3}))$|^$",message:"{title}号码格式不正确"},lengthRange:{regex:"^.{{begin},{end}}$",message:"{title}长度范围{begin} ~ {end}"},length:{regex:"^.{0,{maxLength}}$",message:"{title}长度不能超过{maxLength}"},postCode:{regex:"^[1-9][0-9]{5}$|^$",message:"{title}不正确"},userName:{regex:"^[a-zA-Z0-9_-]{2,16}$",message:"{title}不正确"},mac:{regex:"^[A-F0-9]{2}(-[A-F0-9]{2}){5}$",message:"{title}不正确"},ip:{regex:"^((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]|[*])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]|[*])$",message:"{title}不正确"},identity:{function:"IdCardValidate",message:"身份证号码不正确"},fileRequired:{function:" return DSF.Validators.fileRequired(value, item); ",message:"文件不能为空"},fileMJ:{function:" return DSF.Validators.fileMJ(value, item); ",message:"文件密级不能为空"},opinionContentRequired:{function:" return DSF.Validators.opinionContentRequired(value, item, $control,param); ",message:"意见内容不能为空"},endTimeCheck:{function:"endTimeCheck",message:"{message}"},fileRelationValidator:{function:" return DSF.Validators.fileRelationValidator(value, item, $control); ",message:"关联文件不能为空"},attachmentUnique:{function:" return DSF.Validators.attachmentUnique(value, item, $control); ",message:"类型值不能为空"},numberGreaterThan:{function:" return DSF.Validators.numberGreaterThan(value, item, $control,param); ",message:"请输入大于{num}的数值"}}}}]);