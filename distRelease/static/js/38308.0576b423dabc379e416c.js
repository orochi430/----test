"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[38308],{38308:function(t,n,e){e.r(n),e.d(n,{default:function(){return a}});var n=e(8450),o=e.n(n),r=e(88561),i=e(25108),n={data:function(){return{logname:"zhangshan",txtpassword:"111111",myInput:"myinput"}},mounted:function(){var t="ef7c20afa45dcf5fa8d17416378550cf",n="676a17a1321d10316f0fe71890572b0e",e="https://ufont.foundertype.com/",e=(new UncommonWordShow(["#receiveWord"],{tid:t,domainUrl:e,contextPath:"",token:n,onlyUncc:!1,events:{beforeLoad:function(){},loading:function(){},loaded:function(){i.log("加载成功")},onError:function(){i.log("有错误")}}}),new FzKeyboard("#myinput",{domainUrl:e,contextPath:"",tid:t,token:n,onlyUncc:!1,css:"my-css-name",bottom:30,position:"right",positionRange:80,drag:!0,hideAnimate:!0,events:{hide:function(){i.log("这是自定义的hide事件回调")},inputComplet:function(t){i.log("这里给APP传送："+t)},init:function(){i.log("这是自定义的init事件回调1")},initFont:function(){i.log("这是自定义的initFont事件回调1")}}}));e.on("show",function(){i.log("这是自定义的show事件回调1")}),window.kb=e},created:function(){},methods:{showSPZ:function(){window.kb.show()},dandian:function(){Promise.all([e.e(38653),e.e(56369)]).then(e.t.bind(e,56369,23)).then(function(d){(window.dd=d).ready(function(){r.Z.clearSession(),d.runtime.permission.requestAuthCode({corpId:"dingf5850a5877fdc7d5a39a90f97fcb1e09",onSuccess:function(t){dsf.http.postUrls("http://ahyc.com.cn//sinoware/v1/sso/getUserInfo",{code:t.code,token:"",resourcesId:""},{}).then(function(t){if(1==t.data.rcode)return r.Z.saveToSessionStore("user",t.data.data),r.Z.saveToSessionStore("loginToken",t.data.data.auth.token),r.Z.saveToSessionStore("Role",t.data.data.role),dsf.http.get("/fn/DingDing/getToken",{});0==t.rcode?d.device.notification.alert({message:t.message,title:"温馨提示",buttonName:"确定",onSuccess:function(){},onFail:function(t){}}):d.device.notification.alert({message:"登录失败!",title:"温馨提示",buttonName:"确定",onSuccess:function(){},onFail:function(t){}})}).then(function(t){if(t.data&&t.data.message)return dsf.http.get("/fn/DingDing/getTicket?token=".concat(t.data.message),{});dsf.layer.toast("获取钉钉token出错")}).then(function(t){if(t.data&&t.data.message){for(var n=window.location.href.split("#")[0],e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",o=e.length,i="",a=0;a<16;a++)i+=e.charAt(Math.floor(Math.random()*o));var s=i,c=(dsf.config.ddSetting.ddAgentId,Date.parse(new Date));dsf.config.ddSetting.ddCoprId;dsf.http.get("/fn/DingDing/getSign2?ticket=".concat(t.data.message,"&nonceStr=").concat(s,"&timeStamp=").concat(c,"&url=").concat(n),{}).then(function(t){t.data&&t.data.message?(d.config({agentId:DingConfig.agentId,corpId:DingConfig.corpId,timeStamp:c,nonceStr:s,signature:t.data.message,type:0,jsApiList:["device.connection.getNetworkType","device.base.getWifiStatus","device.base.getPhoneInfo","device.base.getUUID","biz.cspace.saveFile","biz.conference.videoConfCall","biz.util.scan","biz.ding.create","biz.microApp.openApp","biz.util.openLink"]}),r.Z.logIn(function(){beforeNext(toDo)})):dsf.layer.toast("钉钉JS签名出错")})}})},onFail:function(t){t=o()(t);alert("失败"+t)}})})}).catch(function(t){i.log(t)})},scan:function(){dsf.dd.scan(function(t){i.log("scan",t)})},createChatGroup:function(){dsf.dd.createChatGroup(["479561","467677"])},video:function(){dsf.dd.video({title:"视频会议",calleeCorpId:dsf.config.ddSetting.ddCoprId,calleeStaffIds:["479561","467677"],onSuccess:function(t){alert("success:"+t)},onFail:function(t){alert("error:"+t)}})},pudong:function(){dd.biz.util.openLink({url:"http://180.167.126.152/DreamMobile/dist/index.html#!/MainIndexPage/false",onSuccess:function(t){},onFail:function(t){}})},ding:function(){dsf.dd.Ding({users:["72177"],alertType:2,text:"测试丁丁"})},login:function(){r.Z.clearSession();var n=this;dsf.http.post("/fn/mobileAuth/login",{__DATA:o()({logname:this.logname,password:this.txtpassword,device_id:"postman",device_desc:"postman"})}).then(function(t){1==t.data.rcode&&(r.Z.saveToSessionStore("user",t.data.data),r.Z.saveToSessionStore("loginToken",t.data.data.auth.token),dsf.http.post("fn/mobileToDo/getToDoBadge",{}).then(function(t){i.log("ddd",t)}),n.$router.push("/")),dsf.layer.toast(t.data.message)})},writingseal:function(){var t={mode:0,copyRight:dsf.config.ddSetting.Kingecode,userName:"zhangsan",url:"http://116.236.111.158:8011/DreamMobile/demo/1.pdf",top:"0",left:"0",width:"100%",height:"100%",fileName:"",fileType:"",isSupportPen:!1};dd.showSignature(t).then(function(t){i.log(t)}).catch(function(t){})},writingseal2:function(){var t={mode:0,copyRight:dsf.config.ddSetting.Kingecode,userName:"zhangsan",url:"http://116.236.111.158:8011/DreamMobile/demo/1.pdf",top:"30",left:"30",width:"800",height:"1000",fileName:"",fileType:"",isSupportPen:!1};dd.showSignature(t).then(function(t){i.log(t)}).catch(function(t){})}}},a=(0,e(51900).Z)(n,function(){var n=this,t=n._self._c;return t("div",[t("van-form",{on:{submit:n.login}},[t("van-field",{attrs:{id:n.myInput,name:"用户名",label:"用户名",placeholder:"用户名"},model:{value:n.logname,callback:function(t){n.logname=t},expression:"logname"}}),n._v(" "),t("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码"},model:{value:n.txtpassword,callback:function(t){n.txtpassword=t},expression:"txtpassword"}}),n._v(" "),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[n._v("登录")])],1)],1),n._v(" "),t("icon",{attrs:{color:"red",name:"hand-holding-usd",label:"Forked Repository"}}),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.scan}},[n._v("扫码")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.video}},[n._v("视频")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.ding}},[n._v("发丁")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.createChatGroup}},[n._v("创建聊天")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.dandian}},[n._v("单点")]),n._v(" "),t("icon",{attrs:{label:"No Photos"}},[t("icon",{attrs:{name:"camera"}}),n._v(" "),t("icon",{staticClass:"alert",attrs:{name:"ban",scale:"2"}})],1),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.pudong}},[n._v("浦东")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.writingseal}},[n._v("手写批章")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.writingseal2}},[n._v("手写批章2")]),n._v(" "),t("van-button",{attrs:{type:"info"},on:{click:n.showSPZ}},[n._v("输入生僻字")]),n._v(" "),n._m(0)],1)},[function(){var t=this._self._c;return t("div",{staticClass:"ipt",attrs:{id:"receiveWord"}},[t("div",[this._v("\n      㐀㓿䐀䓿䫟䶵一廿渀绿踀 黿龥𬍛  𬱖𬘡𬀩䮄瓅﨩𠀀\n      𡀀𢀀𣀀𤀀𥀀𦀀𧀀𨀀𩀀𪀀𪛖 𪛖𫍽𬬮妭䗴姐鿍鿎鿏 \n      𪃾1𦰣𦮶𦮻𦰊23䓍䓐䓊78910\n    ")])])}],!1,null,null,null).exports}}]);