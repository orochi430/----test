"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[93393],{65045:function(e,a,t){t.r(a);var I=t(77193),d=t(90541),t={initHandle:function(a,e,t){var f=e.controls.find(function(e){return"C-BJ-0002"==e.metaId}),e=(f.extra.tabs=[],d.Z.http.post("ctrl/capacityManagement/getThisUserInfo").then(function(e){if(200==e.data.code){var a=e.data.data.userInfo,t=e.data.data.bjsyrPar,d=e.data.data.bjsyrCur,n=e.data.data.hideDeptList,e=e.data.data.hideUserList,i={name:"本机构",action:"ctrl/nodeSelect/treeData?name=本机构&metaKey=&t=1654157356838&moduleId=undefined&flowId=undefined&nodeId=undefined&excludeIds=undefined",urlParams:{async:!0,isShowUpName:!0,selectType:"user",multiple:!0,title:"用户选择",isRealUser:!0,stNodeId:"",loadByLevel:!1,stLevel:4,endLevel:16,loadType:"unit",stInLevel:0,stType:"unit",showRange:"unit,dept,user"}},l={name:"上级机构",action:"ctrl/nodeSelect/treeData?name=上级机构&metaKey=&t=1654157356838&moduleId=undefined&flowId=undefined&nodeId=undefined&excludeIds=undefined",urlParams:((0,I.Z)(l={async:!0,isShowUpName:!0,selectType:"user",multiple:!0},"isShowUpName",!0),(0,I.Z)(l,"selectType","user"),(0,I.Z)(l,"multiple",!0),(0,I.Z)(l,"title","用户选择"),(0,I.Z)(l,"isRealUser",!0),(0,I.Z)(l,"stNodeId",""),(0,I.Z)(l,"loadByLevel",!1),(0,I.Z)(l,"stLevel",4),(0,I.Z)(l,"endLevel",16),(0,I.Z)(l,"loadType","unit"),(0,I.Z)(l,"stInLevel",1),(0,I.Z)(l,"stType","unit"),(0,I.Z)(l,"endInLevel",3),(0,I.Z)(l,"showRange","dept,user"),l)},r={name:"同级机构",action:"ctrl/nodeSelect/treeData?name=同级机构&metaKey=&t=1654157356838&moduleId=undefined&flowId=undefined&nodeId=undefined&excludeIds=undefined",urlParams:{async:!0,isShowUpName:!0,selectType:"user",multiple:!0,isRealUser:!0,stNodeId:"",loadByLevel:!1,stLevel:4,endLevel:16,loadType:"unit",stInLevel:1,stType:"unit",endInLevel:3,showRange:"unit,dept,user"}},s={name:"同级机构",action:"ctrl/nodeSelect/treeData?name=同级机构&metaKey=&t=1654157356838&moduleId=undefined&flowId=undefined&nodeId=undefined&excludeIds=undefined",urlParams:{async:!0,isShowUpName:!0,selectType:"user",multiple:!0,isRealUser:!0,stNodeId:"",loadByLevel:!1,stLevel:4,endLevel:16,loadType:"unit",stInLevel:1,stType:"unit",endInLevel:2,endType:"dept",showRange:"unit,dept,user"}},u={name:"我的小组",action:"ctrl/nodeSelect/treeData?name=我的小组&metaKey=&t=1654157356838&moduleId=undefined&flowId=undefined&nodeId=undefined&excludeIds=undefined",urlParams:{async:!0,isShowUpName:!0,selectType:"user",multiple:!0,isOtherData:!0,classPath:"cn.dreamit.p2085.notepaper.service.impl.CapacityManagementServiceImpl",method:"getGroupInfo",otherParams:"{}"}},o=new Array;if(!a.benjisysby)for(var p in d)o.push("user_"+p);if(!a.sjsysby)for(var p in t)o.push("user_"+p);if(i.urlParams.hideNodeArray=o.join(","),l.urlParams.hideNodeArray=o.join(","),r.urlParams.hideNodeArray=o.join(","),s.urlParams.hideNodeArray=o.join(","),u.urlParams.hideNodeArray=o.join(","),f.extra.tabs.push(i),a.shangjibjsby&&f.extra.tabs.push(l),16<=a.unitType){var d=16==a.unitType?s:r,c=new Array;if(null!=n)for(var m in n)c.push("dept_"+m);a.thisUnitId&&c.push("unit_"+a.thisUnitId),16==a.unitType&&null!=e&&0<e.length&&$.each(e,function(e,a){c.push("user_"+a.id)}),d.urlParams.hideNodeIdsInTab=c.join(","),f.extra.tabs.push(d)}f.extra.tabs.push(u)}}),{moduleId:t.moduleId});t.$route.query.replyId?e.replyId=t.$route.query.replyId:t.$route.query.forwardIds?e.forwardIds=t.$route.query.forwardIds:e.pk=t.$route.params.pk,d.Z.http.post("fn/mobileNote/getNotepaperById",e).then(function(e){t.noteId=e.data.id,t.$route.query.replyId||t.$set(a.main,"B0001",{value:e.data.noteTitle||""}),t.$set(a.main,"B0006",{value:e.data.jjcd||"",text:e.data.jjcdText||""}),t.$set(a.main,"C-BJ-0001",{value:e.data.content||"",text:e.data.contentText||""}),t.$set(a.main,"C-BJ-0002",{value:e.data.range,text:e.data.rangeName,schema:e.data.rangeSchema}),t.allFile.length&&(t.allFile[0].file=e.data.file?e.data.file.attach.map(function(e){return{id:e.fileId,title:e.fileName,type:e.nrType,size:e.showFileSize,navtiveUrl:e.filePath,url:-1<["jpeg","bmp","webp","svgz","svg","gif","jpg","ico","png","tif"].indexOf(e.extension)?d.Z.url.getServerUrl("fn/mobileFileDownload/download?fileId=".concat(e.fileId,"&moduleId=").concat(t.moduleId,"&fileName=").concat(e.fileName,"&isTemp=true")):d.Z.url.getServerUrl("fn/office/openMobileOffice?fileId=".concat(e.fileId,"&moduleId=").concat(t.moduleId,"&x-auth-token=").concat(d.Z.util.loadSessionStore("loginToken"))),moduleId:t.moduleId,isHandwrite:"-1",isRevise:"-1",canEdit:"-1",canDownLoad:"1",name:"附件"}}):[],t.allFile[0].uploadObj=e.data.file?e.data.file.attach:[])})}};a.default=t}}]);