"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[78e3],{78e3:function(t,n,e){e.r(n),e.d(n,{default:function(){return i}});var n=e(41775),o=e(50856),a=e(25108),n={components:{DsList:n.Z,DsButtonToolbox:o.Z},data:function(){return{tab:"",tabs:[{title:"我发起",name:"mypost"},{title:"待审批",name:"waitaudit",count:2},{title:"已审批",name:"audited"},{title:"我关注",name:"mycollect"}],buttons:{commonButton:[{icon:"iconshujukanban",action:"dataview",name:"数据看板"},{icon:"iconpiliangchuli",action:"batchaction",name:"批量处理"},{icon:"iconpiliangchuli",action:"batchaction2",name:"批量处理"},{icon:"iconpiliangchuli",action:"batchaction3",name:"批量处理"}],mainButtons:[{action:"create",name:"我要新建"}]},staticsisData:[{num:10,text:"收文",desc:"今日+2"},{num:10,text:"发文",desc:"今日+2"},{num:10,text:"会议",desc:"今日+2"},{num:10,text:"流转中",desc:"今日+2"},{num:10,text:"已结束",desc:"今日+2"},{num:10,text:"已超期",desc:"今日+2"}],data:[{dataValue:{bt:"已按要求做好相关工作,请毅松、志强、联姘同志阅示",fw:"发文",lz:"来自章三（环节）",date:"当天",coment:"已按要求做好相关工作,请毅松、志强、联姘同志阅示已按要求做好相关工作,请毅松、志强、联姘同志阅示已按要求做好相关工作,请毅松、志强、联姘同志阅示"},buttons:{commonButton:[{icon:"iconguanzhu",action:"gz",name:"关注"},{icon:"iconzhiding",action:"zd",name:"置顶"}],mainButtons:[{action:"th",name:"退回"},{action:"fs",name:"发送"}]}}],columns:[{showCategory:"mainTitle",showMetaColumn:"bt"},{showCategory:"subTitle",showMetaColumn:"fw",icon:"iconwenjianleixing"},{showCategory:"subTitle",showMetaColumn:"lz",icon:"iconzhuangtai",color:"#67C23B"},{showCategory:"subTitle",showMetaColumn:"date",icon:"iconriqi",color:"#F66C6C"},{showCategory:"content",showMetaColumn:"coment",icon:"iconshijian",showRows:2}]}},methods:{handleCommonClick:function(t){a.log(t)},handleMainClick:function(t){a.log(t)}}},i=(0,e(51900).Z)(n,function(){var n=this,e=n._self._c;return e("div",{staticClass:"ds-documentcenter"},[e("van-nav-bar",{attrs:{fixed:"",title:"办文中心","left-arrow":""},on:{"click-left":function(t){return n.$router.back()}}}),n._v(" "),e("div",{staticClass:"staticsis"},n._l(n.staticsisData,function(t){return e("div",{key:t.text,staticClass:"staticsis-item"},[e("div",{staticClass:"si-t"},[n._v(n._s(t.num))]),n._v(" "),e("div",{staticClass:"si-c"},[n._v(n._s(t.text))]),n._v(" "),e("div",{staticClass:"si-b"},[n._v(n._s(t.desc))])])}),0),n._v(" "),e("van-tabs",{staticClass:"tabs",attrs:{animated:"",sticky:""},model:{value:n.tab,callback:function(t){n.tab=t},expression:"tab"}},n._l(n.tabs,function(t){return e("van-tab",{key:t.name,attrs:{name:t.name,title:t.title,badge:t.count}},[e("DsList",{attrs:{data:n.data,columns:n.columns}})],1)}),1),n._v(" "),e("div",{staticClass:"footer"},[e("DsButtonToolbox",{attrs:{buttons:n.buttons,single:"",more:""},on:{commonClick:n.handleCommonClick,mainClick:n.handleMainClick}})],1)],1)},[],!1,null,null,null).exports},41775:function(t,n,e){e.d(n,{Z:function(){return u}});e(23307);var n=e(81392),o=e(26243),a=e.n(o),o=e(79529),l=e.n(o),o=e(46297),i=e(84628),s=e(50856),c=e(25108),o={components:{DsCard:o.Z,DsButtonGroup:i.Z,DsButtonToolbox:s.Z,Icon:n.Z},props:{tabObj:{type:Object},data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},type:{type:String},keyColumn:{type:String},formMethod:{type:String},isHiddenBtn:{type:Boolean,default:function(){}}},data:function(){return{}},created:function(){},computed:{aSubTitles:function(){return c.log(this.columns.filter(function(t){return/^subTitle\w?$/i.test(t.showCategory)})),this.columns.filter(function(t){return/^subTitle\w?$/i.test(t.showCategory)})},bSubTitles:function(){return this.columns.filter(function(t){return/^content$/i.test(t.showCategory)})},needTitles:function(){return this.columns.filter(function(t){return/^needTitle\w?$/i.test(t.showCategory)})},titleIcon:function(){return this.columns.filter(function(t){return/^titleIcon\w?$/i.test(t.showCategory)})}},mounted:function(){c.log(this.bSubTitles)},methods:{isShowColumn:function(t,n){return n.dataValue[t.showMetaColumn]||0===n.dataValue[t.showMetaColumn]},isShowListBtn:function(t){var n=null==this.isHiddenBtn,e=!1,e=!(!t.buttons||!(t.buttons.commonButtons&&0<t.buttons.commonButtons.length||t.buttons.mainButtons&&0<t.buttons.mainButtons.length));return n&&e},link:function(t){var n,e,o,a;t.dataValue.allowMobile&&1!=t.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):("isRead"in t.dataValue&&!t.dataValue.isRead&&(t.dataValue.isRead=!0),n=(t=t.dataValue)[this.keyColumn]||t.info_id||t.id||t.A0001||t.fid||t["SW_XZD.A0001"],e=this.keyColumn?this.keyColumn.split(".")[0]+".A0004":"",e=t.moduleId||t.A0004||t["SW_XZD.A0004"]||t[e],"db"==this.type&&(e=t.masterModuleId||t.moduleId||t.A0004),a=t.masterId||"",e=e+"/"+n,o={},"gw"==this.type&&(e+="/1",o.todoId=t.todoId),this.type&&(e+="?type=".concat(this.type)),"SigninList"==this.$route.name&&(e+="?&listId=1903161124289nXBk8iVSmTMGYxn9bi&exchangeList=signedList"),"db"==this.type&&(a&&(e+="&masterId=".concat(a)),c.log(this.formMethod),this.formMethod)&&(e+="&formMethod=info"),"dy"==this.type&&(e+="&distribId=".concat(t.distribId),dsf.http.post("fn/mobileToRead/markRead",{pks:t.distribId}).then(function(t){c.log(t)})),this.tabObj&&this.tabObj.targetUrl?(a=this.tabObj.targetUrl.replace("[pk]",n),this.$router.push({path:a})):this.$router.push({path:"/commonForm/"+e,query:o}))},getTitle:function(){return this.columns.find(function(t){return"mainTitle"===t.showCategory})||{}},handleCommonClick:function(t,n,e){n.dataValue.allowMobile&&1!=n.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):this.$emit("commonClick",t,n,e)},handleMainClick:function(t,n,e){n.dataValue.allowMobile&&1!=n.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):this.$emit("mainClick",t,n,e)},titleIconColor:function(t,n){t=t.dataValue[n.showMetaColumn].substr(0,1);return dsf.config.listTitleIcon&&-1<a()(dsf.config.listTitleIcon).indexOf(t)?(n=dsf.config.listTitleIcon[t],{backgroundColor:this.colorRgba(n,.12),color:n,borderColor:n}):""},colorRgba:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,e=t.toLowerCase();if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var o="#",a=1;a<4;a+=1)o+=e.slice(a,a+1).concat(e.slice(a,a+1));e=o}for(var i=[],s=1;s<7;s+=2)i.push(l()("0x"+e.slice(s,s+2)));return"rgba("+i.join(",")+","+n+")"}return e}}},u=(0,e(51900).Z)(o,function(){var o=this,a=o._self._c;return a("div",{staticClass:"ds-list"},[o._l(o.data,function(e,n){return a("div",{key:e.id||"item-".concat(n),staticClass:"ds-item"},[a("DsCard",["isRead"in e.dataValue&&!e.dataValue.isRead?a("span",{staticClass:"isStatus"}):o._e(),o._v(" "),"readStatus"in e.dataValue&&"2"!=e.dataValue.readStatus?a("span",{staticClass:"isStatus"}):o._e(),o._v(" "),e.dataValue[o.getTitle().showMetaColumn]?a("div",{class:{ellipsis:o.dsf.config.commonList&&o.dsf.config.commonList.titleEllipsis},attrs:{slot:"header"},on:{click:function(t){return o.link(e)}},slot:"header"},[a("span",{class:{"col-title":"isRead"in e.dataValue&&!e.dataValue.isRead||"readStatus"in e.dataValue&&"2"!=e.dataValue.readStatus},style:{color:o.getTitle().color||"","word-wrap":"break-word","word-break":"break-all"}},[o._v("\n                "+o._s(e.dataValue[o.getTitle().showMetaColumn]))])]):o._e(),o._v(" "),a("div",{staticClass:"content",attrs:{slot:"content"},on:{click:function(t){return o.link(e)}},slot:"content"},[o._t("item-content",function(){return[a("div",{staticClass:"flex1"},[0<o.aSubTitles.length?a("div",{staticClass:"aSubTitles"},[o._l(o.aSubTitles,function(t,n){return[o.isShowColumn(t,e)?a("div",{key:"aSubTitles-".concat(n),staticClass:"subTitle"},[t.icon?a("Icon",{class:["iconfont",t.icon]}):o._e(),o._v(" "),a("span",{staticClass:"label",style:{color:t.color}},[o._v(o._s(e.dataValue[t.showMetaColumn]))])],1):o._e()]})],2):o._e(),o._v(" "),0<o.bSubTitles.length?a("div",{staticClass:"bSubTitles"},[o._l(o.bSubTitles,function(t,n){return[o.isShowColumn(t,e)?a("div",{key:"bSubTitles-".concat(n),staticClass:"subTitle"},[t.icon?a("Icon",{class:["iconfont",t.icon]}):o._e(),o._v(" "),a("span",{class:["label","ds-elips-".concat(t.showRows||1)],style:{color:t.color}},[o._v(o._s(e.dataValue[t.showMetaColumn]))])],1):o._e()]})],2):o._e(),o._v(" "),0<o.needTitles.length?a("div",{staticClass:"needTitles"},[o._l(o.needTitles,function(t,n){return[o.isShowColumn(t,e)?a("div",{key:"needTitles-".concat(n),staticClass:"subTitle"},[a("span",{staticClass:"name label ellipsis"},[o._v(o._s(t.showName))]),o._v(" "),a("span",{staticClass:"label val elips",style:{color:t.color}},[o._v(o._s(e.dataValue[t.showMetaColumn]))])]):o._e()]})],2):o._e()]),o._v(" "),0<o.titleIcon.length?a("div",[o._l(o.titleIcon,function(t,n){return[o.isShowColumn(t,e)?a("div",{key:"titleIcon-".concat(n),staticClass:"moduleIcon",style:o.titleIconColor(e,t)},[a("span",[o._v(o._s(e.dataValue[t.showMetaColumn].substr(0,1)))])]):o._e()]})],2):o._e()]},{item:e}),o._v(" "),o._t("item-extend",null,{item:e})],2),o._v(" "),o.isShowListBtn(e)?a("div",{attrs:{slot:"footer"},slot:"footer"},[o._t("item-footer",function(){return[a("DsButtonToolbox",{attrs:{buttons:e.buttons||{},more:!0,size:"small"},on:{commonClick:function(t){o.handleCommonClick(t,e,n)},mainClick:function(t){o.handleMainClick(t,e,n)}}})]},{item:{}})],2):o._e()])],1)}),o._v(" "),o.data.length||o.$parent.loading?o._e():a("commonempty")],2)},[],!1,null,"7d9709ac",null).exports},46297:function(t,n,e){e.d(n,{Z:function(){return o}});var o=(0,e(51900).Z)({},function(t,n){return t("div",{staticClass:"ds-card"},[n._t("default"),n._v(" "),t("div",{staticClass:"tabspage"},[n.$slots.tabspageCheck?t("div",{staticClass:"tabspageCheck"},[n._t("tabspageCheck")],2):n._e(),n._v(" "),t("div",{staticStyle:{flex:"1",overflow:"hidden"}},[n.$slots.header?t("div",{staticClass:"ds-card-header"},[n._t("header")],2):n._e(),n._v(" "),n.$slots.content?t("div",{staticClass:"ds-card-content"},[n._t("content")],2):n._e()]),n._v(" "),n.$slots.rightIcon?t("div",{staticClass:"rightIcon"},[n._t("rightIcon")],2):n._e()]),n._v(" "),n.$slots.footer?t("div",{staticClass:"ds-card-footer"},[n._t("footer")],2):n._e(),n._v(" "),n.$slots.footermin?t("div",{staticClass:"ds-card-footer ds-card-footer2"},[n._t("footermin")],2):n._e()],2)},[],!0,null,"1b02e7ea",null).exports}}]);