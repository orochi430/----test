"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[39978],{5257:function(e,t,a){a.r(t);var n=a(79529),u=a.n(n),s=a(90541),i=a(25108),n={};n.initHandle=function(m,d,r){function t(e,n){var t=["出席领导","列席领导","出席部门","列席部门","出席单位","出席人员","列席人员","特邀人员","外单位人员","列席单位","工作人员"];d.controls.forEach(function(e){t.includes(e.label)&&(e.show=0)}),e&&s.Z.http.post("/fn/meetingType/getMeetingType",{meetingTypeId:e}).then(function(e){var t,a;200==e.data.code&&e.data.data&&((t=e.data.data).chdxText&&(t.chdxText+="参会人员",d.controls.forEach(function(e){t.chdxText.includes(e.label)&&(e.show=1)})),t.hyjcValue?r.formMeta.controls.find(function(e){"B0003"==e.metaId&&r.$set(e,"show",1)}):r.formMeta.controls.find(function(e){"B0003"==e.metaId&&r.$set(e,"show",0)}),n||(t.hyjcValue&&(a=t.hyjcValue,s.Z.http.post("fn/filecode/docType",{element:"qJWlST6NC5d09Tqk",targetRuleId:a,moduleId:d.parameters.moduleId,moduleName:"会议申请",flowId:d.parameters.flowId,formId:d.parameters.formId,formType:d.parameters.formType,pk:d.parameters.pk,nodeId:d.parameters.nodeId,__VALUE:d.parameters.formId,mid:d.parameters.moduleId,mId:d.parameters.moduleId}).then(function(e){var t;i.log(e.data),200==e.data.code&&e.data.data.rules&&(t=r.formMeta.controls.find(function(e){return"qJWlST6NC5d09Tqk"==e.controlId}),r.$set(t.extra.rules,0,e.data.data.rules[0]),r.$eventBus.emitRefreshFilecode(r,{}))})),e.data.data.duration&&0!=e.data.data.duration&&m&&!m.main["C-HYJY-0002"].value&&r.$set(m.main,"C-HYJY-0002",{value:o(Number(36e5*e.data.data.duration)+Number(new Date(m.main["C-HYJY-0001"].value).getTime()))}),r.$set(m.main,"C-HYJY-0023",{value:t.nonvotingLeader,text:t.nonvotingLeaderText,schema:t.nonvotingLeaderSchema}),r.$set(m.main,"C-HYJY-0022",{value:t.lxLeader,text:t.lxLeaderText,schema:t.lxLeaderSchema}),r.$set(m.main,"C-HYJY-0006",{value:t.chbm,text:t.chbmText,schema:t.chbmSchema}),r.$set(m.main,"C-HYJY-0007",{value:t.lxbm,text:t.lxbmText,schema:t.lxbmSchema}),r.$set(m.main,"C-HYJY-0025",{value:t.cxUnit,text:t.cxUnitText,schema:t.cxUnitSchema}),r.$set(m.main,"C-HYJY-0026",{value:t.lxUnit,text:t.lxUnitText,schema:t.lxUnitSchema}),r.$set(m.main,"C-HYJY-0024",{value:t.chr,text:t.chrText,schema:t.chrSchema}),r.$set(m.main,"C-HYJY-0028",{value:t.lxUser,text:t.lxUserText,schema:t.lxUserSchema}),r.$set(m.main,"C-HYJY-0027",{value:t.tyUser,text:t.tyUserText,schema:t.tyUserSchema}),r.$set(m.main,"C-HYJY-0030",{value:t.workUser,text:t.workUserText,schema:t.workUserSchema}),r.$set(m.main,"C-HYJY-0029",{value:t.wdwUser,text:t.wdwUserText,schema:t.wdwUserSchema})))})}function o(e){var t,a,n,m;return e?(t=(e=new Date(e)).getFullYear(),a=e.getMonth()+1,n=e.getDate(),m=e.getHours(),e=e.getMinutes(),t+"-"+l(a)+"-"+l(n)+" "+l(m)+":"+l(e)):""}function l(e){return e=u()(e)<10?"0"+e:e}r.$bus.on("selectDateTime",function(e){"C-HYJY-0001"==e.metaData.metaId&&s.Z.http.post("/fn/meetingType/getMeetingType",{meetingTypeId:m.main["C-HYJY-0008"].value}).then(function(e){200==e.data.code&&e.data.data&&(e.data.data,e.data.data.duration&&0!=e.data.data.duration?r.$set(m.main,"C-HYJY-0002",{value:o(Number(36e5*e.data.data.duration)+Number(new Date(m.main["C-HYJY-0001"].value).getTime()))}):r.$set(m.main,"C-HYJY-0002",{value:""}))})}),t(m.main["C-HYJY-0008"].value,1),r.$bus.on("checkVal",function(e){i.log(e),"C-HYJY-0008"==e.metaData.metaId&&t(e.value,0,e.text),"C-HYJY-0003"==e.metaData.metaId&&(e=e.value,s.Z.http.post("/fn/meetingRoom/getMeetingRoomDefaultResource",{roomId:e}).then(function(e){i.log(e),null!=e&&null!=(e=e.data)&&null!=(e=e.data)&&e.dzValue}))})},t.default=n}}]);