"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[94405],{94405:function(t,a,e){e.r(a),e.d(a,{default:function(){return s}});var i=e(25108),a={name:"banjianDetail",props:[],components:{},data:function(){return{geChuShiData:{total:0,geChuShiList:[]},anWenZhongData:{list:[{name:"全部",list:[]},{name:"收文",list:[]},{name:"发文",list:[]}]},todoMonthData:{asbjl:"",cqbjs:"",ljbjl:"",ybjzs:""},active:0,todoMonthShow:!0,geChuShiShow:!0,anWenZhongShow:!0,show:!1,minDate:new Date((new Date).getFullYear()-5,0,1),maxDate:new Date((new Date).getFullYear(),11,1),currentDate:new Date,value:moment().format("YYYY年MM月"),efficiencySelectParams:{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,range:2,fileType:0},flag:!1}},created:function(){},mounted:function(){this.getTodoMonthData()},activated:function(){},computed:{},watch:{active:function(t,a){this.efficiencySelectParams.fileType=t,this.getTodoMonthData()}},methods:{formatter:function(t,a){return"year"===t?"".concat(a,"年"):"month"===t?"".concat(a,"月"):a},confirm:function(t){this.value=moment(t).format("YYYY年MM月"),this.show=!1,this.efficiencySelectParams.year=new Date(t).getFullYear(),this.efficiencySelectParams.month=new Date(t).getMonth()+1,this.getTodoMonthData()},getTodoMonthData:function(){var n=dsf.layer.loading(),o=this;dsf.http.post("fn/efficiencySelect/processingVolumeStatistics",o.efficiencySelectParams).then(function(t){var a,e,i,s;dsf.layer.closeLoading(n),"success"===t.data.type?(a=(i=t.data.data).unitBjxq,e=i.deptAnalysis,i=i.wzAnalysis,o.todoMonthData=a,s="",o.anWenZhongData.list[o.efficiencySelectParams.fileType].list=[],i.bjsList.forEach(function(t,a){0==a&&(s=100/Number(t)),o.anWenZhongData.list[o.efficiencySelectParams.fileType].list.push({id:a+1,fraction:(Number(t)*s).toFixed(),num:t})}),i.wzList.forEach(function(t,a){o.anWenZhongData.list[o.efficiencySelectParams.fileType].list[a].name=t}),0==o.anWenZhongData.list[o.efficiencySelectParams.fileType].list.length?o.anWenZhongShow=!1:o.anWenZhongShow=!0,o.geChuShiData.total=e.deptList.length,0==o.geChuShiData.total?o.geChuShiShow=!1:o.geChuShiShow=!0,o.flag=10<e.deptList.length,o.geChuShiData.geChuShiList=[],e.deptList.forEach(function(t,a){o.geChuShiData.geChuShiList.push({id:a+1,name:t,flag:a<=9})}),e.bjsList.forEach(function(t,a){o.geChuShiData.geChuShiList[a].accelerationTimer=t}),e.bjlList.forEach(function(t,a){o.geChuShiData.geChuShiList[a].rate=t})):dsf.layer.toast(t.data.message)}).catch(function(t){dsf.layer.closeLoading(n),i.log(t)})},mroe:function(){this.flag=!1,this.geChuShiData.geChuShiList.forEach(function(t){t.flag=!0})}}},s=(0,e(51900).Z)(a,function(){var e=this,i=e._self._c;return i("div",{staticClass:"banjianDetail"},[i("div",{staticClass:"bg"},[i("header",[i("div",{staticClass:"calendar",on:{click:function(t){e.show=!0}}},[e._v("\n        "+e._s(e.value)+" "),i("span",{staticClass:"jiantou"})])]),e._v(" "),e.todoMonthShow?i("div",{staticClass:"todoMonth"},[i("div",{staticClass:"text"},[e._v("本月办件量")]),e._v(" "),i("div",{staticClass:"num"},[i("span",[e._v(e._s(e.todoMonthData.ljbjl))]),e._v(" 件\n      ")]),e._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"left"},[i("div",{staticClass:"text"},[e._v("超期办理（件）")]),e._v(" "),i("div",{staticClass:"num"},[i("span",{staticClass:"red"},[e._v(e._s(e.todoMonthData.cqbjs))]),i("span",{staticClass:"xie"},[e._v("/")]),i("span",{staticClass:"blue"},[e._v(e._s(e.todoMonthData.ybjzs))])])]),e._v(" "),i("div",{staticClass:"center"}),e._v(" "),i("div",{staticClass:"rghit"},[i("div",{staticClass:"text"},[e._v("按时办结率")]),e._v(" "),i("div",{staticClass:"num"},[e._v(e._s(e.todoMonthData.asbjl))])])])]):i("commonempty",{staticStyle:{background:"#fff","border-radius":"10px"},attrs:{description:"暂无数据"}})],1),e._v(" "),i("div",{staticClass:"geChuShi"},[e._m(0),e._v(" "),e.geChuShiShow?i("div",{staticClass:"box"},[e._m(1),e._v(" "),e._l(e.geChuShiData.geChuShiList,function(t){return[t.flag?i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"serialNumber",style:{background:t.id<4?"#0086d9":""}},[e._v("\n            "+e._s(t.id)+"\n          ")]),e._v(" "),i("div",{staticClass:"progress"},[i("div",{staticClass:"title1"},[i("div",{staticStyle:{flex:"3"}},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticStyle:{"text-align":"center",flex:"2",color:"#0091ff"}},[e._v("\n                "+e._s(t.accelerationTimer)+"\n              ")]),e._v(" "),i("div",{staticStyle:{flex:"3","text-align":"right",color:"#0091ff"}},[e._v("\n                "+e._s(t.rate)+"\n              ")])])])]):e._e()]}),e._v(" "),10<e.geChuShiData.total&&e.flag?i("div",{staticClass:"more",on:{click:e.mroe}},[e._v("\n        全部展示\n      ")]):e._e()],2):i("commonempty",{attrs:{description:"暂无数据"}})],1),e._v(" "),i("div",{staticClass:"anWenZhong"},[e._m(2),e._v(" "),i("div",{staticClass:"box"},[i("van-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.anWenZhongData.list,function(t,a){return i("van-tab",{key:a,attrs:{title:t.name}},[i("div",{staticClass:"text"},[e._v("单位：件")]),e._v(" "),e.anWenZhongShow?e._l(t.list,function(t){return i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"progress"},[i("div",{staticClass:"title"},[i("div",[e._v(e._s(t.name))]),e._v(" "),i("div",{staticStyle:{color:"#0091ff","font-weight":"bold"}},[e._v("\n                    "+e._s(t.num)+"\n                  ")])]),e._v(" "),i("van-progress",{attrs:{percentage:t.fraction,color:"#0091FF","show-pivot":!1,"stroke-width":"6"}})],1)])}):i("commonempty",{attrs:{description:"暂无数据"}})],2)}),1)],1)]),e._v(" "),i("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("van-datetime-picker",{attrs:{type:"year-month",title:"选择年月","min-date":e.minDate,"max-date":e.maxDate,formatter:e.formatter},on:{confirm:e.confirm,cancel:function(t){e.show=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)],1)},[function(){var t=this,a=t._self._c;return a("div",{staticClass:"title"},[a("div",{},[a("span",{staticClass:"blue"}),t._v(" "),a("span",{staticClass:"yellow"}),t._v(" "),a("span",{staticClass:"bold"},[t._v("各处室办件量分析")])]),t._v(" "),a("div",{staticClass:"text"},[t._v("\n        说明：按时办结率（%）=实际按时办结数量/应按时办结件数量；处室按承办人办理件数计算。\n      ")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"tabel"},[a("div",{staticStyle:{flex:"3"}},[t._v("处室名称")]),t._v(" "),a("div",{staticStyle:{flex:"2","text-align":"center"}},[t._v("承办量")]),t._v(" "),a("div",{staticStyle:{flex:"3","text-align":"right"}},[t._v("按时办结率")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"title"},[a("div",{},[a("span",{staticClass:"blue"}),t._v(" "),a("span",{staticClass:"yellow"}),t._v(" "),a("span",{staticClass:"bold"},[t._v("按文种分析办件量")])])])}],!1,null,"70d0d004",null).exports}}]);