"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[76113],{76113:function(t,e,a){a.r(e),a.d(e,{default:function(){return s}});var e={props:{list:{type:Array,default:function(){return[]}},defaultId:{type:String,default:""}},data:function(){return{default_avatar:'this.src="'+a(42370)+'"',activeId:0,activeNames:[]}},watch:{list:{deep:!0,handler:function(t){var a=this;this.activeNames=[],t.forEach(function(t,e){a.activeNames.push("item_".concat(e))})}},defaultId:{immediate:!0,handler:function(t){t&&(this.activeId=this.defaultId)}}},methods:{clickItem:function(t,e){this.activeId=t.userId,this.$emit("clickItem",t)}}},n=a(51900),e=(0,n.Z)(e,function(){var n=this,r=n._self._c;return r("div",{staticClass:"container"},[r("van-collapse",{model:{value:n.activeNames,callback:function(t){n.activeNames=t},expression:"activeNames"}},[n._l(n.list,function(t,e){return[1===t.groupType?r("van-collapse-item",{key:e,attrs:{name:"item_".concat(e),title:t.orgName}},n._l(t.users,function(e,a){return r("van-cell",{key:a,class:{active:e.userId==n.activeId},attrs:{title:e.name,value:e.zwText,center:""},on:{click:function(t){return n.clickItem(e,a)}},scopedSlots:n._u([{key:"icon",fn:function(){return[r("img",{staticClass:"avatar",attrs:{src:n.dsf.url.getWebPath(e.img),onerror:n.default_avatar,alt:""}})]},proxy:!0}],null,!0)})}),1):r("div",{key:e},n._l(t.users,function(e,a){return r("van-cell",{key:a,class:{active:e.userId==n.activeId},attrs:{title:e.name,value:e.zwText,center:""},on:{click:function(t){return n.clickItem(e,a)}},scopedSlots:n._u([{key:"icon",fn:function(){return[r("img",{staticClass:"avatar",attrs:{src:n.dsf.url.getWebPath(e.img),onerror:n.default_avatar,alt:""}})]},proxy:!0}],null,!0)})}),1)]})],2)],1)},[],!1,null,"810a27dc",null).exports,r=a(25108),s=(0,n.Z)({name:"contacts",components:{nameList:e},data:function(){return{default_avatar:'this.src="'+a(42370)+'"',nameList:[],currentOrg:{},currentUser:{},keyword:"",meeting:dsf.util.loadSessionStore("meeting"),defaultId:""}},created:function(){this.getData()},mounted:function(){},methods:{showDetail:function(t){this.currentUser=t},onSearch:function(){this.getData()},getData:function(){var e=this;dsf.http.post("fn/conferenceMobile/contactDetails",{meetingId:this.meeting.id,type:0,query_key:this.keyword}).done(function(t){200==t.code&&0<t.data.length&&(e.nameList=t.data,0<e.nameList.length)&&(e.currentOrg=e.nameList[0],0<e.nameList[0].users.length)&&(e.currentUser=e.nameList[0].users[0],e.defaultId=e.nameList[0].users[0].userId)}).error(function(t){r.log("error",t)}).always(function(){})}}},function(){var e=this,t=e._self._c;return t("div",{staticClass:"contacts-container"},[t("div",{staticClass:"top"},[t("van-cell",{attrs:{title:"参会名单",icon:"arrow-left",center:""},on:{click:function(t){return e.$router.back()}}})],1),e._v(" "),t("div",{staticClass:"content"},[t("div",{staticClass:"left"},[t("van-search",{attrs:{placeholder:"请输入姓名查找",center:""},on:{search:e.onSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),t("nameList",{staticClass:"content",attrs:{list:e.nameList,"default-id":e.defaultId},on:{clickItem:e.showDetail}})],1),e._v(" "),t("div",{staticClass:"right"},[t("div",{staticClass:"title"},[e._v("个人信息")]),e._v(" "),t("div",{staticClass:"content"},[t("div",{staticClass:"top"},[t("img",{attrs:{src:e.dsf.url.getWebPath(e.currentUser.img),onerror:e.default_avatar,alt:""}}),e._v(" "),t("div",{staticClass:"name"},[e._v(e._s(e.currentUser.name))])]),e._v(" "),t("van-cell",{attrs:{value:"0"!=e.currentUser.sex?"1"==e.currentUser.sex?"男":"女":"未知",title:"性别",center:""}}),e._v(" "),t("van-cell",{attrs:{value:e.currentUser.orgName,title:"部门",center:""}}),e._v(" "),t("van-cell",{attrs:{value:e.currentUser.telephone,title:"手机号码",center:""}}),e._v(" "),t("van-cell",{attrs:{value:e.currentUser.zwText,title:"参会身份",center:""}})],1)])])])},[],!1,null,null,null).exports},42370:function(t,e,a){t.exports=a.p+"static/img/avatar.2072ed9..png"}}]);