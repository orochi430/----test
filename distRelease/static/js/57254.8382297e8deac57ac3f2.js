"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[57254],{57254:function(n,e,t){t.r(e),t.d(e,{default:function(){return a}});var e=t(8450),i=t.n(e),s=t(88561),e={data:function(){return{currentDate:"",text:"点击签到",meetingInfo:s.Z.loadSessionStore("meeting"),signInData:{},timer:null}},created:function(){var n=this;clearInterval(this.timer),this.timer=setInterval(function(){n.currentDate=dsf.date.format(new Date,"hh:ii:ss")},1e3),this.getSignInDetailsCurrentUser()},destroyed:function(){clearInterval(this.timer)},methods:{getSignInDetailsCurrentUser:function(){var e=this;dsf.http.post("fn/conferenceSignIn/getUserCurrentSignInDetail",{meetingId:this.meetingInfo.id}).done(function(n){200==n.code&&(n=n.data,"{}"==i()(n)?(e.signInData.signValue="",e.text="暂无签到"):"-1"!=(e.signInData=n).signValue?e.text=n.signText:e.text="点击签到")})},scan:function(){var e=this;"-1"==this.signInData.signValue&&dsf.http.post("fn/conferenceSignIn/doSign",{meetingId:this.meetingInfo.id,scheduleId:this.signInData.scheduleId}).done(function(n){e.$toast.success(n.message),e.getSignInDetailsCurrentUser()})}}},a=(0,t(51900).Z)(e,function(){var n=this,e=n._self._c;return e("div",[e("div",{staticClass:"signIn",class:{notSignIn:"-1"!=n.signInData.signValue},on:{click:n.scan}},[e("span",[n._v(n._s(n.text))]),n._v(" "),e("span",[n._v(n._s(n.currentDate))])]),n._v(" "),e("div",{staticClass:"signTime"},[e("ul",[e("li",{directives:[{name:"show",rawName:"v-show",value:n.signInData.time,expression:"signInData.time"}]},[e("span",[n._v("可签到时间:")]),n._v(" "),e("b",[n._v(n._s(n.signInData.time))])]),n._v(" "),e("li",{directives:[{name:"show",rawName:"v-show",value:n.signInData.signtime,expression:"signInData.signtime"}]},[e("span",[n._v("已签到时间:")]),n._v(" "),e("b",[n._v(n._s(n.signInData.signtime))])])])])])},[],!1,null,"3d082335",null).exports}}]);