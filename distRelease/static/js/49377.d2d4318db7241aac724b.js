"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[49377],{41775:function(t,a,s){s.d(a,{Z:function(){return d}});s(23307);var a=s(81392),i=s(26243),e=s.n(i),i=s(79529),l=s.n(i),i=s(46297),n=s(84628),o=s(50856),c=s(25108),i={components:{DsCard:i.Z,DsButtonGroup:n.Z,DsButtonToolbox:o.Z,Icon:a.Z},props:{tabObj:{type:Object},data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},type:{type:String},keyColumn:{type:String},formMethod:{type:String},isHiddenBtn:{type:Boolean,default:function(){}}},data:function(){return{}},created:function(){},computed:{aSubTitles:function(){return c.log(this.columns.filter(function(t){return/^subTitle\w?$/i.test(t.showCategory)})),this.columns.filter(function(t){return/^subTitle\w?$/i.test(t.showCategory)})},bSubTitles:function(){return this.columns.filter(function(t){return/^content$/i.test(t.showCategory)})},needTitles:function(){return this.columns.filter(function(t){return/^needTitle\w?$/i.test(t.showCategory)})},titleIcon:function(){return this.columns.filter(function(t){return/^titleIcon\w?$/i.test(t.showCategory)})}},mounted:function(){c.log(this.bSubTitles)},methods:{isShowColumn:function(t,a){return a.dataValue[t.showMetaColumn]||0===a.dataValue[t.showMetaColumn]},isShowListBtn:function(t){var a=null==this.isHiddenBtn,s=!1,s=!(!t.buttons||!(t.buttons.commonButtons&&0<t.buttons.commonButtons.length||t.buttons.mainButtons&&0<t.buttons.mainButtons.length));return a&&s},link:function(t){var a,s,i,e;t.dataValue.allowMobile&&1!=t.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):("isRead"in t.dataValue&&!t.dataValue.isRead&&(t.dataValue.isRead=!0),a=(t=t.dataValue)[this.keyColumn]||t.info_id||t.id||t.A0001||t.fid||t["SW_XZD.A0001"],s=this.keyColumn?this.keyColumn.split(".")[0]+".A0004":"",s=t.moduleId||t.A0004||t["SW_XZD.A0004"]||t[s],"db"==this.type&&(s=t.masterModuleId||t.moduleId||t.A0004),e=t.masterId||"",s=s+"/"+a,i={},"gw"==this.type&&(s+="/1",i.todoId=t.todoId),this.type&&(s+="?type=".concat(this.type)),"SigninList"==this.$route.name&&(s+="?&listId=1903161124289nXBk8iVSmTMGYxn9bi&exchangeList=signedList"),"db"==this.type&&(e&&(s+="&masterId=".concat(e)),c.log(this.formMethod),this.formMethod)&&(s+="&formMethod=info"),"dy"==this.type&&(s+="&distribId=".concat(t.distribId),dsf.http.post("fn/mobileToRead/markRead",{pks:t.distribId}).then(function(t){c.log(t)})),this.tabObj&&this.tabObj.targetUrl?(e=this.tabObj.targetUrl.replace("[pk]",a),this.$router.push({path:e})):this.$router.push({path:"/commonForm/"+s,query:i}))},getTitle:function(){return this.columns.find(function(t){return"mainTitle"===t.showCategory})||{}},handleCommonClick:function(t,a,s){a.dataValue.allowMobile&&1!=a.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):this.$emit("commonClick",t,a,s)},handleMainClick:function(t,a,s){a.dataValue.allowMobile&&1!=a.dataValue.allowMobile?dsf.layer.toast("该文件只能在电脑端处理"):this.$emit("mainClick",t,a,s)},titleIconColor:function(t,a){t=t.dataValue[a.showMetaColumn].substr(0,1);return dsf.config.listTitleIcon&&-1<e()(dsf.config.listTitleIcon).indexOf(t)?(a=dsf.config.listTitleIcon[t],{backgroundColor:this.colorRgba(a,.12),color:a,borderColor:a}):""},colorRgba:function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,s=t.toLowerCase();if(s&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(s)){if(4===s.length){for(var i="#",e=1;e<4;e+=1)i+=s.slice(e,e+1).concat(s.slice(e,e+1));s=i}for(var n=[],o=1;o<7;o+=2)n.push(l()("0x"+s.slice(o,o+2)));return"rgba("+n.join(",")+","+a+")"}return s}}},d=(0,s(51900).Z)(i,function(){var i=this,e=i._self._c;return e("div",{staticClass:"ds-list"},[i._l(i.data,function(s,a){return e("div",{key:s.id||"item-".concat(a),staticClass:"ds-item"},[e("DsCard",["isRead"in s.dataValue&&!s.dataValue.isRead?e("span",{staticClass:"isStatus"}):i._e(),i._v(" "),"readStatus"in s.dataValue&&"2"!=s.dataValue.readStatus?e("span",{staticClass:"isStatus"}):i._e(),i._v(" "),s.dataValue[i.getTitle().showMetaColumn]?e("div",{class:{ellipsis:i.dsf.config.commonList&&i.dsf.config.commonList.titleEllipsis},attrs:{slot:"header"},on:{click:function(t){return i.link(s)}},slot:"header"},[e("span",{class:{"col-title":"isRead"in s.dataValue&&!s.dataValue.isRead||"readStatus"in s.dataValue&&"2"!=s.dataValue.readStatus},style:{color:i.getTitle().color||"","word-wrap":"break-word","word-break":"break-all"}},[i._v("\n                "+i._s(s.dataValue[i.getTitle().showMetaColumn]))])]):i._e(),i._v(" "),e("div",{staticClass:"content",attrs:{slot:"content"},on:{click:function(t){return i.link(s)}},slot:"content"},[i._t("item-content",function(){return[e("div",{staticClass:"flex1"},[0<i.aSubTitles.length?e("div",{staticClass:"aSubTitles"},[i._l(i.aSubTitles,function(t,a){return[i.isShowColumn(t,s)?e("div",{key:"aSubTitles-".concat(a),staticClass:"subTitle"},[t.icon?e("Icon",{class:["iconfont",t.icon]}):i._e(),i._v(" "),e("span",{staticClass:"label",style:{color:t.color}},[i._v(i._s(s.dataValue[t.showMetaColumn]))])],1):i._e()]})],2):i._e(),i._v(" "),0<i.bSubTitles.length?e("div",{staticClass:"bSubTitles"},[i._l(i.bSubTitles,function(t,a){return[i.isShowColumn(t,s)?e("div",{key:"bSubTitles-".concat(a),staticClass:"subTitle"},[t.icon?e("Icon",{class:["iconfont",t.icon]}):i._e(),i._v(" "),e("span",{class:["label","ds-elips-".concat(t.showRows||1)],style:{color:t.color}},[i._v(i._s(s.dataValue[t.showMetaColumn]))])],1):i._e()]})],2):i._e(),i._v(" "),0<i.needTitles.length?e("div",{staticClass:"needTitles"},[i._l(i.needTitles,function(t,a){return[i.isShowColumn(t,s)?e("div",{key:"needTitles-".concat(a),staticClass:"subTitle"},[e("span",{staticClass:"name label ellipsis"},[i._v(i._s(t.showName))]),i._v(" "),e("span",{staticClass:"label val elips",style:{color:t.color}},[i._v(i._s(s.dataValue[t.showMetaColumn]))])]):i._e()]})],2):i._e()]),i._v(" "),0<i.titleIcon.length?e("div",[i._l(i.titleIcon,function(t,a){return[i.isShowColumn(t,s)?e("div",{key:"titleIcon-".concat(a),staticClass:"moduleIcon",style:i.titleIconColor(s,t)},[e("span",[i._v(i._s(s.dataValue[t.showMetaColumn].substr(0,1)))])]):i._e()]})],2):i._e()]},{item:s}),i._v(" "),i._t("item-extend",null,{item:s})],2),i._v(" "),i.isShowListBtn(s)?e("div",{attrs:{slot:"footer"},slot:"footer"},[i._t("item-footer",function(){return[e("DsButtonToolbox",{attrs:{buttons:s.buttons||{},more:!0,size:"small"},on:{commonClick:function(t){i.handleCommonClick(t,s,a)},mainClick:function(t){i.handleMainClick(t,s,a)}}})]},{item:{}})],2):i._e()])],1)}),i._v(" "),i.data.length||i.$parent.loading?i._e():e("commonempty")],2)},[],!1,null,"7d9709ac",null).exports},46297:function(t,a,s){s.d(a,{Z:function(){return i}});var i=(0,s(51900).Z)({},function(t,a){return t("div",{staticClass:"ds-card"},[a._t("default"),a._v(" "),t("div",{staticClass:"tabspage"},[a.$slots.tabspageCheck?t("div",{staticClass:"tabspageCheck"},[a._t("tabspageCheck")],2):a._e(),a._v(" "),t("div",{staticStyle:{flex:"1",overflow:"hidden"}},[a.$slots.header?t("div",{staticClass:"ds-card-header"},[a._t("header")],2):a._e(),a._v(" "),a.$slots.content?t("div",{staticClass:"ds-card-content"},[a._t("content")],2):a._e()]),a._v(" "),a.$slots.rightIcon?t("div",{staticClass:"rightIcon"},[a._t("rightIcon")],2):a._e()]),a._v(" "),a.$slots.footer?t("div",{staticClass:"ds-card-footer"},[a._t("footer")],2):a._e(),a._v(" "),a.$slots.footermin?t("div",{staticClass:"ds-card-footer ds-card-footer2"},[a._t("footermin")],2):a._e()],2)},[],!0,null,"1b02e7ea",null).exports},49377:function(t,a,s){s.r(a),s.d(a,{default:function(){return o}});var a=s(41775),i=s(84628),e=s(50856),n=s(25108),e={name:"DocumentExchange",components:{DsfButtonToolbox:e.Z,DsList:a.Z,DsButtonGroup:i.Z},data:function(){return{active:0,leftButtons:[{icon:"iconsousuo",name:"dataview",text:"搜素筛选"},{icon:"iconpiliangchuli",name:"batchaction",text:"批量处理"}],rightButtons:[{name:"create",type:"primary",text:"我要新建"}]}},methods:{back:function(){this.$router.back()},handleLeftClick:function(t){n.log(t)},handleRightClick:function(t){n.log(t)}}},o=(0,s(51900).Z)(e,function(){var a=this,s=a._self._c;return s("div",{staticClass:"ds-document-exchange"},[s("van-nav-bar",{attrs:{fixed:"",title:"公文交换","left-arrow":""},on:{"click-left":a.back}}),a._v(" "),a._m(0),a._v(" "),s("van-tabs",{attrs:{animated:""},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},[s("van-tab",{attrs:{title:"收文"}},[s("ds-list",{attrs:{data:[{},{},{},{}]},scopedSlots:a._u([{key:"item-content",fn:function(t){return[s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconwenjianleixing"}),s("span",{staticClass:"label"},[a._v("文件类型")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconshijian"}),s("span",{staticClass:"label"},[a._v("2020-05-16")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconriqi"}),s("span",{staticClass:"label"},[a._v("4天")])])]),a._v(" "),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconwenhao"}),s("span",{staticClass:"label"},[a._v("文号")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconcompany"}),s("span",{staticClass:"label"},[a._v("办公室 张三")])]),a._v(" "),s("div",{staticClass:"col-it",staticStyle:{width:"20%"}})])]}},{key:"item-footer",fn:function(t){return[s("div",{staticClass:"item-bottom"},[s("div",{staticClass:"bot-l"},[s("DsButtonGroup",{attrs:{data:[{size:20,icon:"icondayin1",text:"打印"},{size:20,icon:"iconguanzhu",text:"关注"},{size:20,icon:"iconzhiding",text:"置顶"}],justify:"flex-end"}})],1),a._v(" "),s("div",{staticClass:"bot-r"},[s("van-button",{attrs:{type:"default"}},[a._v("拒签")]),a._v(" "),s("van-button",{attrs:{type:"primary"}},[a._v("签收")])],1)])]}}])})],1),a._v(" "),s("van-tab",{attrs:{title:"发文"}},[s("ds-list",{attrs:{data:[{},{}]},scopedSlots:a._u([{key:"item-content",fn:function(t){return[s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconwenjianleixing"}),s("span",{staticClass:"label"},[a._v("文件类型")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconshijian"}),s("span",{staticClass:"label"},[a._v("2020-05-16")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconriqi"}),s("span",{staticClass:"label"},[a._v("4天")])])]),a._v(" "),s("div",{staticClass:"col-3"},[s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconwenhao"}),s("span",{staticClass:"label"},[a._v("文号")])]),a._v(" "),s("div",{staticClass:"col-it"},[s("a",{staticClass:"iconfont iconcompany"}),s("span",{staticClass:"label"},[a._v("办公室 张三")])]),a._v(" "),s("div",{staticClass:"col-it",staticStyle:{width:"20%"}})])]}},{key:"item-footer",fn:function(t){return[s("div",{staticClass:"item-bottom"},[s("div",{staticClass:"bot-l"},[s("DsButtonGroup",{attrs:{data:[{size:20,icon:"icondayin1",text:"打印"},{size:20,icon:"iconguanzhu",text:"关注"},{size:20,icon:"iconzhiding",text:"置顶"}],justify:"flex-end"}})],1),a._v(" "),s("div",{staticClass:"bot-r"},[s("van-button",{attrs:{type:"default"}},[a._v("拒签")]),a._v(" "),s("van-button",{attrs:{type:"primary"}},[a._v("签收")])],1)])]}}])})],1)],1),a._v(" "),s("div",{staticClass:"__footer"},[s("dsf-button-toolbox",{attrs:{left:a.leftButtons,right:a.rightButtons,single:""},on:{leftClick:a.handleLeftClick,rightClick:a.handleRightClick}})],1)],1)},[function(){var t=this,a=t._self._c;return a("div",{staticClass:"__meeting-room"},[a("div",{staticClass:"__data"},[a("div",{staticClass:"__data-item"},[a("div",{staticClass:"__data-item-num",staticStyle:{color:"#0089FF"}},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("收文")])]),t._v(" "),a("div",{staticClass:"__data-item"},[a("div",{staticClass:"__data-item-num",staticStyle:{color:"#67C23B"}},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("发文")])]),t._v(" "),a("div",{staticClass:"__data-item"},[a("div",{staticClass:"__data-item-num",staticStyle:{color:"#E6A23C"}},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("已签收")])]),t._v(" "),a("div",{staticClass:"__data-item",staticStyle:{color:"#67C23B"}},[a("div",{staticClass:"__data-item-num"},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("拒收")])]),t._v(" "),a("div",{staticClass:"__data-item"},[a("div",{staticClass:"__data-item-num"},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("已回执")])]),t._v(" "),a("div",{staticClass:"__data-item",staticStyle:{color:"#F66C6C"}},[a("div",{staticClass:"__data-item-num"},[t._v("10")]),t._v(" "),a("div",{staticClass:"__data-item-name"},[t._v("已超期")])])])])}],!1,null,null,null).exports}}]);