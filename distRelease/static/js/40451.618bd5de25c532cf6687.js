(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[40451],{40451:function(e,t,r){var a=r(70492),i=r(33051),o=r(79093),n=o.layout,o=o.largeLayout;r(77532),r(90791),r(33207),r(84617),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,i.curry(n,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,o),a.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},90791:function(e,t,r){r=r(489).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return e=e<t?t:e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});e.exports=r},33207:function(e,t,r){r(38175).__DEV__;var a=r(70492),u=r(33051),I=r(51177),c=r(7905).setLabel,i=r(4272),o=r(98378),n=r(10712),S=r(8524),s=r(270).throttle,l=r(22963).createClipPath,h=r(39529),d=["itemStyle","barBorderWidth"],f=[0,0];u.extend(i.prototype,o);var r=a.extendChartView({type:"bar",render:function(e,t,r){this._updateDrawMode(e);var a=e.get("coordinateSystem");return"cartesian2d"!==a&&"polar"!==a||(this._isLargeDraw?this._renderLarge(e,t,r):this._renderNormal(e,t,r)),this.group},incrementalPrepareRender:function(e,t,r){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,r,a){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){e=e.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(n,e,t){function s(e){var t=k[u.type](d,e),r=(r=l,new("polar"===u.type?I.Sector:I.Rect)({shape:B(r,t,u),silent:!0,z2:0}));return r.useStyle(_.getBarItemStyle()),"cartesian2d"===u.type&&r.setShape("r",b),v[e]=r}var l,r,a,h=this.group,d=n.getData(),g=this._data,u=n.coordinateSystem,i=u.getBaseAxis(),c=("cartesian2d"===u.type?l=i.isHorizontal():"polar"===u.type&&(l="angle"===i.dim),n.isAnimationEnabled()?n:null),p=n.get("clip",!0),y=(i=d,a=(r=u).getArea&&r.getArea(),"cartesian2d"!==r.type||"category"===(r=r.getBaseAxis()).type&&r.onBand||(i=i.getLayout("bandWidth"),r.isHorizontal()?(a.x-=i,a.width+=2*i):(a.y-=i,a.height+=2*i)),a),f=(h.removeClipPath(),n.get("roundCap",!0)),m=n.get("showBackground",!0),_=n.getModel("backgroundStyle"),b=_.get("barBorderRadius")||0,v=[],x=this._backgroundEls||[],o=(d.diff(g).add(function(e){var t=d.getItemModel(e),r=k[u.type](d,e,t);if(m&&s(e),d.hasValue(e)){if(p)if(A[u.type](y,r))return void h.remove(a);var a=L[u.type](e,r,l,c,!1,f);d.setItemGraphicEl(e,a),h.add(a),D(a,d,e,t,r,n,l,"polar"===u.type)}}).update(function(e,t){var r,a=d.getItemModel(e),i=k[u.type](d,e,a),o=(m&&(0===x.length?o=s(t):((o=x[t]).useStyle(_.getBarItemStyle()),"cartesian2d"===u.type&&o.setShape("r",b),v[e]=o),r=k[u.type](d,e),r=B(l,r,u),I.updateProps(o,{shape:r},c,e)),g.getItemGraphicEl(t));if(d.hasValue(e)){if(p)if(A[u.type](y,i))return void h.remove(o);o?I.updateProps(o,{shape:i},c,e):o=L[u.type](e,i,l,c,!0,f),d.setItemGraphicEl(e,o),h.add(o),D(o,d,e,a,i,n,l,"polar"===u.type)}else h.remove(o)}).remove(function(e){var t=g.getItemGraphicEl(e);"cartesian2d"===u.type?t&&P(e,c,t):t&&M(e,c,t)}).execute(),this._backgroundGroup||(this._backgroundGroup=new S));o.removeAll();for(var w=0;w<v.length;++w)o.add(v[w]);h.add(o),this._backgroundEls=v,this._data=d},_renderLarge:function(e,t,r){this._clear(),_(e,this.group);e=e.get("clip",!0)?l(e.coordinateSystem,!1,e):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),_(t,this.group,!0)},dispose:u.noop,remove:function(e){this._clear(e)},_clear:function(t){var e=this.group,r=this._data;t&&t.get("animation")&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(e){("sector"===e.type?M:P)(e.dataIndex,t,e)})):e.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),g=Math.max,p=Math.min,A={cartesian2d:function(e,t){var r=t.width<0?-1:1,a=t.height<0?-1:1,i=(r<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),g(t.x,e.x)),o=p(t.x+t.width,e.x+e.width),n=g(t.y,e.y),e=p(t.y+t.height,e.y+e.height),o=(t.x=i,t.y=n,t.width=o-i,t.height=e-n,t.width<0||t.height<0);return r<0&&(t.x+=t.width,t.width=-t.width),a<0&&(t.y+=t.height,t.height=-t.height),o},polar:function(e,t){var r=t.r0<=t.r?1:-1,a=(r<0&&(a=t.r,t.r=t.r0,t.r0=a),p(t.r,e.r)),e=g(t.r0,e.r0),e=(t.r=a)-(t.r0=e)<0;return r<0&&(a=t.r,t.r=t.r0,t.r0=a),e}},L={cartesian2d:function(e,t,r,a,i){var o,n=new I.Rect({shape:u.extend({},t),z2:1});return n.name="item",a&&(o={},n.shape[r=r?"height":"width"]=0,o[r]=t[r],I[i?"updateProps":"initProps"](n,{shape:o},a,e)),n},polar:function(e,t,r,a,i,o){var n,s=t.startAngle<t.endAngle,o=new(!r&&o?h:I.Sector)({shape:u.defaults({clockwise:s},t),z2:1});return o.name="item",a&&(s={},o.shape[n=r?"r":"endAngle"]=r?0:t.startAngle,s[n]=t[n],I[i?"updateProps":"initProps"](o,{shape:s},a,e)),o}};function P(e,t,r){r.style.text=null,I.updateProps(r,{shape:{width:0}},t,e,function(){r.parent&&r.parent.remove(r)})}function M(e,t,r){r.style.text=null,I.updateProps(r,{shape:{r:r.shape.r0}},t,e,function(){r.parent&&r.parent.remove(r)})}var k={cartesian2d:function(e,t,r){var e=e.getItemLayout(t),r=r?(t=e,r=(r=r).get(d)||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),t=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height),Math.min(r,a,t)):0,a=0<e.width?1:-1,t=0<e.height?1:-1;return{x:e.x+a*r/2,y:e.y+t*r/2,width:e.width-a*r,height:e.height-t*r}},polar:function(e,t,r){e=e.getItemLayout(t);return{cx:e.cx,cy:e.cy,r0:e.r0,r:e.r,startAngle:e.startAngle,endAngle:e.endAngle}}};function y(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function D(e,t,r,a,i,o,n,s){var l=t.getItemVisual(r,"color"),h=t.getItemVisual(r,"opacity"),t=t.getVisual("borderColor"),d=a.getModel("itemStyle"),g=a.getModel("emphasis.itemStyle").getBarItemStyle(),t=(s||e.setShape("r",d.get("barBorderRadius")||0),e.useStyle(u.defaults({stroke:y(i)?"none":t,fill:y(i)?"none":l,opacity:h},d.getBarItemStyle())),a.getShallow("cursor")),h=(t&&e.attr("cursor",t),n?0<i.height?"bottom":"top":0<i.width?"left":"right");s||c(e.style,g,a,l,o,r,h),y(i)&&(g.fill=g.stroke="none"),I.setHoverStyle(e,g)}var m=n.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var r=t.points,a=this.__startPoint,i=this.__baseDimIdx,o=0;o<r.length;o+=2)a[i]=r[o+i],e.moveTo(a[0],a[1]),e.lineTo(r[o],r[o+1])}});function _(e,t,r){var a,i,o,n,s=e.getData(),l=[],h=s.getLayout("valueAxisHorizontal")?1:0,d=(l[1-h]=s.getLayout("valueAxisStart"),s.getLayout("largeDataIndices")),g=s.getLayout("barWidth"),u=e.getModel("backgroundStyle"),u=(e.get("showBackground",!0)&&(n=s.getLayout("largeBackgroundPoints"),(i=[])[1-h]=s.getLayout("backgroundStart"),n=new m({shape:{points:n},incremental:!!r,__startPoint:i,__baseDimIdx:h,__largeDataIndices:d,__barWidth:g,silent:!0,z2:0}),i=n,o=s,a=(u=u).get("borderColor")||u.get("color"),u=u.getItemStyle(["color","borderColor"]),i.useStyle(u),i.style.fill=null,i.style.stroke=a,i.style.lineWidth=o.getLayout("barWidth"),t.add(n)),new m({shape:{points:s.getLayout("largePoints")},incremental:!!r,__startPoint:l,__baseDimIdx:h,__largeDataIndices:d,__barWidth:g}));t.add(u),a=u,i=e,n=(o=s).getVisual("borderColor")||o.getVisual("color"),i=i.getModel("itemStyle").getItemStyle(["color","borderColor"]),a.useStyle(i),a.style.fill=null,a.style.stroke=n,a.style.lineWidth=o.getLayout("barWidth"),u.seriesIndex=e.seriesIndex,e.get("silent")||(u.on("mousedown",b),u.on("mousemove",b))}var b=s(function(e){e=function(e,t,r){for(var a=e.__baseDimIdx,i=1-a,o=e.shape.points,n=e.__largeDataIndices,s=Math.abs(e.__barWidth/2),l=e.__startPoint[i],e=(f[0]=t,f[1]=r,f[a]),h=f[1-a],d=e-s,g=e+s,u=0,c=o.length/2;u<c;u++){var p=2*u,y=o[p+a],p=o[p+i];if(d<=y&&y<=g&&(l<=p?l<=h&&h<=p:p<=h&&h<=l))return n[u]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=0<=e?e:null},30,!1);function B(e,t,r){var a="polar"===r.type,r=a?r.getArea():r.grid.getRect();return a?{cx:r.cx,cy:r.cy,r0:(e?r:t).r0,r:(e?r:t).r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:(e?t:r).x,y:(e?r:t).y,width:(e?t:r).width,height:(e?r:t).height}}e.exports=r},489:function(e,t,r){var a=r(93321),i=r(40488),r=a.extend({type:"series.__base_bar__",getInitialData:function(e,t){return i(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t,r,a=this.coordinateSystem;return a?(e=a.dataToPoint(a.clampData(e)),t=(r=this.getData()).getLayout("offset"),r=r.getLayout("size"),e[a.getBaseAxis().isHorizontal()?0:1]+=t+r/2,e):[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=r},98378:function(e,t,r){var a=r(59066)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getBarItemStyle:function(e){var t,e=a(this,e);return this.getBorderLineDash&&(t=this.getBorderLineDash())&&(e.lineDash=t),e}}},7905:function(e,t,r){var l=r(51177),h=r(33140).getDefaultLabel;function d(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=function(e,t,r,a,i,o,n){var s=r.getModel("label"),r=r.getModel("emphasis.label");l.setLabelStyle(e,t,s,r,{labelFetcher:i,labelDataIndex:o,defaultText:h(i.getData(),o),isRectText:!0,autoColor:a}),d(e),d(t)}},39529:function(e,t,r){r=(0,r(51177).extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),n=.5*(o-i),s=i+n,l=t.startAngle,h=t.endAngle,t=t.clockwise,d=Math.cos(l),g=Math.sin(l),u=Math.cos(h),c=Math.sin(h);(t?h-l<2*Math.PI:l-h<2*Math.PI)&&(e.moveTo(d*i+r,g*i+a),e.arc(d*s+r,g*s+a,n,-Math.PI+l,l,!t)),e.arc(r,a,o,l,h,!t),e.moveTo(u*o+r,c*o+a),e.arc(u*s+r,c*s+a,n,h-2*Math.PI,h-Math.PI,!t),0!==i&&(e.arc(r,a,i,h,l,t),e.moveTo(d*i+r,c*i+a)),e.closePath()}});e.exports=r}}]);