"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[13293],{13293:function(t,e,o){o.r(e),o.d(e,{default:function(){return n}});var e={name:"mobileNotice",props:{},components:{},data:function(){return{isShow:!0,noticeContent:[],mobile:dsf.util.loadSessionStore("user").mobile,multiply:dsf.util.loadLocalStore("multiple")||dsf.config.login.fontSizeMultiple}},computed:{},watch:{},methods:{judgeStyle:function(){this.multiple=dsf.util.loadLocalStore("multiple")||dsf.config.login.fontSizeMultiple,this.multiple<=5?this.isShow=!0:this.isShow=!1},noticeList:function(){var e=this;dsf.http.get("fn/proxyRequest/forwardResource?proxyPageId=230923105225VWEmb6JoFZcjmKK774t&proxyComponentInterfaceKey=mobileNotice&proxyComponentName=ZhzgMobileNoticeComponents",{"x-auth-token":dsf.util.loadSessionStore("loginToken")}).then(function(t){e.noticeContent=t.data.datas})},goForm:function(){var t="".concat(dsf.config.login.oaRootPath,"/fn/mobileSso/redirectAuth?code=").concat(this.mobile,"&state=L2NvbW1vbkxpc3QvMTgwODA2MTYwODA1Mmd3ZzZ3V0dzTmRpWHIxeU9DeC8xODA4MDUxNzU2MjhSSzdpeEkxSXlyakR1RzRuakQ1P2lzUHJldmlldz0x&field=mobile");dsf.util.openWebviewToUrl({url:t,title:"通知公告"})},toDetailForm:function(t){var e="/commonForm/".concat(t.moduleId,"/").concat(t.info_id,"?method=").concat(t.method,"&listId=").concat(t.listId),e="".concat(dsf.config.login.oaRootPath,"/fn/mobileSso/redirectAuth?code=").concat(this.mobile,"&state=").concat(dsf.base64.encode(e),"&field=mobile");dsf.util.openWebviewToUrl({url:e,title:t.moduleName})}},created:function(){this.noticeList()},activated:function(){this.judgeStyle(),this.noticeList()},mounted:function(){this.judgeStyle()},beforeDestroy:function(){}},n=(0,o(51900).Z)(e,function(){var o=this,n=o._self._c;return n("div",[o.isShow?n("div",{staticClass:"notice"},[o._m(0),o._v(" "),n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!o.noticeContent.length,expression:"!noticeContent.length"}],staticClass:"cont"},[o._v("\n        暂无数据\n      ")]),o._v(" "),n("van-swipe",{directives:[{name:"show",rawName:"v-show",value:o.noticeContent.length,expression:"noticeContent.length"}],attrs:{vertical:"","show-indicators":!1,loop:!0,autoplay:"3000",touchable:!1,height:30}},o._l(o.noticeContent,function(e,t){return n("van-swipe-item",{key:t,staticClass:"ellipsis",on:{click:function(t){return o.toDetailForm(e.dataValue)}}},[n("div",{staticClass:"cont",staticStyle:{"line-height":"0.44rem"}},[o._v(o._s(e.dataValue.itemsContent))])])}),1),o._v(" "),n("div",{staticClass:"more",on:{click:o.goForm}},[n("img",{attrs:{src:"static/images/project/zhenhuaIndustry/more.png",alt:""}})])],1)]):n("div",{staticClass:"oldnotice"},[o._m(1),o._v(" "),n("div",{staticClass:"content"},[n("van-swipe",{directives:[{name:"show",rawName:"v-show",value:o.noticeContent.length,expression:"noticeContent.length"}],attrs:{vertical:"","show-indicators":!1,loop:!0,autoplay:"3000",touchable:!1,height:24}},o._l(o.noticeContent,function(e,t){return n("van-swipe-item",{key:t,staticClass:"ellipsis",on:{click:function(t){return o.toDetailForm(e.dataValue)}}},[n("div",{staticStyle:{"line-height":"0.44rem"}},[o._v(o._s(e.dataValue.itemsContent))])])}),1),o._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==o.noticeContent.length,expression:"noticeContent.length == 0"}],staticClass:"cont"},[o._v("\n        暂无数据\n      ")])],1),o._v(" "),2<o.noticeContent.length?n("div",{staticClass:"more",on:{click:o.goForm}},[o._v("\n      查看更多"),n("span",{staticClass:"icon iconfont",staticStyle:{"font-size":"12px"}},[o._v("")])]):o._e()])])},[function(){var t=this._self._c;return t("div",{staticClass:"title"},[t("span",[this._v("公告")])])},function(){var t=this._self._c;return t("div",{staticClass:"title"},[t("span",[this._v("公告")])])}],!1,null,"1ed098c4",null).exports}}]);