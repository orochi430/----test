"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[37356],{38728:function(t,e,n){n.d(e,{Z:function(){return i}});var e={props:{news:{type:Object,default:function(){}}},data:function(){return{}},methods:{link:function(){"ymbd"==this.news.type?window.wx?wx.invoke("openUrl",{type:0,url:this.news.blink},function(t){t.err_msg}):this.$router.push({name:"dsfIframe",params:{url:this.news.blink,title:"新闻详情"}}):this.$router.push({path:"/SDYCNewsDetail",query:{id:this.news.id,type:this.news.type,showHeader:this.$route.query.showHeader}})}}},i=(0,n(51900).Z)(e,function(){var t=this,e=t._self._c;return e("div",{staticClass:"news",on:{click:t.link}},[t.news.image?e("van-image",{attrs:{src:t.news.image,fit:"cover"},scopedSlots:t._u([{key:"loading",fn:function(){return[e("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!1,2352118052)}):t._e(),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"title",domProps:{innerHTML:t._s(t.news.title)}}),t._v(" "),t.news.time?e("div",{staticClass:"time"},[t._v(t._s(t.news.time))]):t._e()])],1)},[],!1,null,"ae49cc00",null).exports},37356:function(t,e,n){n.r(e),n.d(e,{default:function(){return s}});var a=n(66250),e=n(33453),r=n.n(e),e={props:{title:{type:String,default:""},rightText:{type:String,default:"更多"}},data:function(){return{}},methods:{rClick:function(){this.$emit("rightClick")}}},i=n(51900),e={components:{moduleItem:(0,i.Z)(e,function(){var t=this,e=t._self._c;return e("div",{staticClass:"module"},[e("div",{staticClass:"top"},[e("span",{staticClass:"left"}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"right",on:{click:t.rClick}},[t._v(t._s(t.rightText))])]),t._v(" "),t._t("default")],2)},[],!1,null,"394ac4fa",null).exports,newsItem:n(38728).Z},data:function(){return{activeName:"",tabs:[]}},created:function(){this.getColumn()},methods:{getColumn:function(){var e=this;dsf.http.get("".concat(dsf.config.cmsUrl,"ctrl/mobileInternet/getColumn")).then(function(t){200==t.data.code?(e.tabs=t.data.data,e.tabs.forEach(function(t){e.$set(t,"list",[]),e.$set(t,"images",[])})):dsf.layer.toast(t.data.message)})},load:function(i){var s=this;return(0,a.Z)(r().mark(function t(){var e,n;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.tabs.find(function(t){return t.type==i}),n="",e.lbType)return t.next=5,dsf.http.post("".concat(dsf.config.cmsUrl,"ctrl/mobileInternet/getCarousel"),{newsType:e.lbType}).then(function(t){200==t.data.code&&(e.images=t.data.data,n=t.data.data.map(function(t){return t.id}).join(","))}).error(function(t){});t.next=5;break;case 5:dsf.http.post("".concat(dsf.config.cmsUrl,"ctrl/mobileInternet/list"),{type:e.type,page:1,limit:12,isShowImage:e.isShowImage,infoIds:n}).then(function(t){200==t.data.code&&(e.list=t.data.data)}).error(function(t){});case 6:case"end":return t.stop()}},t)}))()},rclick:function(t){this.$router.push({path:"/SDYCNewsList",query:{type:t,showHeader:this.$route.query.showHeader}})},link:function(t){this.$router.push({path:"/SDYCNewsDetail",query:{id:t.id,type:t.type,time:t.time,showHeader:this.$route.query.showHeader}})}}},s=(0,i.Z)(e,function(){var n=this,i=n._self._c;return i("div",{staticClass:"news-container"},[i("van-tabs",{attrs:{sticky:"","offset-top":n.$store.state.isShowAppHeader?"0.92rem":"0px",swipeable:"",ellipsis:!1,"swipe-threshold":6},on:{rendered:n.load},model:{value:n.activeName,callback:function(t){n.activeName=t},expression:"activeName"}},n._l(n.tabs,function(e){return i("van-tab",{key:e.type,attrs:{title:e.title,name:e.type}},[e.lbType&&0<e.images.length?i("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},n._l(e.images,function(e,t){return i("van-swipe-item",{key:t,on:{click:function(t){return n.link(e)}}},[i("van-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.image,fit:"cover"},scopedSlots:n._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)}),n._v(" "),i("div",{staticClass:"imgTitle"},[i("span",{staticClass:"clamp",domProps:{innerHTML:n._s(e.title)}})])],1)}),1):n._e(),n._v(" "),i("module-item",{attrs:{title:e.subTitle||e.title},on:{rightClick:function(t){return n.rclick(e.type)}}},[i("template",{slot:"default"},n._l(e.list,function(t){return i("news-Item",{key:t.id,attrs:{news:t}})}),1)],2)],1)}),1)],1)},[],!1,null,"4e47e262",null).exports}}]);