(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[26286],{52528:function(t,e,i){var o=i(70492),n=i(33051),a=i(18490),s=i(96472);i(16572),i(48253),i(97326),o.registerPreprocessor(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),e=t.axisPointer.link)&&!n.isArray(e)&&(t.axisPointer.link=[e])}),o.registerProcessor(o.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=a.collect(t,e)}),o.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s)},16572:function(t,e,i){i=i(70492).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});t.exports=i},48253:function(t,e,i){var o=i(70492),n=i(56996),a=o.extendComponentView({type:"axisPointer",render:function(t,e,i){var e=e.getComponent("tooltip"),o=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";n.register("axisPointer",i,function(t,e,i){"none"!==o&&("leave"===t||0<=o.indexOf(t))&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){n.unregister(e.getZr(),"axisPointer"),a.superApply(this._model,"remove",arguments)},dispose:function(t,e){n.unregister("axisPointer",e),a.superApply(this._model,"dispose",arguments)}});t.exports=a},47329:function(t,e,i){var l=i(33051),o=i(34251),d=i(51177),s=i(18490),r=i(61158),h=i(270),a=(0,i(32234).makeInner)(),u=l.clone,p=l.bind;function n(){}function c(t,e,i,o){!function i(o,t){{var n;return l.isObject(o)&&l.isObject(t)?(n=!0,l.each(t,function(t,e){n=n&&i(o[e],t)}),!!n):o===t}}(a(i).lastProp,o)&&(a(i).lastProp=o,e?d.updateProps(i,o,t):(i.stopAnimation(),i.attr(o)))}function g(t,e){t[e.get("label.show")?"show":"hide"]()}function x(t){return{position:t.position.slice(),rotation:t.rotation||0}}function f(t,e,i){var o=e.get("z"),n=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=o&&(t.z=o),null!=n&&(t.zlevel=n),t.silent=i)})}o.enableClassExtend((n.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,o){var n,a,s=e.get("value"),r=e.get("status");this._axisModel=t,this._axisPointerModel=e,this._api=i,!o&&this._lastValue===s&&this._lastStatus===r||(this._lastValue=s,this._lastStatus=r,o=this._group,n=this._handle,r&&"hide"!==r?(o&&o.show(),n&&n.show(),this.makeElOption(r={},s,t,e,i),(a=r.graphicKey)!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=a,a=this._moveAnimation=this.determineAnimation(t,e),o?(a=l.curry(c,e,a),this.updatePointerEl(o,r,a,e),this.updateLabelEl(o,r,a,e)):(o=this._group=new d.Group,this.createPointerEl(o,r,t,e),this.createLabelEl(o,r,t,e),i.getZr().add(o)),f(o,e,!0),this._renderHandle(s)):(o&&o.hide(),n&&n.hide()))},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i,o=e.get("animation"),n=t.axis,a="category"===n.type,e=e.get("snap");return!(!e&&!a)&&("auto"===o||null==o?(i=this.animationThreshold,a&&n.getBandWidth()>i||!!e&&(a=s.getAxisInfo(t).seriesDataCount,e=n.getExtent(),Math.abs(e[0]-e[1])/a>i)):!0===o)},makeElOption:function(t,e,i,o,n){},createPointerEl:function(t,e,i,o){var n=e.pointer;n&&(n=a(t).pointerEl=new d[n.type](u(e.pointer)),t.add(n))},createLabelEl:function(t,e,i,o){e.label&&(e=a(t).labelEl=new d.Rect(u(e.label)),t.add(e),g(e,o))},updatePointerEl:function(t,e,i){t=a(t).pointerEl;t&&e.pointer&&(t.setStyle(e.pointer.style),i(t,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,o){t=a(t).labelEl;t&&(t.setStyle(e.label.style),i(t,{shape:e.label.shape,position:e.label.position}),g(t,o))},_renderHandle:function(t){var e,i,o,n,a,s;!this._dragging&&this.updateHandleTransform&&(e=this._axisPointerModel,i=this._api.getZr(),o=this._handle,n=e.getModel("handle"),s=e.get("status"),n.get("show")&&s&&"hide"!==s?(this._handle||(a=!0,o=this._handle=d.createIcon(n.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){r.stop(t.event)},onmousedown:p(this._onHandleDragMove,this,0,0),drift:p(this._onHandleDragMove,this),ondragend:p(this._onHandleDragEnd,this)}),i.add(o)),f(o,e,!1),o.setStyle(n.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"])),s=n.get("size"),l.isArray(s)||(s=[s,s]),o.attr("scale",[s[0]/2,s[1]/2]),h.createOrUpdate(this,"_doDispatchAxisPointer",n.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)):(o&&i.remove(o),this._handle=null))},_moveHandleToValue:function(t,e){c(this._axisPointerModel,!e&&this._moveAnimation,this._handle,x(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;i&&(this._dragging=!0,t=this.updateHandleTransform(x(i),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=t,i.stopAnimation(),i.attr(x(t)),a(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},_onHandleDragEnd:function(t){var e;this._dragging=!1,this._handle&&(e=this._axisPointerModel.get("value"),this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var t=t.getZr(),e=this._group,i=this._handle;t&&e&&(this._lastGraphicKey=null,e&&t.remove(e),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=n),t.exports=n},97326:function(t,e,i){var o=i(47329),u=i(75539),p=i(49069),i=i(11726),o=o.extend({makeElOption:function(t,e,i,o,n){var a,s=i.axis,r=s.grid,l=o.get("type"),d=c(r,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(e,!0)),s=(l&&"none"!==l&&(a=u.buildElStyle(o),(l=g[l](s,h,d)).style=a,t.graphicKey=l.type,t.pointer=l),p.layout(r.model,i));u.buildCartesianSingleLabelElOption(e,t,s,i,o,n)},getHandleTransform:function(t,e,i){var o=p.layout(e.axis.grid.model,e,{labelInside:!1});return o.labelMargin=i.get("handle.margin"),{position:u.getTransformedPosition(e.axis,t,o),rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,o){var i=i.axis,n=i.grid,a=i.getGlobalExtent(!0),n=c(n,i).getOtherAxis(i).getGlobalExtent(),i="x"===i.dim?0:1,s=t.position,e=(s[i]+=e[i],s[i]=Math.min(a[1],s[i]),s[i]=Math.max(a[0],s[i]),(n[1]+n[0])/2),a=[e,e];a[i]=s[i];return{position:s,rotation:t.rotation,cursorPoint:a,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][i]}}});function c(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var g={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:u.makeLineShape([e,i[0]],[e,i[1]],a(t))}},shadow:function(t,e,i){var o=Math.max(1,t.getBandWidth()),n=i[1]-i[0];return{type:"Rect",shape:u.makeRectShape([e-o/2,i[0]],[o,n],a(t))}}};function a(t){return"x"===t.dim?0:1}i.registerAxisPointerClass("CartesianAxisPointer",o),t.exports=o},96472:function(t,e,i){var b=i(33051),o=i(32234).makeInner,d=i(18490),T=i(92448),I=b.each,C=b.curry,S=o();function A(t,e,i,o,n){var a,s,r,l,d,h,u,p,c,g,x=t.axis;!x.scale.isBlank()&&x.containData(e)&&(t.involveSeries?(s=e,r=t.axis,l=r.dim,d=s,h=[],u=Number.MAX_VALUE,p=-1,I(t.seriesModels,function(e,t){var i,o=e.getData().mapDimension(l,!0);if(e.getAxisTooltipData)var n=e.getAxisTooltipData(o,s,r),a=n.dataIndices,n=n.nestestValue;else{if(!(a=e.getData().indicesOfNearest(o[0],s,"category"===r.type?.5:null)).length)return;n=e.getData().get(o[0],a[0])}null!=n&&isFinite(n)&&(o=s-n,(i=Math.abs(o))<=u)&&((i<u||0<=o&&p<0)&&(u=i,p=o,d=n,h.length=0),I(a,function(t){h.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}),g=(a={payloadBatch:h,snapToValue:d}).snapToValue,(c=a.payloadBatch)[0]&&null==n.seriesIndex&&b.extend(n,c[0]),!o&&t.snap&&x.containData(g)&&null!=g&&(e=g),i.showPointer(t,e,c,n),i.showTooltip(t,a,g)):i.showPointer(t,e))}function M(t,e,i,o){t[e.key]={value:i,payloadBatch:o}}function P(t,e,i,o){var n,a,i=i.payloadBatch,s=e.axis,r=s.model,l=e.axisPointerModel;e.triggerTooltip&&i.length&&(e=e.coordSys.model,n=d.makeKey(e),(a=t.map[n])||(a=t.map[n]={coordSysId:e.id,coordSysIndex:e.componentIndex,coordSysType:e.type,coordSysMainType:e.mainType,dataByAxis:[]},t.list.push(a)),a.dataByAxis.push({axisDim:s.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:o,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:i.slice()}))}function D(t){var e=t.axis.model,i={},t=i.axisDim=t.axis.dim;return i.axisIndex=i[t+"AxisIndex"]=e.componentIndex,i.axisName=i[t+"AxisName"]=e.name,i.axisId=i[t+"AxisId"]=e.id,i}function O(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}t.exports=function(t,e,i){var a,s,o,r,l,n,d,h,u,p,c,g,x,f,m=t.currTrigger,y=[t.x,t.y],_=t,v=t.dispatchAction||b.bind(i.dispatchAction,i),w=e.getComponent("axisPointer").coordSysAxesInfo;if(w)return O(y)&&(y=T({seriesIndex:_.seriesIndex,dataIndex:_.dataIndex},e).point),a=O(y),s=_.axesInfo,o=w.axesInfo,r="leave"===m||O(y),l={},e={list:[],map:{}},d={showPointer:C(M,n={}),showTooltip:C(P,e)},I(w.coordSysMap,function(t,e){var n=a||t.containPoint(y);I(w.coordSysAxesInfo[e],function(t,e){var i=t.axis,o=function(t,e){for(var i=0;i<(t||[]).length;i++){var o=t[i];if(e.axis.dim===o.axisDim&&e.axis.model.componentIndex===o.axisIndex)return o}}(s,t);r||!n||s&&!o||null!=(o=null!=(o=o&&o.value)||a?o:i.pointToData(y))&&A(t,o,d,!1,l)})}),h={},I(o,function(i,t){var o=i.linkGroup;o&&!n[t]&&I(o.axesInfo,function(t,e){var e=n[e];t!==i&&e&&(e=e.value,o.mapper&&(e=i.axis.scale.parse(o.mapper(e,D(t),D(i)))),h[i.key]=e)})}),I(h,function(t,e){A(o[e],t,d,!0,l)}),u=n,_=o,p=l.axesInfo=[],I(_,function(t,e){var i=t.axisPointerModel.option,e=u[e];e?(t.useHandle||(i.status="show"),i.value=e.value,i.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(i.status="hide"),"show"===i.status&&p.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}),m=e,_=t,e=v,O(t=y)||!m.list.length?e({type:"hideTip"}):(v=((m.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{},e({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:_.tooltipOption,position:_.position,dataIndexInside:v.dataIndexInside,dataIndex:v.dataIndex,seriesIndex:v.seriesIndex,dataByCoordSys:m.list})),e=o,_=(t=i).getZr(),v="axisPointerLastHighlights",c=S(_)[v]||{},g=S(_)[v]={},I(e,function(t,e){t=t.axisPointerModel.option;"show"===t.status&&I(t.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;g[e]=t})}),x=[],f=[],b.each(c,function(t,e){g[e]||f.push(t)}),b.each(g,function(t,e){c[e]||x.push(t)}),f.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,batch:f}),x.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,batch:x}),l}},92448:function(t,e,i){var s=i(33051),r=i(32234);t.exports=function(t,e){var i,o,n=[],a=t.seriesIndex;return null==a||!(e=e.getSeriesByIndex(a))||(i=e.getData(),null==(a=r.queryDataIndex(i,t)))||a<0||s.isArray(a)?{point:[]}:(t=i.getItemGraphicEl(a),o=e.coordinateSystem,e.getTooltipPosition?n=e.getTooltipPosition(a)||[]:o&&o.dataToPoint?n=o.dataToPoint(i.getValues(s.map(o.dimensions,function(t){return i.mapDimension(t)}),a,!0))||[]:t&&((e=t.getBoundingRect().clone()).applyTransform(t.transform),n=[e.x+e.width/2,e.y+e.height/2]),{point:n,el:t})}},56996:function(t,e,i){var a=i(33051),s=i(66387),c=(0,i(32234).makeInner)(),g=a.each;function r(t,e,i){t.handler("leave",null,i)}function l(t,e,i,o){e.handler(t,i,o)}e.register=function(t,e,i){var o,u,p;function n(t,h){u.on(t,function(e){i=p;var i,o,n={dispatchAction:a,pendings:o={showTip:[],hideTip:[]}};function a(t){var e=o[t.type];e?e.push(t):(t.dispatchAction=a,i.dispatchAction(t))}g(c(u).records,function(t){t&&h(t,e,n.dispatchAction)});var t,s=n.pendings,r=p,l=s.showTip.length,d=s.hideTip.length;l?t=s.showTip[l-1]:d&&(t=s.hideTip[d-1]),t&&(t.dispatchAction=null,r.dispatchAction(t))})}s.node||(o=e.getZr(),c(o).records||(c(o).records={}),p=e,c(u=o).initialized||(c(u).initialized=!0,n("click",a.curry(l,"click")),n("mousemove",a.curry(l,"mousemove")),n("globalout",r)),(c(o).records[t]||(c(o).records[t]={})).handler=i)},e.unregister=function(t,e){s.node||(e=e.getZr(),(c(e).records||{})[t]&&(c(e).records[t]=null))}},75539:function(t,e,i){var r=i(33051),n=i(51177),g=i(80423),x=i(78988),a=i(32892),l=i(97980),d=i(58608);function h(t,e,i,o,n){var a,s=f(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),i=i.getModel("label"),r=x.normalizeCssArray(i.get("padding")||0),l=i.getFont(),d=g.getBoundingRect(s,l),h=n.position,u=d.width+r[1]+r[3],d=d.height+r[0]+r[2],p=n.align,p=("right"===p&&(h[0]-=u),"center"===p&&(h[0]-=u/2),n.verticalAlign),c=("bottom"===p&&(h[1]-=d),"middle"===p&&(h[1]-=d/2),n=h,p=u,a=d,c=(o=o).getWidth(),o=o.getHeight(),n[0]=Math.min(n[0]+p,c)-p,n[1]=Math.min(n[1]+a,o)-a,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0),i.get("backgroundColor"));c&&"auto"!==c||(c=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:u,height:d,r:i.get("borderRadius")},position:h.slice(),style:{text:s,textFont:l,textFill:i.getTextColor(),textPosition:"inside",textPadding:r,fill:c,stroke:i.get("borderColor")||"transparent",lineWidth:i.get("borderWidth")||0,shadowBlur:i.get("shadowBlur"),shadowColor:i.get("shadowColor"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY")},z2:10}}function f(t,e,i,o,n){t=e.scale.parse(t);var a,s=e.scale.getLabel(t,{precision:n.precision}),n=n.formatter;return n&&(a={value:l.getAxisRawValue(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]},r.each(o,function(t){var e=i.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,e=e&&e.getDataParams(t);e&&a.seriesData.push(e)}),r.isString(n)?s=n.replace("{value}",s):r.isFunction(n)&&(s=n(a))),s}function u(t,e,i){var o=a.create();return a.rotate(o,o,i.rotation),a.translate(o,o,i.position),n.applyTransform([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],o)}e.buildElStyle=function(t){var e,i=t.get("type"),t=t.getModel(i+"Style");return"line"===i?(e=t.getLineStyle()).fill=null:"shadow"===i&&((e=t.getAreaStyle()).stroke=null),e},e.buildLabelElOption=h,e.getValueLabel=f,e.getTransformedPosition=u,e.buildCartesianSingleLabelElOption=function(t,e,i,o,n,a){var s=d.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get("label.margin"),h(e,o,n,a,{position:u(o.axis,t,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})},e.makeLineShape=function(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}},e.makeRectShape=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},e.makeSectorShape=function(t,e,i,o,n,a){return{cx:t,cy:e,r0:i,r:o,startAngle:n,endAngle:a,clockwise:!0}}},21865:function(t,e,i){var p=i(33051),o=i(70492),c=i(51177),g=i(76172).getLayoutRect,x=i(78988).windowOpen;o.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),o.extendComponentView({type:"title",render:function(t,e,i){var o,n,a,s,r,l,d,h,u;this.group.removeAll(),t.get("show")&&(o=this.group,d=t.getModel("textStyle"),n=t.getModel("subtextStyle"),h=t.get("textAlign"),u=p.retrieve2(t.get("textBaseline"),t.get("textVerticalAlign")),r=(d=new c.Text({style:c.setTextStyle({},d,{text:t.get("text"),textFill:d.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),l=t.get("subtext"),n=new c.Text({style:c.setTextStyle({},n,{text:l,textFill:n.getTextColor(),y:r.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),a=t.get("link"),s=t.get("sublink"),r=t.get("triggerEvent",!0),d.silent=!a&&!r,n.silent=!s&&!r,a&&d.on("click",function(){x(a,"_"+t.get("target"))}),s&&n.on("click",function(){x(s,"_"+t.get("subtarget"))}),d.eventData=n.eventData=r?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(d),l&&o.add(n),r=o.getBoundingRect(),(l=t.getBoxLayoutParams()).width=r.width,l.height=r.height,l=g(l,{width:i.getWidth(),height:i.getHeight()},t.get("padding")),h||("right"===(h="middle"===(h=t.get("left")||t.get("right"))?"center":h)?l.x+=l.width:"center"===h&&(l.x+=l.width/2)),u||("bottom"===(u="center"===(u=t.get("top")||t.get("bottom"))?"middle":u)?l.y+=l.height:"middle"===u&&(l.y+=l.height/2),u=u||"top"),o.attr("position",[l.x,l.y]),d.setStyle(i={textAlign:h,textVerticalAlign:u}),n.setStyle(i),r=o.getBoundingRect(),d=l.margin,(h=t.getItemStyle(["color","opacity"])).fill=t.get("backgroundColor"),u=new c.Rect({shape:{x:r.x-d[3],y:r.y-d[0],width:r.width+d[1]+d[3],height:r.height+d[0]+d[2],r:t.get("borderRadius")},style:h,subPixelOptimize:!0,silent:!0}),o.add(u))}})},83062:function(t,e,i){var o=i(70492);i(52528),i(16470),i(88085),o.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),o.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},36333:function(t,e,i){var l=i(33051),d=i(21092),s=i(61158),r=i(18553),h=i(66387),u=i(78988),p=l.each,c=u.toCamelCase,g=["","-webkit-","-moz-","-o-"];function o(o){var t,e,n=[],i=o.get("transitionDuration"),a=o.get("backgroundColor"),s=o.getModel("textStyle"),r=o.get("padding");return i&&n.push((e="left "+i+"s "+(t="cubic-bezier(0.23, 1, 0.32, 1)")+",top "+i+"s "+t,l.map(g,function(t){return t+"transition:"+e}).join(";"))),a&&(h.canvasSupported?n.push("background-Color:"+a):(n.push("background-Color:#"+d.toHex(a)),n.push("filter:alpha(opacity=70)"))),p(["width","color","radius"],function(t){var e="border-"+t,i=c(e),i=o.get(i);null!=i&&n.push(e+":"+i+("color"===t?"":"px"))}),n.push(function(i){var o=[],t=i.get("fontSize");(e=i.getTextColor())&&o.push("color:"+e),o.push("font:"+i.getFont());null==(e=i.get("lineHeight"))&&(e=Math.round(3*t/2)),t&&o.push("line-height:"+e+"px");var t=i.get("textShadowColor"),e=i.get("textShadowBlur")||0,n=i.get("textShadowOffsetX")||0,a=i.get("textShadowOffsetY")||0;return e&&o.push("text-shadow:"+n+"px "+a+"px "+e+"px "+t),p(["decoration","align"],function(t){var e=i.get(t);e&&o.push("text-"+t+":"+e)}),o.join(";")}(s)),null!=r&&n.push("padding:"+u.normalizeCssArray(r).join("px ")+"px"),n.join(";")+";"}function x(t,e,i,o,n){var a=e&&e.painter;i?(i=a&&a.getViewportRoot())&&r.transformLocalCoord(t,i,document.body,o,n):(t[0]=o,t[1]=n,(i=a&&a.getViewportRootOffset())&&(t[0]+=i.offsetLeft,t[1]+=i.offsetTop)),t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function n(t,e,i){if(h.wxa)return null;var o=document.createElement("div"),n=(o.domBelongToZr=!0,this.el=o,this._zr=e.getZr()),i=this._appendToBody=i&&i.appendToBody,a=(this._styleCoord=[0,0,0,0],x(this._styleCoord,n,i,e.getWidth()/2,e.getHeight()/2),(i?document.body:t).appendChild(o),this._container=t,this._show=!1,this._hideTimeout,this);o.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},o.onmousemove=function(t){var e,i;t=t||window.event,a._enterable||(e=n.handler,i=n.painter.getViewportRoot(),s.normalizeEvent(i,t,!0),e.dispatch("mousemove",t))},o.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}n.prototype={constructor:n,_enterable:!0,update:function(t){var e=this._container,i=e.currentStyle||document.defaultView.getComputedStyle(e),e=e.style;"absolute"!==e.position&&"absolute"!==i.position&&(e.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],t=t*this._zr.getWidth(),e=e*this._zr.getHeight();this.moveTo(t,e)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,i=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+o(t)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i=this._styleCoord,t=(x(i,this._zr,this._appendToBody,t,e),this.el.style);t.left=i[0]+"px",t.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(l.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t,e=this.el.clientWidth,i=this.el.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(this.el))&&(e+=parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),i+=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10)),{width:e,height:i}}},t.exports=n},16470:function(t,e,i){i=i(70492).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});t.exports=i},97634:function(t,e,i){var o=i(33051),c=i(96498),g=i(51177);function n(t,e,i,o){t[0]=i,t[1]=o,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function a(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],n(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}a.prototype={constructor:a,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],t=t*this._zr.getWidth(),e=e*this._zr.getHeight();this.moveTo(t,e)},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var o={},n=t,a="{marker",s=n.indexOf(a);0<=s;){var r=n.indexOf("|}"),l=n.substr(s+a.length,r-s-a.length);-1<l.indexOf("sub")?o["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:o["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},s=(n=n.substr(r+1)).indexOf("{marker")}var d=i.getModel("textStyle"),h=d.get("fontSize"),u=i.get("textLineHeight"),p=(null==u&&(u=Math.round(3*h/2)),this.el=new c({style:g.setTextStyle({},d,{rich:o,text:t,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:u}),z:i.get("z")}),this._zr.add(this.el),this);this.el.on("mouseover",function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0}),this.el.on("mouseout",function(){p._enterable&&p._show&&p.hideLater(p._hideDelay),p._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){var i;this.el&&(n(i=this._styleCoord,this._zr,t,e),this.el.attr("position",[i[0],i[1]]))},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}},t.exports=a},88085:function(t,e,i){var o=i(70492),x=i(33051),r=i(66387),n=i(36333),a=i(97634),f=i(78988),s=i(85669),l=i(51177),d=i(92448),g=i(76172),h=i(4272),u=i(56996),m=i(97980),y=i(75539),p=i(32234).getTooltipRenderMode,c=x.bind,_=x.each,v=s.parsePercent,w=new l.Rect({shape:{x:-1,y:-1,width:2,height:2}}),i=o.extendComponentView({type:"tooltip",init:function(t,e){var i,o;r.node||(i=(t=t.getComponent("tooltip")).get("renderMode"),this._renderMode=p(i),"html"===this._renderMode?(o=new n(e.getDom(),e,{appendToBody:t.get("appendToBody",!0)}),this._newLine="<br/>"):(o=new a(e),this._newLine="\n"),this._tooltipContent=o)},render:function(t,e,i){r.node||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent"),(e=this._tooltipContent).update(t),e.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var o=this._tooltipModel.get("triggerOn");u.register("itemTooltip",this._api,c(function(t,e,i){"none"!==o&&(0<=o.indexOf(t)?this._tryShow(e,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var t,e=this._tooltipModel,i=this._ecModel,o=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o.isDisposed()||t.manuallyShowTip(e,i,o,{x:t._lastX,y:t._lastY})}))},manuallyShowTip:function(t,e,i,o){var n,a,s;o.from===this.uid||r.node||(n=T(o,i),this._ticket="",s=o.dataByCoordSys,o.tooltip&&null!=o.x&&null!=o.y?((a=w).position=[o.x,o.y],a.update(),a.tooltip=o.tooltip,this._tryShow({offsetX:o.x,offsetY:o.y,target:a},n)):s?this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:o.dataByCoordSys,tooltipOption:o.tooltipOption},n):null!=o.seriesIndex?this._manuallyAxisShowTip(t,e,i,o)||(s=(a=d(o,e)).point[0],t=a.point[1],null!=s&&null!=t&&this._tryShow({offsetX:s,offsetY:t,position:o.position,target:a.el},n)):null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},n)))},manuallyHideTip:function(t,e,i,o){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,o.from!==this.uid&&this._hide(T(o,i))},_manuallyAxisShowTip:function(t,e,i,o){var n=o.seriesIndex,a=o.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=a&&null!=s){s=e.getSeriesByIndex(n);if(s){t=b([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,t]);if("axis"===t.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:a,position:o.position}),!0}}},_tryShow:function(t,e){var i,o=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(i=t.dataByCoordSys)&&i.length?this._showAxisTooltip(i,t):o&&null!=o.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,o,e)):o&&o.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,o,e)):(this._lastDataByCoordSys=null,this._hide(e)))},_showOrMove:function(t,e){t=t.get("showDelay");e=x.bind(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},_showAxisTooltip:function(t,e){var d=this._ecModel,i=this._tooltipModel,o=[e.offsetX,e.offsetY],h=[],u=[],n=b([e.tooltipOption,i]),p=this._renderMode,c=this._newLine,g={},a=(_(t,function(t){_(t.dataByAxis,function(n){var a,t,s=d.getComponent(n.axisDim+"Axis",n.axisIndex),r=n.value,l=[];s&&null!=r&&(a=y.getValueLabel(r,s.axis,d,n.seriesDataIndices,n.valueLabelOpt),x.each(n.seriesDataIndices,function(t){var e,i=d.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,o=i&&i.getDataParams(t);o.axisDim=n.axisDim,o.axisIndex=n.axisIndex,o.axisType=n.axisType,o.axisId=n.axisId,o.axisValue=m.getAxisRawValue(s.axis,r),o.axisValueLabel=a,o&&(u.push(o),o=i.formatTooltip(t,!0,null,p),x.isObject(o)?(e=o.html,i=o.markers,x.merge(g,i)):e=o,l.push(e))}),t=a,"html"!==p?h.push(l.join(c)):h.push((t?f.encodeHTML(t)+c:"")+l.join(c)))})},this),h.reverse(),h=h.join(this._newLine+this._newLine),e.position);this._showOrMove(n,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(n,a,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(n,h,u,Math.random(),o[0],o[1],a,void 0,g)})},_showSeriesItemTooltip:function(t,e,i){var o,n,a,s,r=this._ecModel,l=e.seriesIndex,r=r.getSeriesByIndex(l),d=e.dataModel||r,h=e.dataIndex,e=e.dataType,u=d.getData(e),p=b([u.getItemModel(h),d,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),r=p.get("trigger");null!=r&&"item"!==r||(o=d.getDataParams(h,e),r=d.formatTooltip(h,!1,e,this._renderMode),a=x.isObject(r)?(n=r.html,r.markers):(n=r,null),s="item_"+d.name+"_"+h,this._showOrMove(p,function(){this._showTooltipContent(p,n,o,s,t.offsetX,t.offsetY,t.position,t.target,a)}),i({type:"showTip",dataIndexInside:h,dataIndex:u.getRawIndex(h),seriesIndex:l,from:this.uid}))},_showComponentItemTooltip:function(t,e,i){var o=e.tooltip,n=new h(o="string"==typeof o?{content:o,formatter:o}:o,this._tooltipModel,this._ecModel),a=n.get("content"),s=Math.random();this._showOrMove(n,function(){this._showTooltipContent(n,a,n.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(i,t,o,e,n,a,s,r,l){var d,h,u;this._ticket="",i.get("showContent")&&i.get("show")&&(d=this._tooltipContent,h=i.get("formatter"),s=s||i.get("position"),t=t,h&&"string"==typeof h?t=f.formatTpl(h,o,!0):"function"==typeof h&&(u=c(function(t,e){t===this._ticket&&(d.setContent(e,l,i),this._updatePosition(i,s,n,a,d,o,r))},this),this._ticket=e,t=h(o,e,u)),d.setContent(t,l,i),d.show(i),this._updatePosition(i,s,n,a,d,o,r))},_updatePosition:function(t,e,i,o,n,a,s){var r,l=this._api.getWidth(),d=this._api.getHeight(),h=(e=e||t.get("position"),n.getSize()),u=t.get("align"),p=t.get("verticalAlign"),c=s&&s.getBoundingRect().clone();s&&c.applyTransform(s.transform),"function"==typeof e&&(e=e([i,o],a,n.el,c,{viewSize:[l,d],contentSize:h.slice()})),x.isArray(e)?(i=v(e[0],l),o=v(e[1],d)):x.isObject(e)?(e.width=h[0],e.height=h[1],i=(a=g.getLayoutRect(e,{width:l,height:d})).x,o=a.y,p=u=null):o=(i=(r="string"==typeof e&&s?function(t,e,i){var o=i[0],n=i[1],a=0,s=0,r=e.width,l=e.height;switch(t){case"inside":a=e.x+r/2-o/2,s=e.y+l/2-n/2;break;case"top":a=e.x+r/2-o/2,s=e.y-n-5;break;case"bottom":a=e.x+r/2-o/2,s=e.y+l+5;break;case"left":a=e.x-o-5,s=e.y+l/2-n/2;break;case"right":a=e.x+r+5,s=e.y+l/2-n/2}return[a,s]}(e,c,h):function(t,e,i,o,n,a,s){var i=i.getOuterSize(),r=i.width,i=i.height;null!=a&&(o<t+r+a?t-=r+a:t+=a);null!=s&&(n<e+i+s?e-=i+s:e+=s);return[t,e]}(i,o,n,l,d,u?null:20,p?null:20))[0],r[1]),u&&(i-=I(u)?h[0]/2:"right"===u?h[0]:0),p&&(o-=I(p)?h[1]/2:"bottom"===p?h[1]:0),t.get("confine")&&(a=i,s=o,e=l,c=d,u=(u=n).getOuterSize(),p=u.width,u=u.height,a=Math.min(a+p,e)-p,s=Math.min(s+u,c)-u,a=Math.max(a,0),s=Math.max(s,0),i=(r=[a,s])[0],o=r[1]),n.moveTo(i,o)},_updateContentNotChangedOnAxis:function(i){var t=this._lastDataByCoordSys,a=!!t&&t.length===i.length;return a&&_(t,function(t,e){var t=t.dataByAxis||{},n=(i[e]||{}).dataByAxis||[];(a&=t.length===n.length)&&_(t,function(t,e){var e=n[e]||{},i=t.seriesDataIndices||[],o=e.seriesDataIndices||[];(a&=t.value===e.value&&t.axisType===e.axisType&&t.axisId===e.axisId&&i.length===o.length)&&_(i,function(t,e){e=o[e];a&=t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})})}),this._lastDataByCoordSys=i,!!a},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){r.node||(this._tooltipContent.dispose(),u.unregister("itemTooltip",e))}});function b(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(h.isInstance(i)&&(i=i.get("tooltip",!0)),e=new h(i="string"==typeof i?{formatter:i}:i,e,e.ecModel))}return e}function T(t,e){return t.dispatchAction||x.bind(e.dispatchAction,e)}function I(t){return"center"===t||"middle"===t}t.exports=i}}]);