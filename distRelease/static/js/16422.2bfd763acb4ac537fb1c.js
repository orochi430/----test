"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[16422],{39609:function(e,t,a){a.r(t);var n=a(73473),d=a.n(n),r=a(25108),n={};n.initHandle=function(a,t,n){var e,l,o;function i(e){e=e.replace(/-/g,"/");return Date.parse(e)}n.relationList[0]&&n.relationList[0].document.length||(e=n,l="文件关联",o=2,new(d())(function(t,a){dsf.http.post("ctrl/filerelation/select/checkedJson",{pks:e.$route.query.relationId,infoId:e.pk,relaType:o,relaName:l}).then(function(e){200==e.data.code?t(e.data.data):a()})}).then(function(e){dsf.http.post("fn/mobileRelationFile/save",{relaMode:e[0].relaMode,relaIds:e[0].relaId,pk:n.pk,moduleId:n.moduleId,fileRelaId:n.relationList[0].fileRelaId}).then(function(e){200==e.data.code&&dsf.http.get("fn/mobileRelationFile/getFormRelationFiles",{pk:n.pk,moduleId:n.moduleId,nodeId:t.parameters.nodeId,flowId:t.parameters.flowId}).then(function(e){n.$set(n,"relationList",e.data.rows)})})})),n.$bus.on("selectDateTime",function(e){var t;r.log(n),"C-DB-YQ-0002"==e.metaData.metaId&&(e=i(e.value),t=i(n.formData.main["C-DB-YQ-0001"].value))&&e<t&&(n.$set(a.main,"C-DB-YQ-0002",{value:""}),dsf.layer.toast("延期时间必须大于办结日期\n".concat(n.formData.main["C-DB-YQ-0001"].value)))})},t.default=n}}]);