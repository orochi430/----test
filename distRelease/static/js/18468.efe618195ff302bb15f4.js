"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[18468,56229,51669],{56229:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var o,t=a(62680),s=a.n(t),t=a(95366),r=a.n(t),t=a(6919),n=a.n(t),i=a(66250),l=a(77193),t=a(33453),c=a.n(t),t=a(8450),u=a.n(t),t=a(26243),d=a.n(t),t=a(20629),f=a(2728),p=a(25108);function h(t,e){var a,n=d()(t);return s()&&(a=s()(t),e&&(a=a.filter(function(e){return r()(t,e).enumerable})),n.push.apply(n,a)),n}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach(function(e){(0,l.Z)(t,e,a[e])}):n()?Object.defineProperties(t,n()(a)):h(Object(a)).forEach(function(e){Object.defineProperty(t,e,r()(a,e))})}return t}var t={props:["value","tabKey","checkable","checkType","oppsetTop","tabOppsetTop"],name:"customTabs",model:{prop:"value",event:"input"},components:{defaultList:function(){return Promise.all([a.e(17672),a.e(50856),a.e(63560),a.e(63450),a.e(9303),a.e(74023),a.e(96345),a.e(39946),a.e(1696),a.e(14355)]).then(a.bind(a,14355))},tabTodo:function(){return Promise.all([a.e(17672),a.e(50856),a.e(63560),a.e(9303),a.e(74023),a.e(96345),a.e(33274),a.e(28038)]).then(a.bind(a,33274))},jiangsuyancaoTable:function(){return Promise.all([a.e(26573),a.e(9193)]).then(a.bind(a,26573))},commonForm:function(){return Promise.all([a.e(17672),a.e(42152),a.e(50856),a.e(63560),a.e(63450),a.e(9303),a.e(74023),a.e(96345),a.e(49852),a.e(39946),a.e(1696),a.e(14355),a.e(59655),a.e(86720),a.e(40954),a.e(58930),a.e(13852),a.e(85027),a.e(59146),a.e(80809)]).then(a.bind(a,32444))},ElecHomePage:function(){return a.e(16848).then(a.bind(a,16848))},diskFile:function(){return Promise.all([a.e(97805),a.e(82060),a.e(89590)]).then(a.bind(a,45411))},cdReportIndex:function(){return a.e(8124).then(a.bind(a,8124))}},data:function(){return{active:0,tabParams:{},tabsPage:!1,clickTabIndex:0,routeKey:"",tabsConfig:null,tempKeyWord:"",realKeyWord:"",docTitle:"",showDetailBadge:!1,sticky:!0,goSearchRoute:this.$route.query.goSearch}},computed:b({},(0,t.rn)({isShowAppFooter:function(e){return e.isShowAppFooter},isShowAppHeader:function(e){return e.isShowAppHeader}})),activated:function(){f.Z.setTitle(this.docTitle),this.refreshBadge(this.active),this.tabsConfig.url&&1==this.tabsConfig.tabslist.length&&(this.oppsetTop=dsf.util.getOffsetTop("0.92rem"))},created:function(){var n=this;return(0,i.Z)(c().mark(function e(){var t,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=n).$route.query.active&&(n.active=Number(n.$route.query.active)),t=dsf.config.commonTabs,n.routeKey=n.tabKey||n.$route.params.key,n.tabsConfig=t[n.routeKey],n.tabsConfig.url)return e.next=8,dsf.http.post(n.tabsConfig.url).then(function(e){200==e.data.code&&(n.tabsConfig.tabslist=e.data.data,1==n.tabsConfig.tabslist.length)&&(n.sticky=!1,setTimeout(function(){$(".commontabs > .van-tabs__wrap").css("display","none"),n.oppsetTop=dsf.util.getOffsetTop("0.92rem")},100))});e.next=8;break;case 8:n.tabsConfig&&(n.docTitle=n.$route.query.title||n.tabsConfig.remark,n.showDetailBadge=n.tabsConfig.showDetailBadge||!1,f.Z.setTitle(n.docTitle),n.tabParams=JSON.parse(u()(n.tabsConfig)),a=[],n.tabParams.tabslist.forEach(function(e){var t=b({},e);t.params&&d()(t.params).forEach(function(e){t.params[e]=dsf.util.getReplaceUrl(t.params[e])}),t.badgeUrl&&(t.badgeUrl=dsf.util.getReplaceUrl(t.badgeUrl),dsf.http.get(t.badgeUrl).then(function(e){n.$delete(t,"badge");e=e.data.total||e.data.badge||e.data.data;n.$set(t,"badge",e)})),t.countUrl&&(t.countUrl=dsf.util.getReplaceUrl(t.countUrl),dsf.http.get(t.countUrl).then(function(e){n.$delete(t,"count");e=e.data.total||e.data.badge||e.data.data;n.$set(t,"count",e)})),t.privilege?null!=(e=dsf.util.loadSessionStore("user"))&&e.privileges.some(function(e){return e.name==t.privilege})&&a.push(t):null!=(e=dsf.util.loadSessionStore("user"))&&e.privileges.some(function(e){return e.name==t.noPrivilege})||a.push(t)}),n.tabParams.tabslist=a),n.$eventBus.onRefreshBadge(n,function(e){n.refreshBadge(e)});case 10:case"end":return e.stop()}},e)}))()},filters:{badgeCount:function(e){return 100<e?o.showDetailBadge?e:"99+":e<1?"":e}},methods:{refreshBadge:function(a){var n=this;this.tabParams.tabslist.forEach(function(t,e){!t.badgeUrl||null!=a&&a!=e||dsf.http.get(t.badgeUrl).then(function(e){e=e.data.total||e.data.badge||e.data.data;n.$set(t,"badge",e)}),!t.countUrl||null!=a&&a!=e||dsf.http.get(t.countUrl,{}).then(function(e){e=e.data.total||e.data.badge||e.data.data;n.$set(t,"count",e)})})},tabChange:function(e,t){p.log(e+"---"+t),this.clickTabIndex=e},onSearch:function(){this.realKeyWord=this.tempKeyWord},onFocus:function(){this.goSearchRoute&&this.$router.push({name:this.goSearchRoute})},cancelCheck:function(){this.$emit("cancelCheck")},confirmCheck:function(e){this.$emit("confirmCheck",e)}},deactivated:function(){var e,t,a=this,n=this;["jiangsuyancaoNewsDetail"].filter(function(e){return e==a.$route.name}).length,dsf.config.setting["SYS-MOBILE-FORM-0020"]&&(e=dsf.config.setting["SYS-MOBILE-FORM-0020"].split(","),t=!1,e.forEach(function(e){n.$route.path.toLowerCase()==e&&(t=!0)}),t)&&(n.$eventBus.Off(this,"refreshBadge"),n.$deleteCache(this))},beforeRouteLeave:function(e,t,a){var n;"commonList"!=e.name&&"index"!=e.name&&"wanHome"!=e.name&&!e.name.toLowerCase().includes("index")||(this.$eventBus.Off(this,"refreshBadge"),n=this,setTimeout(function(){n.$deleteCache(n)},500)),a()}},m=(0,a(51900).Z)(t,function(){var a=this,n=a._self._c;return n("div",{attrs:{id:"common-tabs"}},[a.tabsConfig&&a.tabsConfig.showSearchBox?n("van-search",{attrs:{"show-action":"",placeholder:"请输入查询信息","left-icon":"",clearable:!1},on:{search:a.onSearch,focus:a.onFocus},scopedSlots:a._u([{key:"right-icon",fn:function(){return[n("div",{staticClass:"flex ac",on:{click:a.onSearch}},[n("van-icon",{attrs:{name:"search",size:"0.44rem"}})],1)]},proxy:!0},{key:"action",fn:function(){},proxy:!0}],null,!1,2275234293),model:{value:a.tempKeyWord,callback:function(e){a.tempKeyWord=e},expression:"tempKeyWord"}}):a._e(),a._v(" "),n("van-tabs",{staticClass:"commontabs",attrs:{sticky:a.sticky,"offset-top":a.tabOppsetTop?a.dsf.util.getOffsetTop(a.tabOppsetTop):a.dsf.util.getOffsetTop(),swipeable:"","swipe-threshold":""},on:{change:a.tabChange},model:{value:a.active,callback:function(e){a.active=e},expression:"active"}},a._l(a.tabParams.tabslist,function(e,t){return n("van-tab",{key:t,attrs:{title:"tabs"+e.name,badge:a._f("badgeCount")(e.badge),name:t},scopedSlots:a._u([{key:"title",fn:function(){return[e.icon?n("van-icon",{attrs:{name:e.icon}}):a._e(),a._v(" "),n("span",[a._v(a._s(e.name))]),e.count?n("span",[a._v("("+a._s(a._f("badgeCount")(e.count))+")")]):a._e()]},proxy:!0}],null,!0)},[a._v(" "),"defaultList"==e.goRoute?n("keep-alive",[n("default-list",{attrs:{currentTabs:t,params:e,tabsPage:a.tabsPage,clickTabIndex:a.clickTabIndex,routeKey:a.routeKey,mainKeyWord:a.realKeyWord,oppsetTop:a.oppsetTop||(a.isShowAppHeader?"1.8rem":"0.88rem"),checkable:a.checkable,"check-type-pop":a.checkType},on:{cancelCheck:a.cancelCheck,confirmCheck:a.confirmCheck}})],1):"jiangsuyancaoTable"==e.goRoute?n("jiangsuyancao-table",{attrs:{params:e,oppsetTop:a.isShowAppHeader?"1.8rem":"0.88rem"}}):"elecHomePage"==e.goRoute?n("keep-alive",[n("ElecHomePage",{attrs:{clickTabIndex:a.clickTabIndex,currentTabs:t,tabParams:a.tabParams.tabslist[a.clickTabIndex]}})],1):"commonForm"==e.goRoute?n("commonForm",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,_moduleId:e.params.moduleId,_pk:e.params.pk,_formId:e.params.formId,_params:e.params||{}}}):"diskFile"==e.goRoute?n("diskFile",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,params:e,mainKeyWord:a.realKeyWord}}):"cdReportIndex"==e.goRoute?n("keep-alive",[n("cdReportIndex",{attrs:{currentTabs:t,clickTabIndex:a.clickTabIndex,params:e,mainKeyWord:a.realKeyWord}})],1):n("tab-todo",{attrs:{params:e}})],1)}),1)],1)},[],!1,null,"e00f8b7e",null).exports},21436:function(e,t,a){a.r(t),a.d(t,{default:function(){return i}});var n,t=a(77193),o=(a(88152),a(58086)),s=a(50073),r=a(25108),o={components:((0,t.Z)(n={},o.Z.name,o.Z),(0,t.Z)(n,"formTab",s.default),n),data:function(){return{fontSizeClassArr:[{text:"中",value:"middle-font-size",slider:0},{text:"大",value:"large-font-size",slider:1}],value:1,oldClass:"",newClass:"",formData:{main:{A0001:{value:"预览字体大小"},A0002:{value:"拖动下面的滑块，可设置字体大小"},A0003:{value:"设置后，会改变整体应用的字体大小，如使用过程中存在问题，请反馈给开发团队"}}},formMeta:{controls:[{controlId:"BKEK9XriZnDZGCm9",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"字体大小",metaId:"A0001",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}},{controlId:"jMaHocndkoqROCCj",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"设置方式",metaId:"A0002",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}},{controlId:"BKEK9XriZnDZGCm0",controlType:"controlTextBox",defaultValue:{},enumData:[],extra:{},label:"示例",metaId:"A0003",placeholder:{},privilege:{editable:!1,visible:!0},restrict:{},show:1,propertyShow:1,showLabel:!0,showLable:!0,validator:{}}],parameters:{}}}},computed:{},watch:{value:function(t,e){r.log(t);var a=this.fontSizeClassArr.find(function(e){return e.slider==t}).value,n=$("body").attr("class").split(" ").find(function(e){return-1<e.indexOf("font-size")})||"";this.newClass=a,$("body").removeClass(n),$("body").addClass(this.newClass)}},created:function(){var e,t=this;this.oldClass=$("body").attr("class").split(" ").find(function(e){return-1<e.indexOf("font-size")})||"",r.log(this.fontSizeClassArr.find(function(e){return e.value==t.oldClass})),this.value=null==(e=this.fontSizeClassArr.find(function(e){return e.value==t.oldClass}))?void 0:e.slider,r.log(this.value)},methods:{confirm:function(){dsf.util.saveToLocalStore("fontSizeClass",this.newClass),this.$router.go(-1)},back:function(){r.log(this.newClass,this.oldClass),$("body").removeClass(this.newClass),$("body").addClass(this.oldClass),this.$router.go(-1)}}},i=(0,a(51900).Z)(o,function(){var t=this,a=t._self._c;return a("div",{staticClass:"setFontSize"},[a("van-nav-bar",{attrs:{title:"设置字体大小","left-text":"返回","left-arrow":""},on:{"click-left":t.back},scopedSlots:t._u([{key:"right",fn:function(){return[a("span",{staticClass:"color_green font_17",on:{click:t.confirm}},[t._v("使用")])]},proxy:!0}])}),t._v(" "),a("formTab",{attrs:{formData:t.formData,formMeta:t.formMeta}}),t._v(" "),a("div",{staticClass:"slider",staticStyle:{padding:"20px 20px 36px"}},[a("div",{staticClass:"fontA"},t._l(t.fontSizeClassArr,function(e){return a("span",{key:e.value,style:{fontSize:0==e.slider?"0.28rem":"0.32rem"}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0),t._v(" "),a("van-slider",{attrs:{"active-color":"#ee0a24",step:1,min:0,max:1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},[],!1,null,"812b038e",null).exports}}]);