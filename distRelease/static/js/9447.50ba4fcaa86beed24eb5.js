"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[9447],{9447:function(t,s,e){e.r(s),e.d(s,{default:function(){return a}});var n=e(25108),s={data:function(){return{message:"",currentDate:""}},created:function(){var t=this;setInterval(function(){t.currentDate=dsf.date.format(new Date,"hh:ii:ss")},1e3)},methods:{scan:function(){var s=this;"app"==dsf.util.getClientName()?xsfBarcode.scan(function(t){n.log(t),dsf.layer.closeLoading(s.loading),t.text?(t=JSON.parse(t.text),dsf.http.Axios.post(dsf.url.getWebPath("ctrl/DutyForMobiles/signIn"),t,{headers:{"x-auth-token":dsf.util.loadSessionStore("loginToken"),"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){s.message=t.data.message})):dsf.layer.toast("该二维码无效")},function(t){dsf.layer.closeLoading(s.loading),dsf.layer.toast("扫码失败")}):dsf.layer.toast("需在app中进行扫码")}}},a=(0,e(51900).Z)(s,function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"signIn",on:{click:t.scan}},[s("span",[t._v("签到")]),t._v(" "),s("span",[t._v(t._s(t.currentDate))])]),t._v(" "),s("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._v(" "),t._m(0)])},[function(){var t=this,s=t._self._c;return s("div",{staticClass:"box"},[s("div",[t._v("请点击签到")]),t._v(" "),s("div",[t._v("扫描值班人员提供的二维码信息")])])}],!1,null,"049864ea",null).exports}}]);