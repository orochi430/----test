"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[58220],{92280:function(a,e,E){E.r(e);var t=E(8450),n=E.n(t),t=E(73473),m=E.n(t),I=E(25108),t={};function f(a){return a.replace(/-/g,"/")}function D(a,e,E){if(I.log("计算预计解封时间"),a.main["C-EPIDEMIC_PREVENT-0013"].value.length&&a.main["C-EPIDEMIC_PREVENT-0015"].value.length){var t=0,m=a.main["C-EPIDEMIC_PREVENT-0013"].value;if("1"==m||"9"==m||"10"==m)E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0001",{value:""}),E.$set(E.formData.main,"B0005",{value:""});else{switch(m){case"2":case"3":case"4":case"5":t=14;break;case"8":t=2;break;case"11":t=14;break;case"12":case"13":t=7;break;case"14":t=10;break;case"15":t=2}m=dsf.date.addDate(new Date(f(a.main["C-EPIDEMIC_PREVENT-0015"].value)),t);E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0001",{value:dsf.date.format(m,"yyyy-mm-dd hh:ii:00")}),C(a,0,E)}}}function C(a,e,E){I.log("计算解封时间"),E.$set(E.formData.main,"B0005",{value:a.main["C-EPIDEMIC_PREVENT-0001"].value}),I.log("解封时间",a.main.B0005.value)}function P(a,e,E){I.log("计算管控类型");var t={};"6"==a.main["C-EPIDEMIC_PREVENT-0021"].value?(E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0022",t={text:"次密接",value:"3"}),E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0023",t)):"7"==a.main["C-EPIDEMIC_PREVENT-0021"].value&&(E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0022",t={text:"健康管理",value:"2"}),E.$set(E.formData.main,"C-EPIDEMIC_PREVENT-0023",{text:"高危筛选",value:"5"})),I.log("隐藏管控类型：",n()(a.main["C-EPIDEMIC_PREVENT-0022"])),I.log("管控类型：",n()(a.main["C-EPIDEMIC_PREVENT-0023"]))}t.initHandle=function(E,t,m){"5"!=E.main["C-EPIDEMIC_PREVENT-0013"].value&&m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0021",{value:""}),m.$bus.on("inputRadio",function(a){"C-EPIDEMIC_PREVENT-0021"==a.metaData.metaId&&P(E,0,m)}),m.$bus.on("checkVal",function(a){if("C-EPIDEMIC_PREVENT-0013"==a.metaData.metaId){m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0021",{value:""}),D(E,0,m);var e={};switch(a.value){case"2":m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"确诊",value:"7"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",e);break;case"14":m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"密接",value:"4"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",e);break;case"11":case"3":case"4":m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"健康管理",value:"2"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",{text:"高危筛选",value:"5"});break;case"5":t.controls.find(function(a){return"C-EPIDEMIC_PREVENT-0021"==a.metaId}).show=!0,P(E,0,m);break;case"8":case"9":case"10":case"12":case"13":case"15":case"16":m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"健康管理",value:"2"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",{text:"社区管理",value:"6"});break;case"20":m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"健康管理",value:"2"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",e);break;default:m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0022",e={text:"未隔离",value:"1"}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0023",e),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0015",{value:""}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0001",{value:""}),m.$set(m.formData.main,"C-EPIDEMIC_PREVENT-0016",{value:""})}I.log("隐藏管控类型：",n()(E.main["C-EPIDEMIC_PREVENT-0022"])),I.log("管控类型：",n()(E.main["C-EPIDEMIC_PREVENT-0023"]))}}),m.$bus.on("selectDateTime",function(a){"C-EPIDEMIC_PREVENT-0015"==a.metaData.metaId&&D(E,0,m),"C-EPIDEMIC_PREVENT-0001"==a.metaData.metaId&&C(E,0,m)})},t.saveFilter=function(s,a,u){return new(m())(function(e,a){try{var E,t=s.main["C-EPIDEMIC_PREVENT-0013"].value,m=s.main["C-EPIDEMIC_PREVENT-0013"].text,n=("5"==t?u.$set(u.formData.main,"C-EPIDEMIC_PREVENT-0017",{value:s.main["C-EPIDEMIC_PREVENT-0021"].value,text:s.main["C-EPIDEMIC_PREVENT-0021"].text}):u.$set(u.formData.main,"C-EPIDEMIC_PREVENT-0017",{value:t,text:m}),s.main["C-EPIDEMIC_PREVENT-0001"].value),I=s.main["C-EPIDEMIC_PREVENT-0016"].value,D=(new Date(f(dsf.date.format(new Date(f(n)),"yyyy-mm-dd"))),new Date(f(dsf.date.format(new Date(f(I)),"yyyy-mm-dd"))),I&&u.$set(u.formData.main,"B0005",{value:I}),"1"==s.main["C-EPIDEMIC_PREVENT-0012"].value?(E=dsf.date.addDate(new Date,1),u.$set(u.formData.main,"C-EPIDEMIC_PREVENT-0009",{value:dsf.date.format(E,"yyyy-mm-dd hh:ii:00")})):u.$set(u.formData.main,"C-EPIDEMIC_PREVENT-0009",{value:""}),new Date(f(dsf.date.format(new Date(f(s.main["C-EPIDEMIC_PREVENT-0006"].value)),"yyyy-mm-dd")))),C=new Date(f(dsf.date.format(new Date(f(s.main["C-EPIDEMIC_PREVENT-0009"].value)),"yyyy-mm-dd"))),P=(dsf.date.diffDays(D,C),new Date(f(dsf.date.format(new Date(f(s.main["C-EPIDEMIC_PREVENT-0015"].value)),"yyyy-mm-dd"))),new Date(f(dsf.date.format(new Date(f(s.main.B0005.value)),"yyyy-mm-dd"))),dsf.date.format(new Date,"yyyy-mm-dd")),i=dsf.date.format(new Date(f(s.main.B0013.value)),"yyyy-mm-dd");u.$set(u.formData.main,"B0013",{value:dsf.date.format(new Date,"yyyy-mm-dd hh:ii:00")}),i!=P?a("上报时间必须为当天"):"1"!=t&&"16"!=t&&"20"!=t&&"1"==s.main["C-EPIDEMIC_PREVENT-0011"].value?a("隔离期间不允许选择办公场所上班"):e()}catch(a){e()}})},t.changUser=function(a,e,E){E.$router.push({name:"checklogin",query:{changUser:1}})},t.GoList=function(a,e,E){E.$eventBus.refresh(E,{text:123}),E.$router.push({name:"commonList",params:{listId:"220317182010dMuHAbBvsDpqMU6srLe",moduleId:"220317175747dleuT8ffDHmcbcz0aHg"},query:{title:"疫情防控信息上报"}})},e.default=t}}]);