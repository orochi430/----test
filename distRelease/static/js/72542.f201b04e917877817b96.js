"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[72542],{72542:function(t,a,s){s.r(a),s.d(a,{default:function(){return d}});var a=s(26243),i=s.n(a),a=s(62680),n=s.n(a),a=s(95366),c=s.n(a),a=s(6919),e=s.n(a),r=s(77193),a=s(20629),l=s(90541),o=s(25108);function v(a,t){var s,e=i()(a);return n()&&(s=n()(a),t&&(s=s.filter(function(t){return c()(a,t).enumerable})),e.push.apply(e,s)),e}var a={name:"effectivenessDetail",props:[],components:{},data:function(){return{topData:{number:"",avg:"",max:"",cycle:""},active:0,pk:"",formTabs:[{id:0,title:"我的耗时",data:[]},{id:1,title:"处室耗时",data:[]},{id:2,title:"全部",data:[]}]}},created:function(){this.pk=this.$route.query.pk,this.getTimer(),this.getTbas()},mounted:function(){},activated:function(){},computed:function(a){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?v(Object(s),!0).forEach(function(t){(0,r.Z)(a,t,s[t])}):e()?Object.defineProperties(a,e()(s)):v(Object(s)).forEach(function(t){Object.defineProperty(a,t,c()(s,t))})}return a}({},(0,a.rn)({isShowAppHeader:function(t){return t.isShowAppHeader}})),watch:{},methods:{change:function(t){o.log(t),this.getTbas(0==t?"user":1==t?"dept":"all")},getTimer:function(){var n=this,a=l.Z.layer.loading();l.Z.http.post("/fn/toScreen/formTimeSpentStatistics",{pk:this.pk}).then(function(t){var a,s,e,i;"success"===t.data.type?(a=(i=t.data.data).number,s=i.cycle,e=i.avg,i=i.max,n.topData={number:a,cycle:s,avg:e,max:i}):l.Z.layer.toast(t.data.message)}).error(function(t){l.Z.layer.closeLoading(a),o.log(t)})},getTbas:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"user",s=l.Z.layer.loading(),e=this;l.Z.http.post("/fn/toScreen/formTimeSpentDetail",{pk:this.pk,type:a}).then(function(t){"success"===t.data.type?(l.Z.layer.closeLoading(s),"all"==a?(e.formTabs[2].data=[],t.data.data.forEach(function(t,a){a={id:a+1,name:t.uname,timer:t.timepasses,content:t.actname};e.formTabs[2].data.push(a)})):"user"==a?(e.formTabs[0].data=[],t.data.data.forEach(function(t,a){a={id:a+1,name:t.uname,timer:t.timepasses,content:t.actname};e.formTabs[0].data.push(a)})):(e.formTabs[1].data=[],t.data.data.forEach(function(t,a){a={id:a+1,name:t.uname,timer:t.timepasses,content:t.actname};e.formTabs[1].data.push(a)}))):l.Z.layer.toast(t.data.message)}).error(function(t){l.Z.layer.closeLoading(s),o.log(t)})}}},d=(0,s(51900).Z)(a,function(){var a=this,s=a._self._c;return s("div",{staticClass:"effectivenessDetail",style:{height:a.isShowAppHeader?"calc(100vh - 0.92rem)":"100vh"}},[s("div",{staticClass:"top"},[s("div",{staticClass:"main"},[s("div",{staticClass:"item"},[s("div",{staticClass:"num"},[a._v(a._s(a.topData.number))]),a._v(" "),s("div",{staticClass:"gray"},[a._v("累计流转（次）")])]),a._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"num"},[a._v(a._s(a.topData.cycle))]),a._v(" "),s("div",{staticClass:"gray"},[a._v("流转周期（小时）")])]),a._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"num"},[a._v(a._s(a.topData.avg))]),a._v(" "),s("div",{staticClass:"gray"},[a._v("平均耗时（小时）")])]),a._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"num"},[a._v(a._s(a.topData.max))]),a._v(" "),s("div",{staticClass:"gray"},[a._v("最长耗时（小时）")])])]),a._v(" "),s("div",{staticClass:"line"})]),a._v(" "),s("div",{staticClass:"tab"},[a._m(0),a._v(" "),s("van-tabs",{on:{change:a.change},model:{value:a.active,callback:function(t){a.active=t},expression:"active"}},a._l(a.formTabs,function(t){return s("van-tab",{key:t.id,attrs:{title:t.title}},[0!=t.data.length?s("div",{staticClass:"list"},[s("div",{staticClass:"table"},[s("div",{staticClass:"gray"},[a._v("序号")]),a._v(" "),s("div",{staticClass:"gray"},[a._v("姓名")]),a._v(" "),s("div",{staticClass:"gray"},[a._v("耗时")]),a._v(" "),s("div",{staticClass:"gray fll"},[a._v("处理环节")])]),a._v(" "),s("div",{staticClass:"box"},a._l(t.data,function(t){return s("div",{key:t.id,staticClass:"list_item"},[s("div",{staticClass:"gray"},[a._v(a._s(t.id))]),a._v(" "),s("div",{staticClass:"gray"},[a._v(a._s(t.name))]),a._v(" "),s("div",{staticClass:"gray"},[a._v(a._s(t.timer)+"分钟")]),a._v(" "),s("div",{staticClass:"fll elps"},[a._v(a._s(t.content))])])}),0)]):s("commonempty",{attrs:{description:"暂无数据"}})],1)}),1)],1)])},[function(){var t=this,a=t._self._c;return a("div",{staticClass:"title"},[a("div",{},[a("span",{staticClass:"blue"}),t._v(" "),a("span",{staticClass:"yellow"}),t._v(" "),a("span",{staticClass:"bold"},[t._v("耗时明细")])])])}],!1,null,"304734f5",null).exports}}]);