"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[52531],{52531:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var t=n(8450),r=n.n(t),o=n(25108),t={name:"treeMenus",components:{},data:function(){return{currentMenu:{},allMenus:[]}},computed:{},watch:{},methods:{getMenuRollById:function(e){if(e.id===this.$route.query.menuId)return e;for(var t=e.children,n=0;n<t.length;n++){var r=this.getMenuRollById(t[n]);if(r)return r}},getMenu:function(){var t;this.$route.query.menuId&&(t=this,dsf.http.post("fn/newFile/shortcutDing",{}).then(function(e){o.log(e),e.data&&200==e.data.code&&e.data.data&&(t.allMenus=e.data.data,e=t.getMenuRollById({id:"===",children:e.data.data}),o.log(e),e.children&&0==e.children.length?dsf.layer.alert({message:"当前菜单配置错误，不允许直接配置叶子菜单节点，请联系管理员！"}):(t.currentMenu=e,t.$store.commit("changePageTitle",e.shortcutName)))}))},openDDApp:function(e){dd.biz.microApp.openApp({agentId:e,onSuccess:function(e){},onFail:function(e){}})},goRoute:function(e){var t=this;e.router=e.actUrl?dsf.util.getReplaceUrl(e.actUrl.trim()):"",setTimeout(function(){e.children&&0<e.children.length?t.$router.push({name:"treeMenus",query:{menuId:e.id}}):""==e.router||null==e.router?dsf.layer.alert({message:e.showClickTip||"当前菜单配置错误，请联系管理员！"}):e.type&&3==e.type?t.openDDApp(e.router):2==e.type?dsf.config.ddSetting.isDing?dd.biz?dd.biz.util.openLink({url:e.router,onSuccess:function(e){},onFail:function(e){}}):dd.openLink({url:e.router}).then(function(e){o.log(e)}).catch(function(e){}):window.wx?wx.invoke("openUrl",{type:0,url:e.router},function(e){e.err_msg}):e.props&&"1"==e.props.OpenWebView?xsfWindow.openWebView({title:e.name,url:e.router,colorString:"#111111"}):e.props&&"1"==e.props.OpenLocationHref?location.href=e.router:t.$router.push({name:"dsfIframe",query:{url:e.router,title:e.name}}):e.props?e.props.props&&t.$router.push({path:e.router,query:JSON.parse(r()(e.props))}):t.$router.push({path:e.router,query:{title:e.name}})},100)}},created:function(){},mounted:function(){this.getMenu()},activated:function(){},destroyed:function(){}},u=(0,n(51900).Z)(t,function(){var n=this,r=n._self._c;return r("div",{staticClass:"treeMenus"},[r("div",{staticClass:"menus"},n._l(n.currentMenu.children,function(t,e){return r("div",{key:e,staticClass:"list",on:{click:function(e){return n.goRoute(t)}}},[r("p",{staticClass:"img"},[r("img",{attrs:{src:t.shortcutIcon,alt:"",srcset:""}})]),n._v(" "),r("p",{staticClass:"names"},[r("span",[n._v(n._s(t.shortcutName))]),n._v(" "),r("span")]),n._v(" "),r("van-icon",{attrs:{color:"#ccc",size:"16px",name:"arrow"}})],1)}),0)])},[],!1,null,"7bbd7f9d",null).exports}}]);