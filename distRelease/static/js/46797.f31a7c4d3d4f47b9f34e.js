"use strict";(self.webpackChunkxianzhengding=self.webpackChunkxianzhengding||[]).push([[46797],{66240:function(e,t,n){n.r(t);var a=n(73473),i=n.n(a),u=n(90541),l=(n(88561),n(25108)),a={};function s(e){var t;if(18==e.length)t=e.substring(16,17);else{if(15!=e.length)return"";t=e.substring(14,15)}return 0==t%2?"F":"M"}function d(e){var t;if(18==e.length)t=e.substring(6,14);else{if(15!=e.length)return"";t="19"+e.substring(6,12)}return t.substring(0,4)+"-"+t.substring(4,6)+"-"+t.substring(6,8)}a.initHandle=function(t,e,n){e.controls.find(function(e){return"C-EXPO-COMMUNITY-USER-0022"==e.metaId}).extra.canCropper=!0,n.pk||n.$set(n.formData.main,"C-EXPO-COMMUNITY-USER-0023",{value:n.$route.query.fid});var a=e.controls.find(function(e){return"C-EXPO-COMMUNITY-USER-0002"==e.metaId}),i=e.controls.find(function(e){return"C-EXPO-COMMUNITY-USER-0020"==e.metaId}),r=e.controls.find(function(e){return"C-EXPO-COMMUNITY-USER-0034"==e.metaId});i.privilege.editable=!1,r.privilege.editable=!1,n.$bus.on("inputRadio",function(e){"C-EXPO-COMMUNITY-USER-0035"===e.metaData.metaId&&("1"==t.main["C-EXPO-COMMUNITY-USER-0035"].value?(i.privilege.editable=!1,r.privilege.editable=!1):(delete a.validator.identity,i.privilege.editable=!0,r.privilege.editable=!0))}),n.$bus.on("blurBus",function(e){l.log(e),"C-EXPO-COMMUNITY-USER-0002"==e.metaData.metaId&&1==t.main["C-EXPO-COMMUNITY-USER-0035"].value&&(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e.value)?(s(e.value)&&n.$set(n.formData.main,"C-EXPO-COMMUNITY-USER-0020",{value:"M"==s(e.value)?"1":"2",text:"M"==s(e.value)?"男":"女"}),d(e.value)&&n.$set(n.formData.main,"C-EXPO-COMMUNITY-USER-0034",{value:d(e.value)})):(u.Z.layer.toast("身份证号码不正确，请重新输入"),n.$set(n.formData.main,"C-EXPO-COMMUNITY-USER-0002",{value:""})))})},a.saveFilter=function(n,e,t,a){return new(i())(function(e,t){"save"!=a&&"send"!=a||1!=n.main["C-EXPO-COMMUNITY-USER-0035"].value||/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(n.main["C-EXPO-COMMUNITY-USER-0002"].value)?e():t("身份证号码不正确，请重新输入")})},t.default=a}}]);