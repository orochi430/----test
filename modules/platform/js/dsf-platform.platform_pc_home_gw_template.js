/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[46],{1156:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page-home-dw-header"},[o("div",{staticClass:"site-info"},[o("a",{staticClass:"site-info-name",attrs:{href:e.indexUrl}},[o("img",{attrs:{src:e.logoUrl,alt:""}})])]),o("div",{staticClass:"page-home-dw-header-box"},[o("div",{staticClass:"page-home-dw-header-menu"},[e._l(e.menuList,(function(t){return[o("div",{key:t.menu_id,staticClass:"page-home-dw-header-menu-item",class:{active:t.menu_id===e.activeKey}},[o("span",{on:{click:function(o){return e.menuClick(t)}}},[e._v(e._s(t.menu_name))])])]}))],2),o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],nativeOn:{submit:function(e){e.preventDefault()}}},[o("div",{staticClass:"page-home-dw-header-search",class:{focus:e.searchFocus}},[o("div",{staticClass:"page-home-dw-header-search-input"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchText,expression:"searchText",modifiers:{trim:!0}}],attrs:{placeholder:e.searchPlaceholder,type:"text"},domProps:{value:e.searchText},on:{focus:function(t){e.searchFocus=!0},blur:[function(t){e.searchFocus=!1},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.searchText=t.target.value.trim())}}}),o("i",{staticClass:"iconfont icon-sousuo",on:{click:e.search}})]),o("div",{staticClass:"page-home-dw-header-search-bt",on:{click:function(t){return e.$emit("super-search")}}},[e._v("高级查询")])]),o("button",{staticStyle:{display:"none"},on:{click:e.search}})])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showLogout,expression:"showLogout"}],staticClass:"page-home-dw-header-logout"},[o("span",{staticClass:"logout-bt",on:{click:function(t){return e.$emit("logout")}}},[o("i",{staticClass:"iconfont icon-weitongguo"}),e._v(" 关闭 ")])])])},a=[],i=o(4),n=o.n(i),r=o(1),c=o.n(r),u=o(40),l={name:"DsfGwHomeHeader",inject:["homeRoot"],props:{logoUrl:{type:String,default:""},indexUrl:{type:String,default:""},searchPlaceholder:{type:String,default:"请输入搜索内容"},showSearch:{type:Boolean,default:!0},showLogout:{type:Boolean,default:!0},itemClick:{type:Function,required:!1}},data:function(){return{active:-1,searchText:"",searchFocus:!1}},computed:{menuList:function(){return this.homeRoot.$menuList||[]},activeKey:function(){return this.homeRoot.menuKey.length>0?this.homeRoot.menuKey[0]:""}},watch:{"$route.query.keyword":{handler:function(e){this.searchText=e},immediate:!0},searchText:{handler:function(e){this.$root.searchText=e},immediate:!0}},created:function(){this.homeRoot.setHomeControl("DsfGwHomeHeader",this),this.homeRoot.setPosition("top","86px")},mounted:function(){this.scrollBox=document.querySelector(".ds-page-home-view"),this.searchText=this.$route.query["keyword"]||""},beforeDestroy:function(){this.homeRoot.removeHomeControl("DsfGwHomeHeader")},methods:{menuClick:function(e){var t=this;return n()(c.a.mark((function o(){var s;return c.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.itemClick){o.next=6;break}return o.next=3,t.itemClick(e);case 3:if(s=o.sent,!1!==s){o.next=6;break}return o.abrupt("return");case 6:u["a"].openPage.call(t.homeRoot,u["a"].findMenu(e)),e.menu_id!==t.activeKey?t.scrollBox.scroll({top:0}):t.scrollBox.scroll({top:0,behavior:"smooth"});case 8:case"end":return o.stop()}}),o)})))()},search:function(){var e=this.searchText;this.$emit("search",e)}}},h=l,m=(o(755),o(0)),d=Object(m["a"])(h,s,a,!1,null,null,null);t["default"]=d.exports},558:function(e,t,o){var s=o(756);"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=o(19).default;a("4004ca50",s,!0,{sourceMap:!1,shadowMode:!1})},755:function(e,t,o){"use strict";o(558)},756:function(e,t,o){"use strict";o.r(t)}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_pc_home_gw_template.js.map