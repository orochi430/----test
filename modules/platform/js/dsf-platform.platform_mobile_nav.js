/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[22],{1175:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-demo-browser-nav-bar phone-state",staticStyle:{"background-color":"var(--t--main)"}},[t._m(0),i("div",{staticClass:"__center"},[t._v(" "+t._s(t.dsf.date.format(t.time,"hh:ii"))+" ")]),t._m(1)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"__left"},[i("i",{staticClass:"iconfont icon-xinhao1 ds-font5"}),t._v(" 运营商 "),i("i",{staticClass:"iconfont icon-xinhao2 ds-font5"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"__right"},[t._v(" 80% "),i("i",{staticClass:"iconfont icon-80dianliang ds-font5"})])}],s={name:"DsfDemoBrowserNavBar",props:{title:{type:String,default:"无标题"},goBack:{type:Function,default:dsf.noop},showBack:{type:Boolean,default:!1}},data:function(){return{time:new Date}},computed:{isDemo:function(){return this.$root.isDemo}},methods:{}},r=s,o=(i(793),i(0)),l=Object(o["a"])(r,n,a,!1,null,null,null);e["default"]=l.exports},1176:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"ds-control mobile ds-banner",class:{"ds-no-padding":!t.padding},style:t.swipeBoxStyle},[t.reload?i("van-swipe",{ref:"swipe",staticClass:"banner-swipe",style:t.swipeHeight,attrs:{loop:t.loop,autoplay:t.autoPlay,duration:t.duration,height:t.height,"show-indicators":t.showIndicators,vertical:t.vertical,touchable:t.touchable,"indicator-color":t.indicatorColor},on:{change:function(e){t.activeIndex=e}},scopedSlots:t._u([t.showIndicators?{key:"indicator",fn:function(){return[i("div",{staticClass:"ds-custom-indicator"},t._l(t.data,(function(e,n){return i("div",{key:"ds-banner-item-"+n,class:["ds-custom-indicator-item",{active:t.activeIndex===n}],style:{backgroundColor:t.activeIndex===n?t.indicatorColor:t.indicatorDefaultColor}})})),0)]},proxy:!0}:null],null,!0)},t._l(t.images,(function(e,n){return i("van-swipe-item",{key:"ds-banner-item-"+n,on:{click:function(i){return t.onSwipeClick(i,e)}}},[t._t("default",(function(){return[i("div",{staticClass:"ds-banner-item",style:t.containerStyles,attrs:{slot:"default"},slot:"default"},[i("van-image",{style:t.imgStyles,attrs:{src:e.image,radius:t.pxToRem(t.borderRadius),"error-src":t.errorSrc,width:"100%"},on:{dragstart:function(t){t.preventDefault(),t.stopPropagation()}}})],1)]}),null,e)],2)})),1):t._e(),t.showButton?[i("div",{staticClass:"ds-banner-btn dbt-l",on:{click:t.prev}},[i("i",{staticClass:"iconfont icon-zuo"})]),i("div",{staticClass:"ds-banner-btn dbt-r",on:{click:t.next}},[i("i",{staticClass:"iconfont icon-weibiaoti34"})])]:t._e()],2)},a=[],s=i(3),r=i.n(s),o=i(46),l=i.n(o),u=i(108),d=i.n(u);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f=dsf.component({name:"DsfMobileBanner",mixins:[$mixins.control],ctrlCaption:"轮播图",props:{height:{type:String,default:"150px"},list:{type:Array,default:function(){return[{image:l.a},{image:d.a}]}},url:{type:String,default:""},showButton:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},padding:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},indicatorDefaultColor:{type:String,default:""},indicatorColor:{type:String,default:""},autoPlay:{type:[String,Number],default:3e3},loop:{type:Boolean,default:!0},duration:{type:Number,default:500},borderRadius:{type:[String,Number],default:"0px"},toUrl:{type:String,default:""},max:{type:Number,default:0},imageKeyName:{type:String,default:"image"},titleKeyName:{type:String,default:"title"},descKeyName:{type:String,default:"desc"},errorSrc:{type:String,default:""}},computed:{swipeBoxStyle:function(){return{borderRadius:this.pxToRem(this.borderRadius),overflow:"hidden"}},containerStyles:function(){return{height:this.pxToRem(this.height)}},imgStyles:function(){return h({},this.containerStyles)},swipeHeight:function(){return this.vertical?{height:this.pxToRem(this.height)}:{}},swipeProps:function(){return{loop:this.loop}},images:function(){var t=this.data,e=this.max;return e?(t||[]).slice(0,e):t}},data:function(){return{data:[],activeIndex:0,reload:!0}},activated:function(){this.$refs.swipe&&this.$refs.swipe.swipeTo(this.activeIndex)},mounted:function(){},created:function(){if(this.isDesign){var t=[];t=this.list.length?this.list:[{image:""},{image:""}],this.loadStaticData(t)}else this.url?this.loadData():this.loadStaticData(this.list)},destroyed:function(){},methods:{resize:function(){this.$refs.swipe.resize()},prev:function(){this.$refs.swipe.prev()},next:function(){this.$refs.swipe.next()},validateApiFiled:function(t){if(Array.isArray(t.data)){var e=t.data.every((function(t){return"[object Object]"===Object.prototype.toString.call(t)&&Object.prototype.hasOwnProperty.call(t,"image")}));e||console.error("\n            接口数据格式请参考: \n\n            [{\n\n              image: '',\n\n              title: '',\n\n              desc: ''\n\n            }]\n          ")}else console.error("数据源必须为数组")},formatApiData:function(t){if(!Array.isArray(t))return[];var e=this.imageKeyName,i=this.titleKeyName,n=this.descKeyName;return t.map((function(t){var a=dsf.getFilePath(t[e]);return h(h({url:""},t),{},{image:a,title:t[i],desc:t[n]})}))},loadData:function(){var t=this,e=this.$replace(this.url,this);this.$http.get(e).then((function(e){var i=e.data;t.data=t.formatApiData(i.data)}))},loadStaticData:function(t){this.data=[];var e=dsf.mix(!0,[],t);_.each(e,(function(t){t.image=dsf.url.getWebPath(t.image)})),this.data=e},onSwipeClick:function(t,e){if(this.$listeners["click"])this.$dispatch("click",e);else if(e.url)this.$open({url:e.url});else if(this.toUrl){var i=this.$replace(this.toUrl,e);this.$router.push({path:dsf.url.toRoutePath(i)})}}},watch:{list:function(t,e){this.url||this.loadStaticData(t)},vertical:function(t,e){var i=this;this.reload=!1,this.$nextTick((function(){i.reload=!0}))}}}),p=f,m=i(0),g=Object(m["a"])(p,n,a,!1,null,null,null);e["default"]=g.exports},1177:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-nav-menu mobile",class:t.rootClass},[1==t.pages?i("div",{staticClass:"ds-nav-menu-group"},t._l(t.menuList[0],(function(e){return i("div",{key:e._id,staticClass:"ds-nav-menu-item",class:{hide:e.hide},style:t.itemStyle},[i("div",{staticClass:"ds-nav-menu-item-bt",on:{click:function(i){e.hide||t._clickBefore(t.onClick,e)}}},[e["mark_type"]?i("div",{staticClass:"dsf-convenient-menu-item mobile"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.badges[e["id"]]&&t.badges[e["id"]]["num"]>0,expression:"badges[item['id']] && badges[item['id']]['num'] > 0"}],staticClass:"angle-mark text"},[t._v(" "+t._s(t.badges[e["id"]]&&t.badges[e["id"]]["num"])+" ")])]):t._e(),i("van-image",{style:[t.itemBgStyle,t.getItemStyle(e)],attrs:{src:t._f("imgFormat")(t.getImgUrl(e))},scopedSlots:t._u([{key:"error",fn:function(){return[i("i",{staticClass:"iconfont",class:[t.getIcon(e.icon)],style:[t.itemIconStyle,t.getIconStyle(e)]})]},proxy:!0}],null,!0)}),i("div",{staticClass:"ds-nav-menu-item-name"},[t._v(t._s(e.name||""))])],1)])})),0):i("van-swipe",{attrs:{loop:!1,"initial-swipe":t.initialSwipe},on:{change:t.swiperChange}},t._l(t.menuList,(function(e,n){return i("van-swipe-item",{key:n},[i("div",{staticClass:"ds-nav-menu-group"},t._l(e,(function(e){return i("div",{key:e._id,staticClass:"ds-nav-menu-item",class:{hide:e.hide},style:t.itemStyle},[i("div",{staticClass:"ds-nav-menu-item-bt",on:{click:function(i){e.hide||t._clickBefore(t.onClick,e)}}},[e["mark_type"]?i("div",{staticClass:"dsf-convenient-menu-item mobile"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.badges[e["id"]]&&t.badges[e["id"]]["num"]>0,expression:"badges[item['id']] && badges[item['id']]['num'] > 0"}],staticClass:"angle-mark text"},[t._v(" "+t._s(t.badges[e["id"]]&&t.badges[e["id"]]["num"])+" ")])]):t._e(),i("van-image",{style:[t.itemBgStyle,t.getItemStyle(e)],attrs:{src:t._f("imgFormat")(t.getImgUrl(e))},scopedSlots:t._u([{key:"error",fn:function(){return[i("i",{staticClass:"iconfont",class:[t.getIcon(e.icon)],style:[t.itemIconStyle,t.getIconStyle(e)]})]},proxy:!0}],null,!0)}),i("div",{staticClass:"ds-nav-menu-item-name"},[t._v(t._s(e.name||""))])],1)])})),0)])})),1)],1)},a=[],s=i(2),r=i.n(s),o=i(3),l=i.n(o);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){l()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=dsf.component({name:"DsfMobileNavMenu",mixins:[$mixins.control],ctrlCaption:"快捷菜单",design:{isMask:!1},props:{colNum:{type:Number,default:5},rowNum:{type:Number,default:0},maxPages:{type:Number,default:0},heightType:{type:String,default:"auto"},useDefaultStyle:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},moreText:{type:String,default:"更多"},moreIcon:{type:String,default:"icon-quanbu"},moreUrl:{type:String,default:""},showPriority:{type:String,default:"img"},menuHasBg:{type:Boolean,default:!0},menuBgColor:{type:String,default:"#fff"},menuBgShadow:{type:Boolean,default:!0},menuColor:{type:String,default:"theme-linear"},menuShadow:{type:Boolean,default:!0},menuBorderRadius:{type:Number,default:.08},menuBorderSize:{type:Number,default:.8},menuIconSize:{type:Number,default:.48},dataSource:{type:String,default:"http"},dataSourceUrl:{type:String,default:""},dataSourceList:{type:Array,default:function(){return[]}},itemClick:{type:Function,required:!1},clickBefore:{type:Function,required:!1}},data:function(){return{loading:!1,isLoading:!0,initialSwipe:0,data:[]}},computed:d(d({},Vuex.mapState("cornerMark",["badges","menuIds"])),{},{dataList:function(){return!this.isDesign||"http"!=this.dataSource&&this.dataSourceList.length?"http"==this.dataSource?this.data:this.dataSourceList:$mixins.convenientMenu.defaultData},rootClass:function(){var t=[];return this.menuHasBg&&t.push("hasBg"),this.menuBgShadow&&t.push("bgShadow"),this.menuShadow&&t.push("iconShadow"),t},itemStyle:function(){var t=(100/this.colNum).toFixed(2),e=(t*this.colNum>100?t-.01:t)+"%";return{width:e,flex:"0 0 "+e}},itemBgStyle:function(){var t={width:this.menuBorderSize+"rem",height:this.menuBorderSize+"rem","border-radius":this.menuBorderRadius+"rem"};return this.menuHasBg&&(t["background-color"]=this.$compileColor(this.menuBgColor)),t},itemIconStyle:function(){return{"font-size":this.menuIconSize+"rem",color:this.$compileColor(this.menuColor)}},pages:function(){if(!this.rowNum)return 1;var t=Math.ceil(this.dataList.length/this.pageSize);return this.maxPages?Math.min(this.maxPages,t):t},pageSize:function(){return(this.colNum||1)*this.rowNum},moreInfo:function(){return!this.hasMore||this.loading?{}:{_id:"more",imgUrl:"",icon:this.moreIcon,backgroundColor:"",bgColor:"",url:this.moreUrl,name:this.moreText}},menuList:function(){var t=[];if(this.rowNum){for(var e=this.pageSize,i=0;i<this.pages;i++)t.push(this.dataList.slice(i*e,i*e+e));if(t.length||(t=[[]]),this.hasMore){var n=t.length-1<0?null:t[t.length-1];n?(this.maxPages==t.length&&n.length==e&&n.pop(),n.push(this.moreInfo)):t.push([this.moreInfo])}}else t=this.hasMore?[[].concat(r()(this.dataList),[this.moreInfo])]:[this.dataList];if("fixed"==this.heightType&&this.colNum&&t[0].length<this.pageSize)for(var a=0,s=this.pageSize-t[0].length;a<s;a++)t[0].push({id:dsf.uuid(8),hide:!0});return t}}),watch:{dataSourceUrl:function(){this.init()},dataList:function(t,e){t&&t.length>0&&!this.isDesign&&this.getCornerMarkInfo(t)}},created:function(){this.init()},beforeDestroy:function(){clearTimeout(this.__timeout)},methods:{getCornerMarkInfo:function(t){var e=this,i={markTypes:[],menu_ids:[]};_.forEach(t,(function(t){var n=t.mark_type,a=i.markTypes,s=t.id;n&&!e.menuIds.includes(s)&&(i.menu_ids.push(s),a.includes(n)||a.push(n))}));var n=i.markTypes;n.length&&this.$http.get("cornerMark/getMarkIdList",{markTypes:n.join(",")}).done((function(t){t.success&&e.$store.dispatch("cornerMark/init",{markId:t.data,menu_ids:i.menu_ids,type:"DsfMobileNavMenu"})})).error((function(t){dsf.layer.message((null===t||void 0===t?void 0:t.message)||"根据菜单类型获取所有角标业务ID异常",!1)}))},reloadData:function(){this.init()},init:function(){var t=this;if(!this.isDesign&&"http"==this.dataSource){if(""==this.dataSourceUrl)return this.data=[],void this.$dispatch("change",this.data);this.loading=!0;var e=this.$replace(this.dataSourceUrl);this.$http.get(e).done((function(e){var i=e.success,n=e.data,a=e.message;i?(t.data=n,t.loading=!1):dsf.layer.message(a,!1),t.$dispatch("change",t.data)})).error((function(t){dsf.layer.message(t.message,!1)})).always((function(){t.isLoading=!1}))}},swiperChange:function(t){var e=this;clearTimeout(this.__timeout),this.__timeout=setTimeout((function(){e.initialSwipe=t}),500)},_clickBefore:function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];if(!this.isDesign){var s=null===(e=this.clickBefore)||void 0===e?void 0:e.call.apply(e,[this].concat(n));s&&s.then?s.then((function(e){!1!==e&&t.apply(void 0,n)})):!1!==s&&t.apply(void 0,n)}},onClick:function(t){var e=this;if(this.itemClick){var i=this.itemClick(t);if(!1===i)return;if(i.then)return void i.then((function(i){!1!==i&&e.openPage(t)}))}this.openPage(t)},getImgUrl:function(t){var e=t.imgUrl,i=t.icon;return"[]"==e?"":"img"==this.showPriority?e:i?"":e},getItemStyle:function(t){var e=t.backgroundColor;return this.useDefaultStyle||!this.menuHasBg?{}:e?{background:e}:{}},getIconStyle:function(t){var e=t.foreColor;return this.useDefaultStyle?{}:e&&""!=e?{color:e,background:"transparent","-webkit-background-clip":"inherit","-webkit-text-fill-color":"inherit"}:{}},getIcon:function(t){return t&&""!=t?"".concat(t," icon-").concat(t):"icon-icon_yingyongguanli"},openPage:function(t){var e=t.url;if(e&&""!=e){0==e.indexOf("#")&&0!=e.indexOf("#/")&&(e=e.replace("#","#/")),e=this.$replace(e,this.local);var i={url:e,state:t.openType||t.opentype};3==i.state&&(i["title"]=t.dialogTitle||t.name||void 0,i["width"]=t.dialogWidth||"70vw",i["height"]=t.dialogHeight||"60vh"),this.$open(i)}}}}),h=c,f=(i(795),i(0)),p=Object(f["a"])(h,n,a,!1,null,null,null);e["default"]=p.exports},1178:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-nav-menu-cell mobile",class:t.rootClass},[t._t("head"),t._l(t.data,(function(e,n){return[i("div",{key:e._id,class:["ds-nav-menu-cell-item",t.hasIconBoderBottom?"van-hairline--bottom "+t.borderStyle:""],on:{click:function(i){return t._clickBefore(t.onClick,e,n)}}},[i("div",{staticClass:"ds-nav-menu-cell-item-left",style:t.itemStyle},[t._t("row-left-"+e._id,(function(){return[t._t("index-left-"+n,(function(){return[t._t("left",(function(){return[i("div",{staticClass:"ds-nav-menu-cell-item-left-icon",style:t.itemIconBoxStyle},[i("van-image",{style:[t.itemBgStyle,t.getItemStyle(e)],attrs:{src:t._f("imgFormat")(t.getImgUrl(e))},scopedSlots:t._u([{key:"error",fn:function(){return[i("i",{class:["iconfont",t.getIcon(e.icon)],style:[t.itemIconStyle,t.getIconStyle(e)]})]},proxy:!0}],null,!0)}),e[t.badgeKey]?i("div",{staticClass:"ds-nav-menu-cell-item-left-badge",style:t.badgeStyle},[t._v(t._s(t.badgeText(e)))]):t._e()],1)]}),{row:e,$index:n})]}),{row:e,$index:n})]}),{row:e,$index:n})],2),i("div",{class:["ds-nav-menu-cell-item-content",t.hasIconBoderBottom?"":"van-hairline--bottom"],style:t.itemStyle},[i("div",{staticClass:"ds-nav-menu-cell-item-center"},[t._t("row-"+e._id,(function(){return[t._t("index-"+n,(function(){return[t._t("default",(function(){return[i("div",{staticClass:"ds-nav-menu-cell-item-row"},[i("div",{staticClass:"ds-nav-menu-cell-item-title ds-multi-ellipsis-1",style:t.itemTextStyle},[t._v(t._s(e[t.titleKey]||e.name))]),e[t.timeKey]&&e[t.timeKey].length>0?i("div",{staticClass:"ds-nav-menu-cell-item-time"},[t._v(t._s(e[t.timeKey]))]):t._e()]),t._t("row-subtitle-"+e._id,(function(){return[t._t("index-subtitle-"+n,(function(){return[""!=t.subtitleKey?i("div",{staticClass:"ds-nav-menu-cell-item-subtitle",class:["ds-multi-ellipsis-"+t.subtitleLineNum]},[t._v(" "+t._s(e[t._subtitleKey])+" ")]):t._e()]}),{row:e,$index:n})]}),{row:e,$index:n}),e.exts&&e.exts.length?i("div",{staticClass:"ds-nav-menu-cell-item-row exts"},t._l(e.exts,(function(e,n){return i("div",{key:n},[t._v(t._s(e.text)+": "+t._s(e.value))])})),0):t._e()]}),{row:e,$index:n})]}),{row:e,$index:n})]}),{row:e,$index:n})],2),i("div",{staticClass:"ds-nav-menu-cell-item-right"},[t._t("row-right-"+e._id,(function(){return[t._t("index-right-"+n,(function(){return[t._t("right",(function(){return[""!=t.rightIcon?i("i",{staticClass:"ds-nav-menu-cell-item-right-icon iconfont",class:[t.getIcon(t.rightIcon)],style:{height:t.menuBorderSize+"rem"}}):t._e()]}),{row:e,$index:n})]}),{row:e,$index:n})]}),{row:e,$index:n})],2)])])]}))],2)},a=[],s=[{_id:1,picture:i(46),icon:"icon-location-solid",color:"",foreColor:"",openType:"1",badge:"99+",title:"这里是标题",subtitle:"这里是描述，这里是描述，这里是描述，这里是描述，这里是描述，这里是描述",time:"10月1号",url:"",exts:[{text:"已评价",value:"45人"},{text:"未评价",value:"4人"},{text:"请假",value:"1人"}]},{_id:2,picture:"",icon:"icon-xiaolianmanyifuwu",color:"",foreColor:"",openType:"1",badge:!0,title:"这里是标题这里是标题这里是标题这里是标题",subtitle:"这里是描述，这里是描述",time:"10月1号",url:""}],r=dsf.component({name:"DsfMobileNavMenuCell",mixins:[$mixins.control],ctrlCaption:"列导航菜单",design:{isMask:!1},props:{titleKey:{type:String,default:"title"},timeKey:{type:String,default:"time"},subtitleKey:{type:String,default:"subtitle"},badgeKey:{type:String,default:"badge"},subtitleLineNum:{type:Number,default:2},rightIcon:{type:String,default:"icon-arrow-right"},useDefaultStyle:{type:Boolean,default:!1},dataSource:{type:String,default:"http"},dataSourceUrl:{type:String,default:""},dataSourceList:{type:Array,default:function(){return[]}},showPriority:{type:String,default:"img"},menuHasBg:{type:Boolean,default:!0},menuColor:{type:String,default:"theme"},menuBgShadow:{type:Boolean,default:!0},menuForeColor:{type:String,default:"#fff"},menuShadow:{type:Boolean,default:!0},menuBorderRadius:{type:Number,default:.1},menuBorderSize:{type:Number,default:.9},menuIconSize:{type:Number,default:.55},menuTextSize:{type:Number,default:.3},hasIconBoderBottom:{type:Boolean,default:!0},itemBorderStyle:{type:String,default:"style1"},margin:{type:Array,default:function(){return[0,0,0,0]}},padding:{type:Array,default:function(){return[10,10,10,10]}},badgeShowType:{type:String,default:"text"},badgeColor:{type:String,default:"red"},itemClick:{type:Function,required:!1},clickBefore:{type:Function,required:!1}},data:function(){return{loading:!1,isLoading:!0,data:[]}},computed:{borderStyle:function(){return this.itemBorderStyle},itemStyle:function(){var t=this.margin.map((function(t){return dsf.pxToRem(t)})),e=this.padding.map((function(t){return dsf.pxToRem(t)})),i={"background-color":this.bgColor,"z-index":this.zIndex||"auto",padding:e.join(" "),"border-radius":dsf.pxToRem(this.borderRadius)};return this.isDesign?(this.updateParent({height:"auto"==this.height?"auto":dsf.pxToRem(this.height),margin:"".concat(t[0]," 0 ").concat(t[2]),padding:"0 ".concat(t[1]," 0 ").concat(t[3]),zIndex:this.zIndex||"auto"}),i.height="100%",i.padding="10px"):(i.margin=t.join(" "),i.height=dsf.pxToRem(this.height)),i},rootClass:function(){var t=[];return this.menuHasBg&&t.push("hasBg"),this.menuBgShadow&&t.push("bgShadow"),this.menuShadow&&t.push("iconShadow"),"theme"==this.menuForeColor?t.push("iconTheme"):"theme-linear"==this.menuForeColor&&t.push("iconThemeLinear"),t},itemIconBoxStyle:function(){return{width:this.menuBorderSize+"rem",height:this.menuBorderSize+"rem"}},itemTextStyle:function(){return{"font-size":this.menuTextSize+"rem"}},itemBgStyle:function(){var t={"border-radius":this.menuBorderRadius+"rem"};return this.menuHasBg&&(t["background-color"]=this.$compileColor(this.menuColor)),t},itemIconStyle:function(){return{"font-size":this.menuIconSize+"rem",color:this.$compileColor(this.menuForeColor)}},badgeStyle:function(){var t=this.menuBorderRadius;return t>this.menuBorderSize/2&&(t=this.menuBorderSize/2),t/=4*Math.sin(.5*Math.PI),{top:t+"rem",right:t+"rem","background-color":this.$compileColor(this.badgeColor)}},_subtitleKey:function(){return this.isDesign?"subtitle":this.subtitleKey}},watch:{dataSourceUrl:function(){this.init()},dataSourceList:function(){this.data=this.dataSourceList}},created:function(){this.isDesign?this.data=s:"http"==this.dataSource?this.init():this.data=this.dataSourceList},mounted:function(){if(this.isDesign){this.parentEl=this.$el.parentElement;var t=this.margin.map((function(t){return dsf.pxToRem(t)}));this.updateParent({height:dsf.pxToRem(this.height),margin:"".concat(t[0]," 0 ").concat(t[2]),padding:"0 ".concat(t[1]," 0 ").concat(t[3]),zIndex:this.zIndex||"auto"})}},methods:{updateParent:function(t){var e=t.height,i=t.margin,n=t.padding,a=t.zIndex;this.parentEl&&(this.parentEl.style.height=e,this.parentEl.style.margin=i,this.parentEl.style.padding=n,this.parentEl.style.zIndex=a,this.parentEl.style.position="relative",this.parentEl.style.boxSizing="border-box")},reloadData:function(){this.init()},init:function(){var t=this;if(!this.isDesign)if(""!=this.dataSourceUrl){this.loading=!0;var e=this.$replace(this.dataSourceUrl);this.$http.get(e).done((function(e){var i=e.success,n=e.data,a=e.message;i?(t.data=n,t.loading=!1):dsf.layer.message(a,!1)})).error((function(t){dsf.layer.message(t.message,!1)})).always((function(){t.isLoading=!1}))}else this.data=[]},_clickBefore:function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];if(!this.isDesign){var s=null===(e=this.clickBefore)||void 0===e?void 0:e.call.apply(e,[this].concat(n));s&&s.then?s.then((function(e){!1!==e&&t.apply(void 0,n)})):!1!==s&&t.apply(void 0,n)}},onClick:function(t,e){var i=this;if(this.itemClick){var n=this.itemClick(t,e);if(!1===n)return;if(n.then)return void n.then((function(e){!1!==e&&i.openPage(t)}))}this.openPage(t)},openPage:function(t){var e=t.url;if(e&&""!=e){0==e.indexOf("#")&&0!=e.indexOf("#/")&&(e=e.replace("#","#/")),e=this.$replace(e,this.local);var i={url:e,state:t.openType||t.opentype};3==i.state&&(i["title"]=t.dialogTitle||t.name||void 0,i["width"]=t.dialogWidth||"70vw",i["height"]=t.dialogHeight||"60vh"),this.$open(i)}},badgeText:function(t){var e=t[this.badgeKey];return!0!==e&&"text"==this.badgeShowType?e:""},getIcon:function(t){return t&&""!=t?"".concat(t," icon-").concat(t):"icon-icon_yingyongguanli"},getImgUrl:function(t){var e=t.picture,i=t.icon,n=t.imgUrl;return n=e||n,"[]"==n?"":"img"==this.showPriority?n:i&&""!=i?"":n},getItemStyle:function(t){var e=t.color,i=t.backgroundColor;return this.useDefaultStyle||!this.menuHasBg?{}:e&&""!=e?{background:e}:i?{background:i}:{}},getIconStyle:function(t){var e=t.foreColor;return this.useDefaultStyle?{}:e&&""!=e?{color:e,background:"transparent","-webkit-background-clip":"inherit","-webkit-text-fill-color":"inherit"}:{}}}}),o=r,l=(i(797),i(0)),u=Object(l["a"])(o,n,a,!1,null,null,null);e["default"]=u.exports},1179:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-calendar-nav mobile"},["month"==t.type?i("div",{staticClass:"ds-calendar-nav-header"},[t.isSwitch?i("div",{staticClass:"ds-calendar-nav-header-switch"},[i("van-icon",{attrs:{name:"arrow-left"},on:{click:t.swipePrev}}),t.date[1]?i("div",{staticClass:"ds-calendar-nav-header-switch-time"},[t._v(" "+t._s(t.date[1].id)+" ")]):t._e(),i("van-icon",{attrs:{name:"arrow"},on:{click:t.swipeNext}})],1):t._e()]):"week"==t.type?i("div",{staticClass:"ds-calendar-nav-header"},[t.isSwitch?i("div",{staticClass:"ds-calendar-nav-header-switch"},[i("van-icon",{attrs:{name:"arrow-left"},on:{click:t.swipePrev}}),t.date[1]?i("div",{staticClass:"ds-calendar-nav-header-switch-time"},[t._v(" 第"+t._s(t.date[1].id)+"周 ")]):t._e(),i("van-icon",{attrs:{name:"arrow"},on:{click:t.swipeNext}})],1):t._e()]):t._e(),i("div",{staticClass:"ds-calendar-nav-body"},["days"!=t.type?i("div",{staticClass:"ds-calendar-nav-body-header"},[i("span",[t._v("一")]),i("span",[t._v("二")]),i("span",[t._v("三")]),i("span",[t._v("四")]),i("span",[t._v("五")]),i("span",[t._v("六")]),i("span",[t._v("日")])]):t._e(),t.isShow?i("div",{staticClass:"ds-calendar-nav-body-content"},[i("van-swipe",{ref:"swipe",attrs:{duration:t.swipeDuration,"show-indicators":!1,"initial-swipe":t.swipeInitialIndex},on:{change:t.onChange}},t._l(t.date,(function(e,n){return i("van-swipe-item",{key:e.id},[i("div",{staticClass:"ds-calendar-nav-body-row",class:{days:"days"==t.type}},[t._l(e.date,(function(e){return[i("div",{key:e.id,staticClass:"ds-calendar-nav-body-cell",class:{offset:e.offset}},[i("div",{staticClass:"ds-calendar-nav-body-cell-bt",class:{active:t.active==e.id,"ds-calendar-nav-body-cell-bt-hover":t.isClickDay},on:{click:function(i){return t.handleDay(e)}}},[t.holidayInfo[e.id]?i("span",{staticClass:"holidaytag"},[t._v(" 休 ")]):t._e(),"days"==t.type?i("span",{staticClass:"week"},[t._v(t._s(t.getWeekDate(e.id)))]):t._e(),i("span",{staticClass:"day",class:{today:t.today.id==e.id}},[t._v(t._s(t.today==e.id?"今":e.day))]),i("span",{staticClass:"zhDay"},[t._v(t._s(t.getZhDay(t.lunarRange[e.id])))]),i("div",{staticClass:"tips"},["days"!=t.type&&t.scheduleInfo[e.id]?i("i"):t._e()])])])]}))],2)])})),1)],1):t._e()])])},a=[],s=i(2),r=i.n(s),o=i(8),l=i.n(o),u=864e5,d=6048e5,c={},h=dsf.component({name:"DsfMobileCalendarNav",mixins:[$mixins.control],ctrlCaption:"日历导航",design:{isMask:!1},props:{holidayUrl:{type:String,default:"/agenda/info/findHoliday"},isShowHoliday:{type:Boolean,default:!1},url:{type:String,default:"/mobile/agenda/info/queryUserAgendaNumByDate"},isSwitch:{type:Boolean,default:!0},dataLoadedFun:{type:Function,required:!1},toDay:{type:[String,Date],default:null},type:{type:String,default:"month"},active:{type:String,default:null},isClickDay:{type:Boolean,default:!0},personnelList:{type:Array,default:function(){return[]}}},data:function(){return{monthMapping:{},weekMapping:{},daysMapping:{},isShow:!0,swipeInitialIndex:1,swipeDuration:500,today:dsf.date.format(new Date,"yyyy-mm-dd"),pickerValue:"",lunarRange:{},date:[],scheduleInfo:{},holidayInfo:{}}},watch:{active:function(t){if(t){var e;if(null!==(e=this.date)&&void 0!==e&&e.length){var i=dsf.date.parse(t,"yyyy-mm-dd");if("week"==this.type||"days"==this.type)_.find(this.date[1].date,(function(e){return e.id===t}))||this.reloadData(t);else if("month"==this.type){var n=this.date[1].date[15].date;i.getFullYear()==n.getFullYear()&&i.getMonth()==n.getMonth()||this.reloadData(t)}}this.$dispatch("change",t)}},url:function(t){this.reloadData()},type:function(){this.reloadData()},toDay:{handler:function(t){if(!t)return this.pickerValue=dsf.date.format(new Date,"yyyy-mm-dd"),void this.reloadData();dsf.isString(t)&&(t=dsf.date.parse(t,"yyyy-mm-dd")),"date"!==dsf.type(t)&&(t=new Date),this.pickerValue=dsf.date.format(t,"yyyy-mm-dd"),this.reloadData()},immediate:!0},pickerValue:function(){this.reloadData()},personnelList:function(){this.reloadData()}},created:function(){var t=this;this.$http.importFiles(dsf.url.getWebPath("$/js/libs/lunar/lunarDay.js")).then((function(e){var i=l()(e,1),n=i[0].state;n?t.reloadData():console.error("加载lunarDay.js文件出错")})).catch((function(t){console.error(t)}))},methods:{handleDay:function(t){this.isClickDay&&this.$emit("update:active",t.id)},getDate:function(){return this.$emit("update:getDate",this.date),this.date},onChange:function(t){var e=this,i=t-1;setTimeout((function(){"week"==e.type?e.switchWeek(i):"month"==e.type?e.switchMonth(i):"days"==e.type&&e.switchDays(i)}),this.swipeDuration)},swipePrev:function(){this.$refs.swipe.prev()},swipeNext:function(){this.$refs.swipe.next()},switchWeek:function(t){var e=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");e=new Date(e.getTime()+t*d),this.pickerValue=dsf.date.format(e,"yyyy-mm-dd")},switchMonth:function(t){var e=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");e.setDate(0),e=new Date(e.getTime()+(4*t+2)*d),this.pickerValue=dsf.date.format(e,"yyyy-mm-01")},switchDays:function(t){var e=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");e=new Date(e.getTime()+3*t*u),this.pickerValue=dsf.date.format(e,"yyyy-mm-dd")},getZhDay:function(t){return t?t.jieRi.length?t.jieRi[0]:t.lunarJieQi||t.lunarDay:""},loadScript:function(t){this.$http.importFiles(dsf.url.getWebPath("$/js/libs/lunar/lunarDay.js")).then((function(e){var i=l()(e,1),n=i[0].state;n?null===t||void 0===t||t():dsf.error("加载lunarDay.js文件出错")})).catch((function(t){dsf.error(t)}))},reloadData:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pickerValue;if(window.Solar){this.date=[],this.scheduleInfo={},i=dsf.date.parse(i,"yyyy-mm-dd"),i=(null===(t=i)||void 0===t?void 0:t.getTime())||dsf.date.toDay();var n={},a={},s={};if("week"==this.type)n={id:this.getYearWeek(i)-1,date:this.getRange(i-d).range},a={id:this.getYearWeek(i),date:this.getRange(i).range},s={id:this.getYearWeek(i)+1,date:this.getRange(i+d).range};else if("month"==this.type){var r=new Date(i).setDate(1);n={id:dsf.date.format(r-2*d,"yyyy-mm"),date:this.getRange(r-2*d).range},a={id:dsf.date.format(r,"yyyy-mm"),date:this.getRange(r).range},s={id:dsf.date.format(r+6*d,"yyyy-mm"),date:this.getRange(r+6*d).range}}else"days"==this.type&&(n={id:this.getDaysNum(i)-1,date:this.getRange(i-3*u).range},a={id:this.getDaysNum(i),date:this.getRange(i).range},s={id:this.getDaysNum(i)+1,date:this.getRange(i+3*u).range});this.date=[n,a,s],_.each(this.date,(function(t){e[e.type+"Mapping"][t.id]||(e[e.type+"Mapping"][t.id]=t.date)}));var o=null;this.active&&_.find(a.date,(function(t){return t.id===e.active}))||("week"==this.type?o=this.getRange(i).active:"month"==this.type?o=this.getRange(this.date[1].date[15].date).active:"days"==this.type&&(o=this.getRange(i).active),this.$emit("update:active",o)),this.getScheduleInfo(a.date[0].id,a.date[a.date.length-1].id),this.getHolidayInfo(a.date[0].id,a.date[a.date.length-1].id),this.setLunarRange()}},getScheduleInfo:function(t,e){var i=this;if(this.url&&""!=this.url){t+=" 00:00:00",e+=" 23:59:59";var n="",a=0;if(this.personnelList.length>0){a=1;var s=_.map(this.personnelList,(function(t){return t._id}));n=s.join(",")}var r={categoryValue:0,isPublic:a,userIds:n,startDate:t,endDate:e};this.$http.get(this.url,r).done((function(t){var e=t.success,n=t.data,a=t.message;e?i.scheduleInfo=n:dsf.layer.message(a,!1)})).error((function(t){dsf.layer.message(t.message||"请求异常",!1)}))}else this.scheduleInfo={}},getHolidayInfo:function(t,e){var i=this;if(this.isShowHoliday&&this.holidayUrl&&""!=this.holidayUrl){var n={beginTime:t,endTime:e};this.$http.get(this.holidayUrl,n).done((function(t){var e=t.success,n=t.data,a=t.message;if(e){var s={};_.forEach(n,(function(t){var e,i=null===(e=t.time)||void 0===e?void 0:e.slice(0,10);s[i]=t,s[i].holidayArr=t.type_text.split(" ").join("").split("^"),s[i].holidayFirst=s[i].holidayArr[0]})),i.holidayInfo=s}else dsf.layer.message(a,!1)})).error((function(t){dsf.layer.message(t.message||"请求异常",!1)}))}else this.holidayInfo={}},getRange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dsf.date.toDay(),e=new Date(t),i=e.getMonth(),n=this.type,a="month"===n;a&&(t=e.setDate(1));var s=[],r=dsf.date.toDay(),o=null,l=e.getDay()||7,d=7-l;"week2"===n?d+=7:a?d+=35:"days"==n&&(l=2,d=1);for(var c=1-l;c<=d;c++){var h=t+u*c,f=new Date(h),p=f.getDate(),m={id:dsf.date.format(f,"yyyy-mm-dd"),offset:!a||f.getMonth()===i,day:p<10?"0"+p:p,date:f};s.push(m),h==r&&(o=m.id)}return o||(o=dsf.date.format(t,"yyyy-mm-dd")),{range:s,active:o}},setLunarRange:function(){if(window.Solar){var t={};_.forEach(this.date[1].date,(function(e){var i=e.id,n=e.date;if(!c[i]){var a=window.Solar.fromDate(n),s=a.getLunar();c[i]={day:dsf.date.format(n,"yyyy年mm月dd日"),lunarYear:s.getYearInGanZhi(),lunarMonth:s.getMonthInChinese(),lunarDay:s.getDayInChinese(),lunarJieQi:s.getJieQi(),jieRi:[].concat(r()(s.getFestivals()),r()(a.getFestivals())),otherJieRi:a.getOtherFestivals()}}t[i]=c[i]})),this.lunarRange=t}},getYearWeek:function(t){var e=new Date(t),i=new Date(e.getFullYear(),0,1),n=e.getDay();0==n&&(n=7);var a=i.getDay();0==a&&(a=7);var s=e.getTime()-i.getTime(),r=Math.floor((s+864e5*(a-n))/864e5);return Math.ceil(r/7)+1},getDaysNum:function(t){var e=new Date(t),i=new Date(e.getFullYear(),0,1),n=e.getTime()-i.getTime();return Math.ceil(n/u/3)},getWeekDate:function(t){var e=new Date(t),i=e.getDay(),n=new Array("周日","周一","周二","周三","周四","周五","周六"),a=n[i];return a}}}),f=h,p=(i(801),i(0)),m=Object(p["a"])(f,n,a,!1,null,null,null);e["default"]=m.exports},1180:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"ds-control mobile ds-rollingnews ds-no-padding",style:t.getBackgroundStyle},[i("div",{staticClass:"ds-rollingnews-icons"},[i("dsf-icon",{staticClass:"ds-rollingnews-voice",attrs:{name:"shengyin_shiti"}})],1),i("div",{staticClass:"ds-rollingnews-wraphas",style:t.heightStyle},[i("div",{ref:"wrap",class:["ds-rollingnews-wrap",{animate:t.animate}],style:t.wrapStyle},[t._l(t.data,(function(e,n){return[t._t("default",(function(){return[i("div",{key:"ri-"+n,staticClass:"ds-rollingnews-item ds-multi-ellipsis-1",style:t.heightStyle,on:{click:function(i){return t.onClick(e)}}},[i("span",{style:{"font-weight":t.prefixBold?"700":"400"}},[t._v(t._s(t.prefix))]),t._v(t._s(e[t.field])+" ")])]}),{data:{item:e,index:n}})]})),i("div",{staticClass:"ds-rollingnews-empty"},[t._v("暂无数据")])],2)])])},a=[],s=i(2),r=i.n(s),o=i(3),l=i.n(o);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){l()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c=dsf.component({name:"DsfMobileRollingNews",mixins:[$mixins.control],ctrlCaption:"滚动新闻",props:{padding:{type:Boolean,default:!1},url:{type:String,default:""},interval:{type:Number,default:5e3},height:{type:[String,Number],default:"40px"},field:{type:String,default:"title"},toUrl:{type:String,default:""},max:{type:Number,default:0},prefix:{type:String,default:""},prefixBold:{type:Boolean,default:!0},dataHandler:{type:Function,require:!1},forceShow:{type:Boolean,require:!1}},computed:{show:function(){var t=this.isDesign,e=this.data,i=this.forceShow;return!!t||(!!i||e.length>0)},wrapStyle:function(){var t=0;return this.$refs.wrap&&(t=parseInt(window.getComputedStyle(this.$refs.wrap).height)),d(d({},this.heightStyle),{},{top:"-".concat(this.currentIndex*t,"px")})},heightStyle:function(){return{height:this.pxToRem(this.height),lineHeight:this.pxToRem(this.height)}}},data:function(){return{currentIndex:0,$interval:null,animate:!0,data:[]}},mounted:function(){var t=this;this.$refs.wrap.addEventListener("transitionend",(function(){t.currentIndex===t.data.length-1&&(clearTimeout(t.$interval),t.animate=!1,t.$nextTick((function(){var e=t.data[t.data.length-1],i=t.data.slice(0,t.data.length-1);t.data=[e].concat(r()(i)),t.currentIndex=0,setTimeout((function(){t.animate=!0,t.loop()}),0)})))}))},created:function(){this.isDesign?this.data=[l()({},this.field,"我是一条公告"),l()({},this.field,"我也是一条公告")]:this.url&&this.loadData()},destroyed:function(){clearTimeout(this.$interval)},methods:{loop:function(){var t=this;this.$interval&&clearTimeout(this.$interval),this.$interval=setTimeout((function(){t.currentIndex===t.data.length-1?t.currentIndex=0:t.currentIndex+=1,t.loop()}),this.interval)},loadData:function(){var t=this,e=this.$replace(this.url,this);this.$http.get(e,{pageNumber:1,pageSize:this.max?this.max:9999}).done((function(e){var i=e.success,n=e.data,a=e.message;i?(t.dataHandler&&(n=t.dataHandler(n)),t.data=t.formatApiData(n||[]),t.$nextTick((function(){t.loop()}))):dsf.layer.message(a||"请求异常",!1)})).error((function(t){dsf.layer.message((null===t||void 0===t?void 0:t.message)||"请求异常",!1)}))},formatApiData:function(t){var e=this;if(!Array.isArray(t))return[];var i=t.map((function(t){return d(d({},t),{},l()({},e.field,t[e.field]))}));return i},onClick:function(t){if(this.$listeners["click"])this.$dispatch("click",t);else if(this.toUrl){var e=this.$replace(this.toUrl,t);this.$openWindow({url:e})}}},watch:{show:{handler:function(t,e){this.$dispatch("show",t)},immediate:!0}}}),h=c,f=i(0),p=Object(f["a"])(h,n,a,!1,null,null,null);e["default"]=p.exports},465:function(t,e,i){"use strict";var n=function(t,e){var i=e._c;return i("div",{staticClass:"dsf-convenient-menu-group"},e._l(e.props.group,(function(t,n){return i("div",{key:n,staticClass:"dsf-convenient-menu-row"},e._l(t,(function(t,a){return i("div",{key:t._id,staticClass:"dsf-convenient-menu-col",style:e.parent.colStyle},[t.unvisible?i("div",{staticClass:"dsf-convenient-menu-box unvisible",style:e.parent.boxStyle},[e._t("default",null,{item:t,rowIndex:n,colIndex:a})],2):t._hide?e._e():i("div",{staticClass:"dsf-convenient-menu-box",style:e.parent.boxStyle,on:{click:function(i){return e.parent._clickBefore(e.parent.onClick,t)}}},[e._t("default",null,{item:t,rowIndex:n,colIndex:a})],2)])})),0)})),0)},a=[],s={name:"DsfConvenientMenuGroup",props:{group:{type:Array,default:function(){return[]}}}},r=s,o=i(0),l=Object(o["a"])(r,n,a,!0,null,null,null);e["a"]=l.exports},466:function(t,e,i){"use strict";var n=function(t,e){var i=e._c;return i("div",{staticClass:"dsf-convenient-menu-item mobile",class:[e.props.displayStyle],style:e.props.itemStyle},[i("div",{staticClass:"icon",class:{foldBox:e.props.item.children&&e.parent.enableLevel},style:e.parent.getIconStyle(e.props.item)},[e.props.item.children&&e.parent.enableLevel?i("div",{on:{click:function(t){return t.stopPropagation(),e.parent.openFloderPopup(e.props.item)}}},[e._l(e.props.item.children.filter((function(t,e){return e<9})),(function(t,n){return[e.parent.getImgUrl(t)?i("van-image",{key:n+"img",attrs:{src:e._f("imgFormat")(e.parent.getImgUrl(t))}},[i("template",{slot:"error"},[i("i",{staticClass:"iconfont",class:[e.parent.getIcon(t.icon)]})])],2):i("div",{key:n+"icon",staticClass:"van-image"},[i("div",{staticClass:"van-image__error"},[i("i",{staticClass:"iconfont",class:[e.parent.getIcon(t.icon)]})])])]}))],2):e.parent.getImgUrl(e.props.item)?i("van-image",{attrs:{src:e._f("imgFormat")(e.parent.getImgUrl(e.props.item))}},[i("template",{slot:"error"},[i("i",{staticClass:"iconfont",class:[e.parent.getIcon(e.props.item.icon)]})])],2):i("div",{staticClass:"van-image vvvv"},[i("div",{staticClass:"van-image__error"},[i("i",{staticClass:"iconfont",class:[e.parent.getIcon(e.props.item.icon)]})])]),e._t("default")],2),i("div",{staticClass:"info",style:e.parent.infoStyle},[i("div",{staticClass:"name ellipsis"},[e._v(e._s(e.props.item.name||""))]),e.parent.hasDesc?i("div",{staticClass:"desc ellipsis-2"},[e._v(e._s(e.props.item.desc||""))]):e._e()])])},a=[],s={name:"DsfConvenientMenuItem",inject:{$mobileConvenientMenu:{default:{}}},props:{item:{type:Object,required:!0},displayStyle:{type:String,required:"style1"},itemStyle:{type:Object,default:function(){return{}}}}},r=s,o=i(0),l=Object(o["a"])(r,n,a,!0,null,null,null);e["a"]=l.exports},577:function(t,e,i){var n=i(794);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("8743aec4",n,!0,{sourceMap:!1,shadowMode:!1})},578:function(t,e,i){var n=i(796);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("6feba798",n,!0,{sourceMap:!1,shadowMode:!1})},579:function(t,e,i){var n=i(798);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("0ed429b8",n,!0,{sourceMap:!1,shadowMode:!1})},580:function(t,e,i){var n=i(800);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("6383a2ec",n,!0,{sourceMap:!1,shadowMode:!1})},581:function(t,e,i){var n=i(802);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("4a8d8b0c",n,!0,{sourceMap:!1,shadowMode:!1})},793:function(t,e,i){"use strict";i(577)},794:function(t,e,i){"use strict";i.r(e)},795:function(t,e,i){"use strict";i(578)},796:function(t,e,i){"use strict";i.r(e)},797:function(t,e,i){"use strict";i(579)},798:function(t,e,i){"use strict";i.r(e)},799:function(t,e,i){"use strict";i(580)},800:function(t,e,i){"use strict";i.r(e)},801:function(t,e,i){"use strict";i(581)},802:function(t,e,i){"use strict";i.r(e)},974:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-control ds-convenient-menu mobile",class:t.rootClass,style:t.rootStyle},[i("dsf-mobile-title",t._b({ref:"titleCtrl"},"dsf-mobile-title",t.titleCtrlAttrs,!1),["2"==t.menuType&&"1"==t.myMenuEditBtnStyle?i("span",{staticClass:"ds-label-box-right-icon",class:["ds-font"+(this.titleAttrs.fontType+1)],on:{click:t.openEdit}},[t._v(t._s(t.myMenuEditText))]):t._e()]),i("div",{staticClass:"content"},[1==t.menuType&&t.enableLevel&&2==t.levelMode?t._l(t.menuList,(function(e){return i("DsfMobileConvenientMenu",t._b({key:e.code,staticClass:"group"},"DsfMobileConvenientMenu",t.getAttrs(e),!1))})):1==t.menuList.length?i("dsf-convenient-menu-group",{attrs:{group:t.menuList[0]},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,a=e.rowIndex,s=e.colIndex;return[t._t("default",(function(){return[i("dsf-convenient-menu-item",{attrs:{"display-style":t.displayStyle,item:n}},[""!=t.enableMark&&t.isDesign||n.mark_type&&t.badges[n.id]&&t.badges[n.id].num?i("span",{staticClass:"angle-mark",class:[t.enableMark],style:t.markStyle},[t._v(" "+t._s(t.isDesign||t.badges[n.id].num>99?"99+":t.badges[n.id].num)+" ")]):t._e()])]}),{item:n,pageIndex:0,rowIndex:a,colIndex:s})]}}],null,!0)}):t.menuList.length>1?[i("van-swipe",{ref:"carousel",attrs:{loop:!1},on:{change:function(e){t.activeIndex=e}}},t._l(t.menuList,(function(e,n){return i("van-swipe-item",{key:n},[i("dsf-convenient-menu-group",{attrs:{group:e},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,s=e.rowIndex,r=e.colIndex;return[t._t("default",(function(){return[i("dsf-convenient-menu-item",{attrs:{"display-style":t.displayStyle,item:a}},[""!=t.enableMark&&t.isDesign||a.mark_type&&t.badges[a.id]&&t.badges[a.id].num?i("span",{staticClass:"angle-mark",class:[t.enableMark],style:t.markStyle},[t._v(" "+t._s(t.isDesign||t.badges[a.id].num>99?"99+":t.badges[a.id].num)+" ")]):t._e()])]}),{item:a,pageIndex:n,rowIndex:s,colIndex:r})]}}],null,!0)})],1)})),1)]:t._e()],2),1==t.menuType&&t.enableLevel?i("DsfConvenientMenuPopup",{ref:"floderPopup"}):t._e()],1)},a=[],s=i(465),r=i(466),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-popup",t._b({attrs:{"get-container":"body","overlay-class":"ds-convenient-menu_overlay"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},"van-popup",t.popupAttrs,!1),[i("van-nav-bar",{attrs:{title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticClass:"content"},[i("DsfMobileConvenientMenu",t._b({attrs:{titleAttrs:{visible:!1}}},"DsfMobileConvenientMenu",t.ctrlAttrs,!1))],1)],1)},l=[],u={name:"DsfConvenientMenuBlurpopup",inject:{$mobileConvenientMenu:{default:{}}},data:function(){return{show:!1,dataSourceList:[],isBlur:!0,title:""}},computed:{ctrlAttrs:function(){var t=dsf.mix({"v-if":this.show},this.$mobileConvenientMenu.props);return t.enableLevel=!1,t.dataSource="json",t.dataSourceList=this.dataSourceList,t.hasMore=!1,t.height="100%",this.isBlur?(t.colNum=3,t.rowNum=3,t.innerHeightAuto=!1):t.rowNum=0,t},popupAttrs:function(){return this.isBlur?{class:"ds-convenient-menu_blurpopup"}:{class:"ds-convenient-menu_fullScrenPopup",position:"bottom"}}},methods:{setData:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2?arguments[2]:void 0;this.title=i,this.isBlur=e,this.dataSourceList=t,this.show=!0},onClickLeft:function(){this.show=!1}}},d=u,c=i(0),h=Object(c["a"])(d,o,l,!1,null,null,null),f=h.exports,p=dsf.component({name:"DsfMobileConvenientMenu",mixins:[$mixins.convenientMenu],ctrlCaption:"快捷菜单",design:{isMask:!1},components:{DsfConvenientMenuGroup:s["a"],DsfConvenientMenuItem:r["a"],DsfConvenientMenuPopup:f},provide:function(){return{$mobileConvenientMenu:this}},props:{dataSourceUrl:{type:String,default:"mobileMenu/getMenuTree"},folderOpenMode:{type:Number,default:1},titleAttrs:{type:Object,default:function(){return{value:"标题",visible:!1,showColorLump:!0,showUnderline:!1,fontType:4,showWeight:!0,textAlign:"left",padding:[8,8,8,8]}}}},computed:{rootClass:function(){var t=this.innerHeightAuto,e=this.minHeight,i=this.height,n=[];return 1==this.menuType&&this.enableLevel&&2==this.levelMode?t&&n.push("inner-auto-flex-box"):t&&"auto"!==i&&"none"==e&&n.push("inner-auto"),n},rootStyle:function(){var t=this.pxToRem(this.height),e={"min-height":this.pxToRem(this.minHeight)};return this.isDesign?(this.$dispatch("design-height-change",t),e.height="100%"):e.height=t,e},colStyle:function(){var t=this;return{padding:this.cellMargin.map((function(e){return t.pxToRem(e)})).join(" ")}},boxStyle:function(){var t=this;return{padding:this.cellPadding.map((function(e){return t.pxToRem(e)})).join(" "),"background-color":this.$compileColor(this.cellColor),width:this.pxToRem(this.cellWidth),"border-radius":this.pxToRem(this.cellRadius)}},iconStyle:function(){var t={width:this.pxToRem(this.iconWidth),height:this.pxToRem(this.iconHeight),"border-radius":this.pxToRem(this.iconRadius),"background-color":this.$compileColor(this.iconBgColor),color:this.$compileColor(this.iconFontColor),"font-size":this.pxToRem(this.iconFontSize),"font-weight":this.iconFontBold?"bold":"normal"};return this.iconBgShadow&&(t["box-shadow"]="0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"),this.iconFontShadow&&(t["text-shadow"]="0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"),t},infoStyle:function(){var t={};return"style1"===this.displayStyle?t["margin-top"]=this.iconAndInfoOfSpacing:"style2"===this.displayStyle&&(t["margin-left"]=this.iconAndInfoOfSpacing),t},markStyle:function(){var t="calc(0.25 * ".concat(this.pxToRem(this.iconRadius),")");return{top:t,right:t}},titleCtrlAttrs:function(){var t=this.titleAttrs;return"2"==this.menuType&&(t.visible=!0),t}},methods:{renderTitleCtrlColor:function(){this.$refs.titleCtrl.$set(this.$refs.titleCtrl,"color",this.titleAttrs.color)},openFloderPopup:function(t){var e;this.isDesign||(null===(e=this.$refs)||void 0===e||null===(e=e.floderPopup)||void 0===e||e.setData(t.children,1==this.folderOpenMode,t.name))},getAttrs:function(t){var e=_.cloneDeep(this._props);return e.dataSourceList=t.children,e.dataSource="json",e.height="auto",e.minHeight="auto",e.titleAttrs.visible=!0,e.titleAttrs.value=t.name,e.titleAttrs.showColorLump=!1,e.titleAttrs.showWeight=!1,e.levelMode=1,e},openEdit:function(){if(this.myMenuEditUrl&&!this.isDesign){var t={openType:this.myMenuEditOpenMode,url:this.myMenuEditUrl,dialogTitle:this.myMenuEditText,cancelButtonText:"关闭"};this.myMenuEditOpenMode>2&&(t.url+=(t.url.includes("?")?"&":"?")+"isMyMenuBtn=1"),this.openPage(t)}}}}),m=p,g=(i(799),Object(c["a"])(m,n,a,!1,null,null,null));e["default"]=g.exports}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_mobile_nav.js.map