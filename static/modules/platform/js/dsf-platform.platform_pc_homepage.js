/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[48],{1116:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-panel ds-data-panel-primary",style:t.panelStyle,attrs:{shadow:t.showShadow},on:{click:t.onClick}},[t._t("item",(function(){return[t.showIcon?n("div",{staticClass:"ds-data-panel-icon",style:t.iconBoxStyle},[t._t("itemLeft",(function(){return[n("DsfIcon",{style:t.iconStyle,attrs:{name:t.$replace(t.iconName,t.panelData)}})]}),null,t.$props)],2):t._e(),n("div",{staticClass:"ds-data-panel-primary-info",attrs:{align:t.showDesc?"":"center"}},[t._t("itemRight",(function(){return[n("div",{staticClass:"ds-data-panel-top"},[t.showTitle?n("div",{staticClass:"ds-data-panel-primary-info-item",attrs:{type:"name"}},[t._v(" "+t._s(t.$replace(t.title,t.panelData))+" ")]):t._e(),n("div",{staticClass:"ds-data-panel-primary-info-item",attrs:{type:"number"}},[t._v(" "+t._s(t.$replace(t.number,t.panelData))+" ")])]),t.showDesc?n("div",{staticClass:"ds-data-panel-primary-info-item",attrs:{type:"desc"}},[t._v(" "+t._s(t.$replace(t.desc,t.panelData))+" ")]):t._e()]}),null,t.$props)],2)]}),null,t.$props)],2)},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfDataPanelPrimary",ctrlCaption:"数据面板-主要",mixins:[$mixins.control],props:{borderRadius:{type:String,default:function(){return"4px"}},height:{type:String,default:function(){return"88px"}},backgroundColor:{type:String,default:function(){return""}},showShadow:{type:Boolean,default:function(){return!0}},iconName:{type:String,default:function(){return"gouxuan"}},iconColor:{type:String,default:function(){return"#fff"}},iconBackgroundColor:{type:String,default:function(){return""}},showIcon:{type:Boolean,default:function(){return!0}},title:{type:String,default:function(){return"标题"}},showTitle:{type:Boolean,default:function(){return!0}},desc:{type:String,default:function(){return"描述"}},showDesc:{type:Boolean,default:function(){return!0}},dataUrl:{type:String,default:function(){return""}},toUrl:{type:String,default:function(){return""}},number:{type:String,default:function(){return"0"}},panelData:{type:Object,default:function(){}},isGroup:{type:Boolean,default:function(){return!1}},toConfig:{type:Object,default:function(){return{}}}},computed:{panelStyle:function(){var t=this.backgroundColor,e=this.borderRadius,n=this.height,i={borderRadius:e,height:n};return t&&(i.backgroundColor=t),i},iconBoxStyle:function(){var t=this.borderRadius,e=this.iconBackgroundColor,n={borderRadius:t};return e&&(n.backgroundColor=e),n},iconStyle:function(){var t=this.iconColor,e={};return t&&(e.color=t),e}},data:function(){return{}},created:function(){!this.isDesign&&this.getData()},methods:{onClick:function(){var t=this.toConfig,e=this.title;t.url=this.$replace(t.url),this.$open(l(l({},t),{},{title:e}))},getData:function(){var t=this,e=this.dataUrl,n=this.isGroup;e&&!n&&this.$http.get(e).then((function(e){var n=e.data;n&&n.success?t.$emit("update:panelData",n.data):(dsf.layer.message(n.message,!1),t.$emit("update:panelData",{}))})).catch((function(e){dsf.layer.message((null===e||void 0===e?void 0:e.message)||"未知异常",!1),t.$emit("update:panelData",{})})).finally()}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1117:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-panel ds-data-panel-discrete",style:t.panelStyle,attrs:{shadow:t.showShadow},on:{click:t.onClick}},[t._t("item",(function(){return[n("div",{staticClass:"ds-data-panel-row"},[t.showIcon?n("div",{staticClass:"ds-data-panel-icon",style:t.iconBoxStyle},[n("DsfIcon",{style:t.iconStyle,attrs:{name:t.$replace(t.iconName,t.panelData)}})],1):t._e(),n("div",{staticClass:"ds-data-panel-discrete-info",attrs:{align:t.showDesc?"":"center"}},[t.showTitle?n("div",{staticClass:"ds-data-panel-discrete-info-item",attrs:{type:"name"}},[t._v(" "+t._s(t.$replace(t.title,t.panelData))+" ")]):t._e(),n("div",{staticClass:"ds-data-panel-discrete-info-item",attrs:{type:"number"}},[t._v(" "+t._s(t.$replace(t.number,t.panelData))+" ")])])]),t.showDesc||!t.desc?n("div",{staticClass:"ds-data-panel-discrete-desc"},[t._v(" "+t._s(t.$replace(t.desc,t.panelData))+" ")]):t._e()]}),null,t.$props)],2)},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfDataPanelDiscrete",ctrlCaption:"数据面板-主要",mixins:[$mixins.control],props:{borderRadius:{type:String,default:function(){return"4px"}},height:{type:String,default:function(){return"160px"}},backgroundColor:{type:String,default:function(){return""}},showShadow:{type:Boolean,default:function(){return!0}},iconName:{type:String,default:function(){return"gouxuan"}},iconColor:{type:String,default:function(){return"#fff"}},iconBackgroundColor:{type:String,default:function(){return""}},showIcon:{type:Boolean,default:function(){return!0}},title:{type:String,default:function(){return"标题"}},showTitle:{type:Boolean,default:function(){return!0}},desc:{type:String,default:function(){return"描述"}},showDesc:{type:Boolean,default:function(){return!0}},dataUrl:{type:String,default:function(){return""}},toUrl:{type:String,default:function(){return""}},number:{type:String,default:function(){return"0"}},panelData:{type:Object,default:function(){}},isGroup:{type:Boolean,default:function(){return!1}},toConfig:{type:Object,default:function(){return{}}}},computed:{panelStyle:function(){var t=this.backgroundColor,e=this.borderRadius,n=this.height,i={borderRadius:e,height:n};return t&&(i.backgroundColor=t),i},iconBoxStyle:function(){var t=this.borderRadius,e=this.iconBackgroundColor,n=(this.panelData,{borderRadius:t});return e&&(n.backgroundColor=e),n},iconStyle:function(){var t=this.iconColor,e={};return t&&(e.color=t),e}},data:function(){return{}},created:function(){!this.isDesign&&this.getData()},methods:{onClick:function(){var t=this.toConfig,e=this.title;this.$open(l(l({},t),{},{title:e}))},getData:function(){var t=this,e=this.dataUrl,n=this.isGroup;e&&!n&&this.$http.get(e).then((function(e){var n=e.data;n&&n.success?t.$emit("update:panelData",n.data):(dsf.layer.message(n.message,!1),t.$emit("update:panelData",{}))})).catch((function(e){dsf.layer.message((null===e||void 0===e?void 0:e.message)||"未知异常",!1),t.$emit("update:panelData",{})})).finally()}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1118:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-control ds-data-panel-primary-group",style:t.getStyle},[n("div",{staticClass:"ds-data-panel-primary-group-main",style:{margin:"-"+t.spacing/2+"px"}},[t._l(t.itemConfig,(function(e,i){return[t._t("default",(function(){return[n(t.panelModel,t._b({key:i,tag:"component",style:{width:"calc((100% - ("+t.spacing+"px * "+t.justify+")) / "+t.justify+")",margin:t.spacing/2+"px"},attrs:{size:t.size,"panel-data":t.filterData(e.key)||{},showShadow:t.showShadow,height:t.height,isGroup:!0,textAlign:t.textAlign,showIcon:t.showIcon,showTitle:t.showTitle,showDesc:t.showDesc,borderRadius:t.borderRadius,backgroundColor:t.backgroundColor,isDesign:t.isDesign},scopedSlots:t._u([{key:"item",fn:function(e){return[t._t("item",null,null,e)]}},{key:"itemLeft",fn:function(e){return[t._t("itemLeft",null,null,e)]}},{key:"itemRight",fn:function(e){return[t._t("itemRight",null,null,e)]}}],null,!0)},"component",e,!1))]}),null,{style:{width:"calc((100% - ("+t.spacing+"px * "+t.justify+")) / "+t.justify+")"},spacing:t.spacing,justify:t.justify,item:e,data:t.filterData(e.key)||{},$index:i})]}))],2)])},a=[],s=dsf.component({name:"DsfDataPanelGroup",ctrlCaption:"数字看板",mixins:[$mixins.control],props:{borderRadius:{type:String,default:function(){return"4px"}},spacing:{type:Number,default:function(){return 20}},padding:{type:Array,default:function(){return[0,0,0,0]}},justify:{type:Number,default:function(){return 4}},height:{type:String,default:function(){return"88px"}},backgroundColor:{type:String,default:function(){return""}},showShadow:{type:Boolean,default:function(){return!0}},showIcon:{type:Boolean,default:function(){return!0}},showTitle:{type:Boolean,default:function(){return!0}},showDesc:{type:Boolean,default:function(){return!0}},dataUrl:{type:String,default:function(){return""}},toUrl:{type:String,default:function(){return""}},itemConfig:{type:Array,default:function(){return[{key:"key1",iconName:"gouxuan",title:"title1",desc:"@[desc]",number:"@[number]"}]}},panelModel:{type:String,default:function(){return"DsfDataPanelPrimary"}},size:{type:String,default:""},textAlign:{type:String,default:"center"}},computed:{getStyle:function(){var t=this,e={};return this.isDesign||(e["padding"]=_.map(this.padding,(function(e){return t.unitSize(e)})).join(" ")),e}},data:function(){return{list:[]}},created:function(){this.isDesign?this.list=[{key:"key1",title:"统计学",number:"30",iconName:"icon-file",desc:"描述+1"},{key:"key2",title:"谈文学",number:"25",iconName:"icon-file",desc:"描述+2"},{key:"key3",title:"语文",number:"105",iconName:"icon-file",desc:"描述+3"}]:this.getData()},watch:{panelModel:{immediate:!0,handler:function(t){"DsfDataPanelPrimary"==t?this.$emit("update:height","88px"):"DsfDataPanelDiscrete"==t&&this.$emit("update:height","160px")}}},methods:{getData:function(){var t=this,e=this.dataUrl;e&&this.$http.get(e).then((function(e){var n=e.data;n&&n.success?t.list=n.data||[]:(t.list=[],dsf.layer.message(n.message,!1))})).catch((function(e){t.list=[],dsf.layer.message("请求错误",!1)})).finally()},filterData:function(t){return this.list.filter((function(e){return e.key==t}))[0]}}}),r=s,o=n(0),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},1119:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-panel ds-data-panel-one",style:t.panelStyle,attrs:{shadow:t.showShadow,size:t.size},on:{click:t.onClick}},[t._t("item",(function(){return[t.showIcon?n("div",{staticClass:"ds-data-panel-one-icon",style:t.iconBoxStyle},[t._t("itemLeft",(function(){return[n("DsfIcon",{style:t.iconStyle,attrs:{name:t.$replace(t.iconName,t.panelData)}})]}),null,t.$props)],2):t._e(),n("div",{staticClass:"ds-data-panel-one-info",attrs:{textalign:t.textAlign}},[t._t("itemRight",(function(){return[n("div",{staticClass:"ds-data-panel-one-info-wrap"},[n("div",{staticClass:"ds-data-panel-one-info-number"},[t._v(" "+t._s(t.$replace(t.number,t.panelData)||0)),t.unit?n("span",{staticClass:"ds-data-panel-one-info-unit"},[t._v(t._s(t.unit))]):t._e()]),t.showTitle?n("div",{staticClass:"ds-data-panel-one-info-name ellipsis",attrs:{title:t.title}},[t._v(" "+t._s(t.title||"")+" ")]):t._e()])]}),null,t.$props)],2)]}),null,t.$props)],2)},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfDataPanelOne",ctrlCaption:"数字看板-样式一",mixins:[$mixins.control],props:{borderRadius:{type:String,default:function(){return"4px"}},height:{type:String,default:function(){return"88px"}},backgroundColor:{type:String,default:function(){return""}},showShadow:{type:Boolean,default:function(){return!1}},iconName:{type:String,default:function(){return"jihuabeifen2"}},iconColor:{type:String,default:function(){return""}},iconBackgroundColor:{type:String,default:function(){return""}},showIcon:{type:Boolean,default:function(){return!0}},title:{type:String,default:function(){return"标题"}},showTitle:{type:Boolean,default:function(){return!0}},desc:{type:String,default:function(){return"描述"}},showDesc:{type:Boolean,default:function(){return!0}},dataUrl:{type:String,default:function(){return""}},toUrl:{type:String,default:function(){return""}},number:{type:String,default:function(){return"0"}},unit:{type:String,default:function(){return""}},panelData:{type:Object,default:function(){}},isGroup:{type:Boolean,default:function(){return!1}},size:{type:String,default:""},textAlign:{type:String,default:"center"},toConfig:{type:Object,default:function(){return{}}}},computed:{panelStyle:function(){var t=this.backgroundColor,e=this.height,n=this.panelData,i=void 0===n?{}:n,a=this.$replace,s={height:e};return t&&(s.backgroundColor=a(t,i)),s},iconBoxStyle:function(){var t=this.borderRadius,e=this.iconBackgroundColor,n=this.panelData,i=void 0===n?{}:n,a=this.$replace;return{borderRadius:t,backgroundColor:a(e,i)}},iconStyle:function(){var t=this.iconColor,e={};return t&&(e.color=t),e}},data:function(){return{}},created:function(){!this.isDesign&&this.getData()},methods:{onClick:function(){var t=this.toConfig,e=this.title;this.$open(l(l({},t),{},{title:e}))},getData:function(){var t=this,e=this.dataUrl,n=this.isGroup;e&&!n&&this.$http.get(e).then((function(e){var n=e.data;n&&n.success?t.$emit("update:panelData",n.data):(dsf.layer.message(n.message,!1),t.$emit("update:panelData",{}))})).catch((function(e){var n=dsf.isDef(e.message)?n:e;dsf.layer.message(n,!1),t.$emit("update:panelData",{})})).finally()}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1120:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-panel ds-data-panel-two",style:t.panelStyle,attrs:{shadow:t.showShadow,size:t.size},on:{click:t.onClick}},[t._t("item",(function(){return[t.showIcon?n("div",{staticClass:"ds-data-panel-two-icon",style:t.iconBoxStyle},[t._t("itemLeft",(function(){return[n("DsfIcon",{style:t.iconStyle,attrs:{name:t.$replace(t.iconName,t.panelData)}}),n("div",{staticClass:"ds-data-panel-two-icon-text"},[t._v(t._s(t.iconText))])]}),null,t.$props)],2):t._e(),n("div",{staticClass:"ds-data-panel-two-info",attrs:{textalign:t.textAlign}},[t._t("itemRight",(function(){return[n("div",{staticClass:"ds-data-panel-two-info-wrap"},[n("div",{staticClass:"ds-data-panel-two-info-number"},[t._v(" "+t._s(t.$replace(t.number,t.panelData)||0)),t.unit?n("span",{staticClass:"ds-data-panel-two-info-unit"},[t._v(t._s(t.unit))]):t._e()]),t.showTitle?n("div",{staticClass:"ds-data-panel-two-info-name ellipsis",attrs:{title:t.title}},[t._v(" "+t._s(t.title||"")+" ")]):t._e()])]}),null,t.$props)],2)]}),null,t.$props)],2)},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfDataPanelTwo",ctrlCaption:"数字看板-样式二",mixins:[$mixins.control],props:{borderRadius:{type:String,default:function(){return"4px"}},height:{type:String,default:function(){return"88px"}},backgroundColor:{type:String,default:function(){return""}},showShadow:{type:Boolean,default:function(){return!1}},iconName:{type:String,default:function(){return"jihuabeifen2"}},iconText:{default:""},iconColor:{type:String,default:function(){return""}},iconBackgroundColor:{type:String,default:function(){return""}},showIcon:{type:Boolean,default:function(){return!0}},title:{type:String,default:function(){return"标题"}},showTitle:{type:Boolean,default:function(){return!0}},desc:{type:String,default:function(){return"描述"}},showDesc:{type:Boolean,default:function(){return!0}},dataUrl:{type:String,default:function(){return""}},toUrl:{type:String,default:function(){return""}},number:{type:String,default:function(){return"0"}},unit:{type:String,default:function(){return""}},panelData:{type:Object,default:function(){}},isGroup:{type:Boolean,default:function(){return!1}},size:{type:String,default:""},textAlign:{type:String,default:"center"},toConfig:{type:Object,default:function(){return{}}}},computed:{panelStyle:function(){var t=this.backgroundColor,e=this.height,n=this.panelData,i=void 0===n?{}:n,a=this.$replace,s={height:e};return t&&(s.backgroundColor=a(t,i)),s},iconBoxStyle:function(){var t=this.iconBackgroundColor,e=this.panelData,n=void 0===e?{}:e,i=this.$replace;return{backgroundColor:i(t,n)}},iconStyle:function(){var t=this.iconColor,e={};return t&&(e.color=t),e}},data:function(){return{}},created:function(){!this.isDesign&&this.getData()},methods:{onClick:function(){var t=this.toConfig,e=this.title;this.$open(l(l({},t),{},{title:e}))},getData:function(){var t=this,e=this.dataUrl,n=this.isGroup;e&&!n&&this.$http.get(e).then((function(e){var n=e.data;n&&n.success?t.$emit("update:panelData",n.data):(dsf.layer.message(n.message,!1),t.$emit("update:panelData",{}))})).catch((function(e){dsf.layer.message((null===e||void 0===e?void 0:e.message)||"未知异常",!1),t.$emit("update:panelData",{})})).finally()}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1158:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-virtual-list ds-control ds-no-padding",style:t.controlStyle},[n("div",t._b({staticClass:"ds-virtual-list-warp",style:t.panelStyle,attrs:{"is-design":t.isDesign,pointer:t.pointer}},"div",{hoverBright:t.styleAttrs.hoverBright,dividerLine:t.styleAttrs.dividerLine},!1),[t.isDesign?[n("div",{staticClass:"ds-virtual-list-design",attrs:{"slot-name":"list-row"}},[t._t("list-row",null,null,{row:{},$index:0,$hash:1})],2)]:[!t.loaded||t.listData&&t.listData.length?t._l(t.fliterList,(function(e,i){return n("div",{key:i,staticClass:"ds-virtual-list-row",style:{padding:t.rowPadding.join("px ")+"px",margin:t.rowMargin.join("px ")+"px"},on:{click:function(n){return t.rowClick({row:e,$index:i,$hash:e.$hash})}}},[t._t("list-row",null,null,{row:e,$index:i,$hash:e.$hash})],2)})):n("dsf-empty-data")]],2)])},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfVirtualList",ctrlCaption:"标签面板",mixins:[$mixins.control],design:{isMask:!1},props:{slots:{type:Array,default:function(){return[{name:"list-row",controls:[],scope:"scope",repeat:!0}]}},width:{type:String,default:"100%"},height:{type:String,default:"auto"},styleType:{type:String,default:"one"},list:{type:Array,default:function(){return[]}},url:{type:String,default:""},urlPrefix:{type:String,default:null},urlQuery:{type:Object,default:function(){}},padding:{type:Array,default:function(){return[0,0,0,0]}},margin:{type:Array,default:function(){return[0,0,0,0]}},rowPadding:{type:Array,default:function(){return[0,0,0,0]}},rowMargin:{type:Array,default:function(){return[0,0,0,0]}},styleAttrs:{type:Object,default:function(){return{hoverBright:!1,dividerLine:!1}}},max:{type:Number,default:null},pointer:{type:Boolean,default:!0}},computed:{fliterList:function(){var t=this.listData,e=this.max;return e?t.slice(0,e):t||[]},controlStyle:function(){var t=this.width,e=this.margin,n=this.height,i=this.isDesign,a=this.listData,s={width:t,height:n,padding:e.join("px ")+"px"};return i&&(s.padding="10px 10px 10px 10px"),"auto"!=n||a&&a.length||(s.height="100%"),s},panelStyle:function(){var t=this.height,e=this.padding,n=this.listData,i={height:t,padding:e.join("px ")+"px"};return"auto"!=t||n&&n.length||(i.height="100%"),i}},data:function(){return{loaded:!1,listData:[]}},watch:{listData:{immediate:!0,handler:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_.each(e,(function(e){!("$hash"in e)&&t.$set(e,"$hash",dsf.uuid())})),this.$emit("list-change",e)}},list:{immediate:!0,handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.listData=t,this.loaded=!0}},url:{immediate:!0,handler:function(){this.getDataUrl()}},urlQuery:function(){this.getDataUrl()}},created:function(){},methods:{getDataUrl:function(){var t=this,e=this.$replace(this.url);!this.isDesign&&e&&(this.getDataUrlSetTimeout&&clearTimeout(this.getDataUrlSetTimeout),this.getDataUrlSetTimeout=setTimeout((function(){var n=l({},t.urlQuery||{});t.$http.get(e,n,null==t.urlPrefix?void 0:t.urlPrefix).then((function(e){var n=e.data;n&&n.success?t.listData=n.data||[]:dsf.layer.message(n.message,!1)})).catch((function(t){dsf.layer.message((null===t||void 0===t?void 0:t.message)||"未知异常",!1)})).finally((function(){t.loaded=!0}))}),400))},reloadData:function(){this.getDataUrl(),_.each(this.$children,(function(t){(null===t||void 0===t?void 0:t.reloadData)&&t.reloadData()}))},rowClick:function(t){this.$dispatch("row-click",t)}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1159:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isDesign||t.visible,expression:"isDesign || visible"}],staticClass:"ds-control",style:t.controlStyle},[n("div",{staticClass:"ds-home-user-center",style:t.panelStyle,attrs:{"is-design":t.isDesign}},[t.loaded?n("el-image",{staticClass:"ds-home-user-center-head-box",style:t.headStyle,attrs:{src:t._f("imgFormat")(t.info.photo||t.$replace(t.dsf.config.setting_public_user_default_header)),fit:"cover"}}):t._e(),t.info?n("div",{staticClass:"ds-home-user-center-info"},[n("div",{staticClass:"ds-home-user-center-name"},[t._v(t._s(t.info.name||""))]),t._l(t.info.exts||[],(function(e,i){return[n("div",{key:i,staticClass:"ds-home-user-center-row"},[n("DsfIcon",{staticClass:"ds-home-user-center-row-icon",attrs:{name:t.extsIconsList[i]}}),n("div",{staticClass:"ds-home-user-center-row-label"},[t._v(" "+t._s(e.text||"")+"： ")]),n("div",{staticClass:"ds-home-user-center-row-value ellipsis",attrs:{title:e.value||""}},[t._v(" "+t._s(e.value||"")+" ")])],1)]}))],2):t._e()],1)])},a=[],s=dsf.component({name:"DsfHomeUserCenter",ctrlCaption:"用户中心",mixins:[$mixins.control],provide:function(){return{$homePanel:this}},design:{isMask:!1},props:{headHeight:{default:function(){return 208}},height:{type:String,default:"100%"},padding:{default:function(){return[0,0,0,0]}},info:{default:function(){return{name:"名称",photo:"",exts:[{text:"学号",value:"122001"},{text:"单位",value:"单位名称"},{text:"电话",value:"1810xxxxxx"}]}}},extsIcons:{default:function(){return"zuzhiqunzu,tab_AddressBook_d,xiaoxitongzhi"}},url:{default:""}},computed:{extsIconsList:function(){return this.extsIcons.split(",")},headStyle:function(){var t=this.headHeight,e=void 0===t?108:t,n={height:e+"px",width:.78*e+"px"};return n},controlStyle:function(){var t=this.width,e=this.padding,n=this.height,i=this.isDesign,a=this.visible,s={width:t,padding:e.join("px ")+"px",height:n};return i&&(s.padding="10px 10px 10px 10px",!a&&(s.opacity="0.5")),s},panelStyle:function(){var t=this.height;return{height:t}},getMoreUrl:function(){if(this.isDesign)return!1;var t=this.getTabObj(),e=this.moreUrl;return t&&""!=t.more&&(e=t.more),e}},data:function(){return{loaded:!1}},watch:{url:{immediate:!0,handler:function(){this.getData()}}},created:function(){},mounted:function(){},methods:{getData:function(){var t=this;if(this.loaded=!1,!this.isDesign&&this.url){var e={};this.$http.get(this.$replace(this.url,{}),e).then((function(e){var n=e.data;n&&n.success?t.$emit("update:info",n.data||{}):dsf.layer.message(n.message,!1)})).catch((function(t){dsf.layer.message((null===t||void 0===t?void 0:t.message)||"未知异常",!1)})).finally((function(){t.loaded=!0}))}},reloadData:function(){this.getData()}}}),r=s,o=(n(757),n(0)),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},1160:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-control",style:t.controlStyle},[n("div",{staticClass:"ds-announcemen-mail",style:t.panelStyle},[n("DsfVirtualScroll",[n("DsfVirtualList",t._b({ref:"vlist",attrs:{isDesign:t.isDesign,url:t.dataUrl},on:{"list-change":t.listChangeFn,"row-click":t.rowClick},scopedSlots:t._u([t.isDesign?{key:"list-row",fn:function(){return[n("div",{staticClass:"ds-list-col2-row",style:{lineHeight:t.lineHeight}},[n("div",{staticClass:"ds-list-col2-item ellipsis",attrs:{title:"标题",type:"name"}},[t._v(" 标题 ")]),n("div",{staticClass:"ds-list-col2-item",attrs:{type:"time"}},[t._v("时间")])])]},proxy:!0}:{key:"list-row",fn:function(e){return[n("div",{staticClass:"ds-list-col2-row",style:{lineHeight:t.lineHeight},attrs:{read:1==e.row.state}},[1==e.row.isTop?n("img",{staticClass:"ds-list-col2-item",attrs:{type:"top",src:t.dsf.url.getWebPath("/static/img/home/top.png")}}):t._e(),n("div",{staticClass:"ds-list-col2-item ellipsis",attrs:{title:e.row.title||"",type:"name"}},[t._v(" "+t._s(e.row.title||"")+" ")]),n("div",{staticClass:"ds-list-col2-item",attrs:{type:"time"}},[t._v(" "+t._s(t._f("time")(e.row.createTime))+" ")])])]}}],null,!0)},"DsfVirtualList",{rowPadding:t.rowPadding,rowMargin:t.rowMargin,urlQuery:t.urlQuery},!1))],1)],1)])},a=[],s=n(560),r=dsf.component({name:"DsfUniteHomeAnnouncemenMail",ctrlCaption:"首页公告邮件列表",mixins:[s["a"]],props:{dataUrl:{type:String,default:"/email/receive/queryUserReceiveList?pageNum=1"}}}),o=r,l=(n(759),n(0)),u=Object(l["a"])(o,i,a,!1,null,null,null);e["default"]=u.exports},1161:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-control",style:t.controlStyle},[n("div",{staticClass:"ds-announcemen-mail dsf-home-notice-announcement-list",style:t.panelStyle},[n("DsfVirtualScroll",[n("DsfVirtualList",t._b({ref:"vlist",attrs:{isDesign:t.isDesign,url:t.dataUrl},on:{"list-change":t.listChangeFn,"row-click":t.rowClick},scopedSlots:t._u([t.isDesign?{key:"list-row",fn:function(){return[n("div",{staticClass:"ds-list-col2-row",style:{lineHeight:t.lineHeight}},[n("div",{staticClass:"ds-list-col2-item ellipsis",attrs:{title:"标题",type:"name"}},[t._v("标题")]),n("div",{staticClass:"ds-list-col2-item",attrs:{type:"time"}},[t._v("时间")])])]},proxy:!0}:{key:"list-row",fn:function(e){return[n("div",{staticClass:"ds-list-col2-row",style:{lineHeight:t.lineHeight},attrs:{read:1==e.row.state}},[1==e.row.isTop?n("img",{staticClass:"ds-list-col2-item",attrs:{type:"top",src:t.dsf.url.getWebPath("/static/img/home/top.png")}}):t._e(),n("div",{staticClass:"ds-list-col2-item ellipsis",attrs:{title:e.row.title||"",type:"name"}},[t._v(" "+t._s(e.row.title||"")+" ")]),n("div",{staticClass:"ds-list-col2-item",attrs:{type:"time"}},[t._v(" "+t._s(t._f("time")(e.row.createTime))+" ")])])]}}],null,!0)},"DsfVirtualList",{rowPadding:t.rowPadding,rowMargin:t.rowMargin,urlQuery:t.urlQuery},!1))],1)],1)])},a=[],s=n(560),r=dsf.component({name:"DsfHomeNoticeAnnouncementList",ctrlCaption:"通知公告列表",mixins:[s["a"]],props:{dataUrl:{type:String,default:"/message/info/getMessageList?type=announcement&pageNum=1"}}}),o=r,l=(n(761),n(0)),u=Object(l["a"])(o,i,a,!1,null,null,null);e["default"]=u.exports},1162:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dsf-platform-fixed-menu",class:t.rootClass,style:[t.getBackgroundStyle,t.rootStyle],attrs:{id:t.id}},[n("div",{staticClass:"dsf-platform-fixed-menu-list"},[t._l(t.menuList,(function(e){return[n("nav-menu-item",{key:e._id,attrs:{item:e}},["picture"===e.type?n("el-popover",{attrs:{width:e.showPictureWidth||200,placement:"right"==t.position?"left":"right",trigger:"hover"}},[n("div",{staticClass:"dsf-platform-fixed-menu-popover",attrs:{slot:"reference"},slot:"reference"}),n("el-image",{style:{height:e.showPictureHeight||"200px"},attrs:{src:t._f("imgFormat")(e.showPicture),fit:"cover"}})],1):"tips"===e.type?n("el-popover",{attrs:{width:200,placement:"right"==t.position?"left":"right",trigger:"hover"}},[n("div",{domProps:{innerHTML:t._s(t.getHtml(e))}}),n("div",{staticClass:"dsf-platform-fixed-menu-popover",attrs:{slot:"reference"},slot:"reference"})]):t._e()],1)]}))],2)])},a=[],s=n(3),r=n.n(s),o=n(431);n.e(54).then(n.t.bind(null,681,7));var l=[{_id:1,imgUrl:"",icon:"icon-zhinan",backgroundColor:"",foreColor:"",openType:"1",name:"操作指南",url:""},{_id:2,imgUrl:"",icon:"icon-erweima",backgroundColor:"",foreColor:"",openType:"1",name:"移动二维码",url:""},{_id:3,imgUrl:"",icon:"icon-lianxifangshi",backgroundColor:"",foreColor:"",openType:"1",name:"联系方式",type:"backTop",url:""},{_id:4,imgUrl:"",icon:"icon-fankui",backgroundColor:"",foreColor:"",openType:"1",name:"用户反馈",url:""},{_id:5,imgUrl:"",icon:"icon-fanhuidingbu1",backgroundColor:"",foreColor:"#999",openType:"1",name:"返回顶部",type:"backTop",url:""}],u=dsf.component({name:"DsfPlatformFixedMenu",ctrlCaption:"悬浮菜单",mixins:[$mixins.control],components:{NavMenuItem:o["a"]},props:{pageWidth:{type:String,default:"100%"},position:{type:String,default:"right"},useDefaultStyle:{type:Boolean,default:!1},dataSourceList:{type:Array,default:function(){return l}},hoverAnimation:{type:String,default:"-"},defaultIcon:{type:String,default:""},showPriority:{type:String,default:"img"},menuHasBg:{type:Boolean,default:!0},menuBgColor:{type:String,default:"transparent"},menuBgShadow:{type:Boolean,default:!1},menuColor:{type:String,default:"theme"},menuShadow:{type:Boolean,default:!0},menuIconSize:{type:String,default:"40px"},menuTextSize:{type:String,default:"15px"},menuBorderSize:{type:String,default:"50px"},menuBtSize:{type:String,default:"100px"},menuBtRadius:{type:String,default:"0"},itemClick:{type:Function,required:!1},clickBefore:{type:Function,required:!1}},data:function(){return{id:"FixedMenu-"+dsf.uuid(16)}},computed:{rootClass:function(){var t=[this.hoverAnimation];return this.isDesign||t.push("fixed"),this.menuHasBg&&t.push("hasBg"),this.menuBgShadow&&t.push("bgShadow"),this.menuShadow&&t.push("iconShadow"),t},rootStyle:function(){return{width:this.menuBtSize}},itemStyle:function(){return{width:"100%"}},itemBgStyle:function(){var t={width:this.menuBorderSize,height:this.menuBorderSize};return this.menuHasBg&&(t["background-color"]=this.$compileColor(this.menuBgColor)),t},itemBtStyle:function(){return{width:this.menuBtSize,height:this.menuBtSize}},itemIconStyle:function(){return{"font-size":this.menuIconSize,color:this.$compileColor(this.menuColor)}},itemTextStyle:function(){return{"font-size":this.menuTextSize}},menuList:function(){return this.dataSourceList},realPageWidth:function(){var t=this.pageWidth;return t&&"100%"!==t&&"100vw"!==t?t:"100%"}},watch:{realPageWidth:function(){this.isDesign||this.updateStyle()},position:function(t){this.isDesign?this.$el&&$(this.$el.parentElement).css(r()(r()(r()(r()({width:"auto",overflow:"visible",position:"absolute",top:"50%"},t,"10px"),"left"===t?"right":"left","auto"),"z-index","10000"),"transform","translate(0, -50%)")):this.updateStyle()}},mounted:function(){var t=this;if(this.isDesign)$(this.$el.parentElement).css(r()(r()(r()({width:"auto",overflow:"visible",position:"absolute",top:"50%"},this.position,"10px"),"z-index","10000"),"transform","translate(0, -50%)"));else{document.body.appendChild(this.$el);var e=document.createElement("style");this.styleDom=e,document.body.appendChild(e),this.$nextTick((function(){t.updateStyle()}))}},destroyed:function(){var t,e;null===(t=this.$el)||void 0===t||t.remove(),null===(e=this.styleDom)||void 0===e||e.remove()},methods:{getImgUrl:function(t){var e=t.picture,n=t.imgUrl,i=t.icon;return n=n||e,"img"==this.showPriority?n:i&&""!=i?"":n},getItemStyle:function(t){var e=t.color,n=t.backgroundColor;return this.useDefaultStyle||!this.menuHasBg?{"border-radius":this.menuBtRadius}:(n=n||e,n?{"background-color":n,"border-radius":this.menuBtRadius}:{"border-radius":this.menuBtRadius})},getIconStyle:function(t){var e=t.foreColor;return this.useDefaultStyle?{}:""!=e?{color:e}:{}},getIcon:function(t){return t&&""!=t||(t=this.defaultIcon),t?t.indexOf("icon-")?"icon-"+t:t:""},getHtml:function(t){var e=t.showTemplate,n=t.showContent;return dsf.safe.xss(e.replace("[text]",'<span style="color: #2af;">'.concat(n,"</span>")))},openPage:function(t){var e=t.url;if(e&&""!=e){0==e.indexOf("#")&&0!=e.indexOf("#/")&&(e=e.replace("#","#/")),e=this.$replace(e);var n={url:e,state:t.openType||t.opentype};3==n.state&&(n["title"]=t.dialogTitle||t.name||void 0,n["width"]=t.dialogWidth||"70vw",n["height"]=t.dialogHeight||"60vh"),this.$open(n)}},backTop:function(t){var e=t.scrollDom;e=e?document.querySelector(e):dsf.findScrollEl(this.$parent.$el),e.scrollTo({top:0,behavior:"smooth"})},activeClick:function(t){switch(t.type){case"backTop":this.backTop(t);break;case"default":this.openPage(t);break}},_clickBefore:function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(!this.isDesign){var s=null===(e=this.clickBefore)||void 0===e?void 0:e.call.apply(e,[this].concat(i));s&&s.then?s.then((function(e){!1!==e&&t.apply(void 0,i)})):!1!==s&&t.apply(void 0,i)}},onClick:function(t){var e=this;if(this.itemClick){var n=this.itemClick(t);if(!1===n)return;if(n.then)return void n.then((function(n){!1!==n&&e.activeClick(t)}))}this.activeClick(t)},updateStyle:function(){if("100%"!==this.realPageWidth){var t=this.$el.offsetWidth;t="".concat(this.realPageWidth," + ").concat(2*t,"px + 40px");var e="left"===this.position?"-100% - 10px":"100% + 10px";this.styleDom.innerHTML="\n          @media (min-width: calc(".concat(t,")) {\n            #").concat(this.id," {\n              ").concat(this.position,": calc(50% - ").concat(this.realPageWidth," / 2);\n              transform: translate(calc(").concat(e,"), -50%);\n            }\n          }\n          @media (max-width: calc(").concat(t,")) {\n            #").concat(this.id," {\n              ").concat(this.position,": 20px;\n              transform: translate(0, -50%);\n            }\n          }\n        ")}else this.styleDom.innerHTML="\n          #".concat(this.id," {\n            ").concat(this.position,": 20px;\n            transform: translate(0, -50%);\n          }\n        ")}}}),c=u,d=(n(763),n(0)),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1163:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfHomePanel",t._b({staticClass:"dsf-management-box-notice",attrs:{title:t.title,titleIcon:t.titleIcon,moreIcon:t.moreConfig.url?t.moreIcon||"gengduo":"",moreConfig:t.moreConfig,padding:t.padding,margin:t.margin,styleType:t.styleType,height:t.heightPanel,borderRadius:t.borderRadius,width:t.widthPanel,showHead:t.showHead}},"DsfHomePanel",t.panelConfig,!1),[i("div",{staticClass:"dsf-home-announcemen-mail",style:t.panelStyle},[i("DsfVirtualScroll",[i("DsfVirtualList",t._b({ref:"vlist",attrs:{isDesign:t.isDesign,url:t.url},on:{"list-change":t.listChangeFn,"row-click":t.rowClick},scopedSlots:t._u([t.isDesign?{key:"list-row",fn:function(){return t._l(3,(function(e){return i("div",{key:e,staticClass:"dsf-home-list-col2-row",style:{lineHeight:t.lineHeight}},[i("div",{staticClass:"dsf-home-list-col2-item ellipsis",attrs:{title:"标题",type:"name"}},[t._v(" 如何做一个邮政合格党员 ")]),i("div",{staticClass:"dsf-home-list-col2-item",attrs:{type:"time"}},[t._v("2021-07-19")])])}))},proxy:!0}:{key:"list-row",fn:function(e){return[i("div",{staticClass:"dsf-home-list-col2-row",style:{lineHeight:t.lineHeight},attrs:{read:0!=e.row.status}},[1==e.row.isTop?i("img",{staticClass:"dsf-home-list-col2-item",attrs:{type:"top",src:n(81)}}):t._e(),i("div",{staticClass:"dsf-home-list-col2-item ellipsis",attrs:{title:e.row.title||"",type:"name"}},[t._v(" "+t._s(e.row.title||"")+" ")]),i("div",{staticClass:"dsf-home-list-col2-item",attrs:{type:"time"}},[t._v(" "+t._s(e.row.sendDateTime||t.time)+" ")])])]}}],null,!0)},"DsfVirtualList",{rowPadding:t.rowPadding,rowMargin:t.rowMargin},!1))],1)],1)])},a=[],s=n(3),r=n.n(s),o=n(4),l=n.n(o),u=n(1),c=n.n(u);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=dsf.component({name:"DsfMessageNotice",ctrlCaption:"通知公告",mixins:[$mixins.control],components:{},filters:{time:function(t){return dsf.date.format(t,"mm-dd")}},props:{showHead:{default:!0},width:{type:String,default:"100%"},height:{type:String,default:"100%"},widthPanel:{type:String,default:"100%"},heightPanel:{type:String,default:"100%"},pageSize:{type:Number||String,default:100},title:{type:String,default:"通知公告"},titleIcon:{type:String,default:""},lineHeight:{type:String,default:"45px"},margin:{type:Array,default:function(){return[8,8,8,8]}},padding:{type:Array,default:function(){return[10,0,20,0]}},rowPadding:{type:Array,default:function(){return[0,20,0,20]}},rowMargin:{type:Array,default:function(){return[0,0,0,0]}},list:{type:Array,default:function(){return[]}},dataUrl:{type:String,default:"/message/info/getMessageList?type=announcement&pageNum=1"},toConfig:{type:Object,default:function(){return{}}},moreConfig:{type:Object,default:function(){return{}}},styleType:{type:String,default:"one"},viewedUrl:{type:String,default:"/message/info/markRead"},borderRadius:{type:Array,default:function(){return[0,0,0,0]}},moreShow:{type:Boolean,default:!1},moreText:{type:String,default:""},moreIcon:{type:String,default:"gengduo"},settingShow:{type:Boolean,default:!1},settingText:{type:String,default:""},settingIcon:{type:String,default:"shezhi"},addShow:{type:Boolean,default:!1},addText:{type:String,default:""},addIcon:{type:String,default:"add"}},computed:{controlStyle:function(){var t=this.widthPanel,e=this.padding,n=this.height;return{width:t,padding:e.join("px ")+"px",height:n}},panelStyle:function(){var t=this.height;return{height:t}},panelConfig:function(){return{moreShow:this.moreShow,moreText:this.moreText,moreIcon:this.moreIcon,settingShow:this.settingShow,settingText:this.settingText,settingIcon:this.settingIcon,addShow:this.addShow,addText:this.addText,addIcon:this.addIcon}}},data:function(){return{url:""}},watch:{},created:function(){this.isDesign?this.$dispatch("design-height-change","100%"):this.dataUrl&&(this.url=this.dataUrl+"&pageSize="+this.pageSize)},methods:{reloadData:function(){this.$refs.vlist.reloadData()},listChangeFn:function(t){this.$emit("list-change",t)},rowClick:function(t){var e=this;return l()(c.a.mark((function n(){var i,a,s,r;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.args,a=e.toConfig,s=i.row.url,r=i.row.title,n.next=6,e.redRow(i.row._id);case 6:e.$listeners["row-click"]?e.$dispatch("row-click",i):e.$open(f(f({},a),{},{url:s,title:r}));case 7:case"end":return n.stop()}}),n)})))()},redRow:function(t){return this.$http.post(this.viewedUrl,{id:t,type:"workrecord"})}}}),h=p,g=(n(765),n(0)),m=Object(g["a"])(h,i,a,!1,null,null,null);e["default"]=m.exports},1164:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfHomePanel",t._b({staticClass:"dsf-management-box-notice",attrs:{title:t.title,titleIcon:t.titleIcon,moreIcon:t.moreConfig.url?"gengduo":"",moreConfig:t.moreConfig,padding:t.padding,margin:t.margin,styleType:t.styleType,height:t.heightPanel,width:t.widthPanel,showHead:t.showHead}},"DsfHomePanel",t.panelConfig,!1),[i("div",{staticClass:"dsf-home-announcemen-mail",style:t.panelStyle},[i("DsfVirtualScroll",[i("DsfVirtualList",t._b({ref:"vlist",attrs:{isDesign:t.isDesign,url:t.url},on:{"list-change":t.listChangeFn,"row-click":t.rowClick},scopedSlots:t._u([t.isDesign?{key:"list-row",fn:function(){return t._l(3,(function(e){return i("div",{key:e,staticClass:"dsf-home-list-col2-row",style:{lineHeight:t.lineHeight}},[i("div",{staticClass:"dsf-home-list-col2-item ellipsis",attrs:{title:"标题",type:"name"}},[t._v(" 周工作汇报 ")]),i("div",{staticClass:"dsf-home-list-col2-item",attrs:{type:"time"}},[t._v("2020-04-12")])])}))},proxy:!0}:{key:"list-row",fn:function(e){return[i("div",{staticClass:"dsf-home-list-col2-row",style:{lineHeight:t.lineHeight},attrs:{read:0!=e.row.status}},[1==e.row.isTop?i("img",{staticClass:"dsf-home-list-col2-item",attrs:{type:"top",src:n(81)}}):t._e(),i("div",{staticClass:"dsf-home-list-col2-item ellipsis",attrs:{title:e.row.title||"",type:"name"}},[t._v(" "+t._s(e.row.title||"")+" ")]),i("div",{staticClass:"dsf-home-list-col2-item",attrs:{type:"time"}},[t._v(" "+t._s(t._f("time")(e.row.sendDateTime))+" ")])])]}}],null,!0)},"DsfVirtualList",{rowPadding:t.rowPadding,rowMargin:t.rowMargin},!1))],1)],1)])},a=[],s=n(3),r=n.n(s),o=n(4),l=n.n(o),u=n(1),c=n.n(u);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=dsf.component({name:"DsfInternalMail",ctrlCaption:"内部邮件",mixins:[$mixins.control],components:{},filters:{time:function(t){return dsf.date.parse(t)?dsf.date.format(t,"mm-dd"):t}},props:{showHead:{default:!0},width:{type:String,default:"100%"},height:{type:String,default:"100%"},widthPanel:{type:String,default:"100%"},heightPanel:{type:String,default:"100%"},title:{type:String,default:"内部邮件"},titleIcon:{type:String,default:""},lineHeight:{type:String,default:"45px"},margin:{type:Array,default:function(){return[8,8,8,8]}},padding:{type:Array,default:function(){return[10,0,20,0]}},rowPadding:{type:Array,default:function(){return[0,20,0,20]}},rowMargin:{type:Array,default:function(){return[0,0,0,0]}},list:{type:Array,default:function(){return[]}},dataUrl:{type:String,default:"/email/receive/queryUserReceiveList?pageNum=1"},pageSize:{type:Number||String,default:100},toConfig:{type:Object,default:function(){return{}}},moreConfig:{type:Object,default:function(){return{}}},styleType:{type:String,default:"one"},viewedUrl:{type:String,default:"/message/info/markRead"},moreShow:{type:Boolean,default:!1},moreText:{type:String,default:""},moreIcon:{type:String,default:"gengduo"},settingShow:{type:Boolean,default:!1},settingText:{type:String,default:""},settingIcon:{type:String,default:"shezhi"},addShow:{type:Boolean,default:!1},addText:{type:String,default:""},addIcon:{type:String,default:"add"}},computed:{controlStyle:function(){var t=this.widthPanel,e=this.padding,n=this.height;return{width:t,padding:e.join("px ")+"px",height:n}},panelStyle:function(){var t=this.height;return{height:t}},panelConfig:function(){return{moreShow:this.moreShow,moreText:this.moreText,moreIcon:this.moreIcon,settingShow:this.settingShow,settingText:this.settingText,settingIcon:this.settingIcon,addShow:this.addShow,addText:this.addText,addIcon:this.addIcon}}},data:function(){return{url:""}},watch:{},created:function(){this.isDesign?this.$dispatch("design-height-change","100%"):this.url=this.dataUrl+"&pageSize="+this.pageSize},methods:{reloadData:function(){this.$refs.vlist.reloadData()},listChangeFn:function(t){this.$emit("list-change",t)},rowClick:function(t){var e=this;return l()(c.a.mark((function n(){var i,a,s,r;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.args,a=e.toConfig,s=i.row.url,r=i.row.title,n.next=6,e.redRow(i.row._id);case 6:e.$open(f(f({},a),{},{url:s,title:r}));case 7:case"end":return n.stop()}}),n)})))()},redRow:function(t){return this.$http.post(this.viewedUrl,{id:t,type:"workrecord"})}}}),h=p,g=(n(767),n(0)),m=Object(g["a"])(h,i,a,!1,null,null,null);e["default"]=m.exports},1165:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsfHomePanel",{staticClass:"dsf-management-box-notice",attrs:{title:t.title,titleIcon:t.titleIcon,moreConfig:t.moreConfig,padding:t.padding,margin:t.margin,styleType:t.styleType,height:t.heightPanel,borderRadius:t.borderRadius,width:t.widthPanel,moreShow:t.headMore,settingShow:!0},on:{"setting-click":t.settingBtn}},[n("DsfNavMenu",{ref:"navmenu",attrs:{"data-source-url":t.dataUrl,"col-num":t.colNum,"row-num":t.rowNum,"max-pages":t.maxPages,height:t.height,"min-height":t.minHeight,arrow:t.arrow,"use-default-style":t.useDefaultStyle,"has-more":t.hasMore,"more-text":t.moreText,"more-icon":t.moreIcon,"more-url":t.moreUrl,"more-opentype":t.moreOpentype,"hover-animation":t.hoverAnimation,"default-icon":t.defaultIcon,"show-priority":t.showPriority,"menu-has-bg":t.menuHasBg,"menu-bg-color":t.menuBgColor,"menu-bg-shadow":t.menuBgShadow,"menu-color":t.menuColor,"menu-shadow":t.menuShadow,"menu-border-radius":t.menuBorderRadius,"menu-border-size":t.menuBorderSize,"menu-icon-size":t.menuIconSize,"menu-bt-size":t.menuBtSize,"menu-bt-radius":t.menuBtRadius,"data-source":t.dataSource,"data-source-list":t.dataSourceList,"item-click":t.itemClick,"is-design":t.isDesign,"group-model":t.groupModel,groupModelChildrenMax:t.groupModelChildrenMax}})],1)},a=[],s=n(4),r=n.n(s),o=n(1),l=n.n(o),u=dsf.component({name:"DsfShortcutMenu",ctrlCaption:"快捷菜单",mixins:[$mixins.control],props:{widthPanel:{type:String,default:"100%"},heightPanel:{type:String,default:"100%"},titleIcon:{type:String,default:""},toConfig:{type:Object,default:function(){return{}}},moreConfig:{type:Object,default:function(){return{}}},styleType:{type:String,default:"one"},title:{type:String,default:"快捷菜单"},groupModel:{type:String,default:"none"},groupModelChildrenMax:{default:0},colNum:{type:Number,default:5},rowNum:{type:Number,default:0},maxPages:{type:Number,default:0},height:{type:String,default:"100%"},minHeight:{type:String,default:"130px"},arrow:{type:Boolean,default:!1},useDefaultStyle:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},headMore:{type:Boolean,default:!1},moreText:{type:String,default:"更多"},moreIcon:{type:String,default:"icon-quanbu"},moreUrl:{type:String,default:""},moreOpentype:{type:String,default:"0"},hoverAnimation:{type:String,default:"-"},defaultIcon:{type:String,default:""},showPriority:{type:String,default:"img"},menuHasBg:{type:Boolean,default:!0},menuBgColor:{type:String,default:"#fff"},menuBgShadow:{type:Boolean,default:!0},menuColor:{type:String,default:"theme"},menuShadow:{type:Boolean,default:!0},menuBorderRadius:{type:String,default:"5px"},menuBorderSize:{type:String,default:"50px"},menuIconSize:{type:String,default:"30px"},menuBtSize:{type:String,default:"100px"},menuBtRadius:{type:String,default:"5px"},dataSource:{type:String,default:"http"},dataSourceUrl:{type:String,default:"/scmenu/queryUserScMenu"},saveSourceUrl:{type:String,default:"/scmenu/saveUserScMenu"},minNumber:{type:[Number,String],default:"6"},dataSourceList:{type:Array,default:function(){return[]}},allUrl:{default:"/scmenu/queryUserAllowMarkScMenu?code="},margin:{type:Array,default:function(){return[8,8,8,8]}},padding:{type:Array,default:function(){return[10,20,10,20]}},itemClick:{type:Function,required:!1},borderRadius:{type:Array,default:function(){return[0,0,0,0]}},isSyncCaption:{default:!0},customModuleId:{default:void 0}},data:function(){return{dataUrl:""}},computed:{openGroup:function(){return"none"!==this.groupModel}},created:function(){if(this.isDesign)this.$dispatch("design-height-change","100%");else{var t={queryNum:this.minNumber};this.isSyncCaption&&(t["moduleId"]=this.getModuleId()),"none"!=this.groupModel?t.isTree=1:t.isTree=0,this.dataUrl=dsf.url.addQuery(this.$replace(this.dataSourceUrl),t)}},methods:{getModuleId:function(){var t,e,n;return(null===this||void 0===this||null===(t=this.$vm)||void 0===t?void 0:t.nameSpace)+"-"+(null!==(e=this.customModuleId)&&void 0!==e?e:null===this||void 0===this||null===(n=this.$getCaptionCtrl())||void 0===n?void 0:n.caption)},settingBtn:function(){var t=this,e=[];"none"==this.groupModel?e=this.$refs.navmenu.data:_.each(this.$refs.navmenu.data,(function(t){t.children&&_.each(t.children,(function(t){return e.push(t)}))})),this.$openDialog({title:"自定义菜单",width:"1000px",height:"460px",content:"DsfNavMenuSetting",customClass:"dsf-nav-menu-setting-dialog",params:{value:e,allUrl:this.allUrl,openGroup:this.openGroup,groupModelChildrenMax:this.groupModelChildrenMax},btns:[{text:"保存",type:"primary",handler:function(e){return t.saveMenus(e.yes())}},{text:"取消"}]})},saveMenus:function(t){var e=this;return r()(l.a.mark((function n(){var i,a,s,r,o,u,c,d;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=dsf.layer.loading(),a=dsf.url.parse(e.$replace(e.saveSourceUrl)),s=a.searchQuery||{},s.moduleId=e.getModuleId(),e.openGroup)s.isTree=1,t=_.cloneDeep(t),t.forEach((function(t,n){var i;t.order=n,e.isSyncCaption&&(t.moduleId=e.getModuleId()),null===t||void 0===t||null===(i=t.children)||void 0===i||i.forEach((function(t,n){t.order=n,e.isSyncCaption&&(t.moduleId=e.getModuleId())}))}));else if(s.isTree=0,e.isSyncCaption)for(r in t)t[r].moduleId=e.getModuleId();return n.prev=5,n.next=8,e.$http.post(a.pathname+"?"+dsf.url.queryStringStringify(s),t,{headers:{"Content-Type":"application/json; charset=utf-8"}});case 8:if(o=n.sent,u=o.data,c=u.success,d=u.message,c){n.next=14;break}throw d;case 14:dsf.layer.message("保存成功"),e.reloadData(),n.next=22;break;case 18:return n.prev=18,n.t0=n["catch"](5),dsf.layer.message(n.t0,!1),n.abrupt("return",!1);case 22:return n.prev=22,dsf.layer.closeLoading(i),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[5,18,22,25]])})))()},reloadData:function(){_.each(this.$children,(function(t){(null===t||void 0===t?void 0:t.reloadData)&&t.reloadData()}))}}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1166:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsfHomeTabPanel",t._b({attrs:{borderRadius:t.borderRadius,isDesign:t.isDesign},on:{change:function(e){return t.$dispatch("change",e)}}},"DsfHomeTabPanel",t.daibanPanelConfig,!1,!0),[t._l(t.daibanPanelConfig.slots,(function(e,i){return n("template",{slot:e.name},[n("DsfHomePendingProcess",t._g(t._b({key:i,attrs:{toConfig:e.rowClick?e.rowClick:t.daibanPanelContentToConfig,nodeNameShow:t.daibanPanelConfig.nodeNameShow,url:t.buildUrl(e.url),isDesign:t.isDesign,pageSize:t.pageSize,showFollow:(t.showFollow,!1),viewedUrlPrefix:t.viewedUrlPrefix,urlPrefix:t.urlPrefix,followUrlPrefix:t.followUrlPrefix,timeFormat:t.timeFormat},scopedSlots:t._u([{key:"operating",fn:function(e){return[t._t("operating",null,null,e)]}},{key:"row",fn:function(e){return[t._t("row",null,null,e)]}}],null,!0)},"DsfHomePendingProcess",t.daibanPanelContentConfig[e.name],!1,!0),t.$listeners))],1)}))],2)},a=[],s=n(3),r=n.n(s);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=dsf.component({name:"DsfMessageNotification",mixins:[$mixins.control],ctrlCaption:"消息待办",provide:function(){return{$ctrl:this}},props:{useColor:{type:Boolean,default:!1},timeFormat:{default:"mm-dd"},pageSize:{type:[Number,String],default:100},selectTabsVals:{default:null},daibanPanelConfig:{default:function(){return{slots:[{title:"全部",name:"all",hide:!1,badge:null,lazy:!1,url:"/message/info/getMessageList?pageNum=1",more:{}},{title:"待办",name:"workrecord",hide:!1,badge:null,lazy:!1,url:"/message/info/getMessageList?type=workrecord&pageNum=1",more:{url:""}},{title:"待阅",name:"read",hide:!1,badge:null,lazy:!1,url:"/message/info/getMessageList?type=read&pageNum=1",more:{url:""}},{title:"消息",name:"announcement",hide:!1,badge:null,lazy:!1,url:"/message/info/getMessageList?type=announcement&pageNum=1",more:{}}],title:"",titleIcon:"",showShadow:!0,width:"100%",height:"100%",moreIcon:"gengduo",moreText:"",moreShow:!0,addIcon:"add",addText:"",addShow:!1,settingIcon:"shezhi",settingText:"",settingShow:!0,padding:[0,0,25,0],margin:[8,8,8,8],styleType:"one",active:"all",badgeUrl:"/message/info/queryMessageTotal?status=0&type=announcement,read,workrecord,all",openScroll:!1,nodeNameShow:!1}}},daibanPanelContentConfig:{default:function(){return{all:{width:"100%",height:"100%",padding:[0,0,0,0],list:[],url:"/message/info/getMessageList?pageNum=1",toConfig:{}},workrecord:{width:"100%",height:"100%",padding:[0,0,0,0],list:[],url:"/message/info/getMessageList?type=workrecord&pageNum=1",toConfig:{}},read:{width:"100%",height:"100%",padding:[0,0,0,0],list:[],url:"/message/info/getMessageList?type=read&pageNum=1",toConfig:{}},announcement:{width:"100%",height:"100%",padding:[0,0,0,0],list:[],url:"/message/info/getMessageList?type=announcement&pageNum=1",toConfig:{}}}}},daibanPanelContentToConfig:{type:Object,default:function(){return{}}},borderRadius:{type:Array,default:function(){return[0,0,0,0]}},showFollow:{type:Boolean,default:!1},showTopFun:{type:Boolean,default:!1},showEditBtn:{type:Boolean,default:!1},followUrlPrefix:{type:String,default:null},viewedUrlPrefix:{type:String,default:null},urlPrefix:{type:String,default:null}},computed:l(l({},Vuex.mapState("ws",["subscript"])),{},{controlStyle:function(){var t=this.widthPanel,e=this.heightPanel;return{width:t,height:e}}}),watch:{"subscript.workrecord":{handler:function(t){this.$set(this.daibanPanelConfig.slots[1],"badge",t||0)},immediate:!0}},created:function(){if(this.isDesign)this.$dispatch("design-height-change","100%");else{var t=l({},this.daibanPanelContentConfig);this.$emit("update:daibanPanelContentConfig",t)}var e=dsf.mix(this.getPanelDefaultConfig(),this.daibanPanelConfig);dsf.mix(this.daibanPanelConfig,e)},beforeDestroy:function(){var t;null===(t=this._socket)||void 0===t||t.$end()},methods:{getPanelDefaultConfig:function(){return{title:"",titleIcon:"",showShadow:!0,width:"100%",height:"100%",moreIcon:"gengduo",moreText:"",moreShow:!0,addIcon:"add",addText:"",addShow:!1,settingIcon:"shezhi",settingText:"",settingShow:!0,padding:[0,0,25,0],margin:[8,8,8,8],styleType:"one",active:"all",badgeUrl:"/message/info/queryMessageTotal?status=0&type=announcement,read,workrecord,all",openScroll:!1,nodeNameShow:!1}},getRootCtrl:function(){var t=this;while(!t.caption&&t.$parent!==t)t=t.$parent;return t.caption?t:this},settingClick:function(t){var e=this;this.$openDialog({title:"个性化设置",showClose:!0,content:"DsfTabPanelSetting",height:"500px",width:"800px",params:{currentData:this.daibanPanelConfig.slots||[],selectTabsVals:this.realSelectTabsVals||_.map(this.daibanPanelConfig.slots,"name")||[],noUrl:!0},btns:[{text:"重置",handler:function(t){null===t||void 0===t||t.reset()}},{text:"确定",handler:function(t){var n=(null===t||void 0===t?void 0:t.yes())||[],i=e.getRootCtrl();n.length||(n=_.map(e.slots,"name")),-1===n.indexOf(e.tabActive)&&(e.tabActive=n[0]||""),e.selectTabsValsCopy=n,i.caption&&(i.$emit("update:selectTabsVals",n),i.$addCustom(i.caption,{selectTabsVals:n}))}},{text:"取消"}]})},buildUrl:function(t){return t&&/^\/message\/info\/getMessageList/.test(t)&&(/pageNum\b/.test(t)||(/\?/.test(t)?t+="&":t+="?",t+="pageNum=1")),t},reloadData:function(){this.$childrenReloadData()}},design:{isMask:!1}}),c=u,d=n(0),f=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=f.exports},1167:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loadComplete?n("div",{staticClass:"ds-tab-panel-setting"},[t._m(0),n("div",{staticClass:"ds-tab-panel-setting-warp",attrs:{type:"select"}},[n("draggable",t._b({attrs:{value:t.selectTabs},on:{update:t.update}},"draggable",t.options,!1),[t._l(t.selectTabs,(function(e,i){return[n("el-tag",{key:e.name,attrs:{closable:""},on:{close:function(n){return t.removeTag(e,i)}}},[t._v(" "+t._s(e.title)+" ")])]}))],2)],1),t._m(1),n("div",{staticClass:"ds-tab-panel-setting-warp"},[n("el-checkbox-group",{model:{value:t.selectTabValues,callback:function(e){t.selectTabValues=e},expression:"selectTabValues"}},[t._l(t.tabs,(function(e){return[n("el-checkbox",{key:e.name,attrs:{label:e.name,size:"medium",border:""}},[t._v(" "+t._s(e.title)+" ")])]}))],2)],1),n("div",{})]):t._e()},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-tab-panel-setting-title"},[n("div",{staticClass:"ds-tab-panel-setting-title-text"},[t._v("已选标签")]),n("div",{staticClass:"ds-tab-panel-setting-title-sbu"},[t._v("（长按标签可拖拽排序）")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-tab-panel-setting-title"},[n("div",{staticClass:"ds-tab-panel-setting-title-text"},[t._v("可选标签")]),n("div",{staticClass:"ds-tab-panel-setting-title-sbu"},[t._v("（都不选时，显示所有）")])])}],s={name:"DsfMessageNotificationSetting",mixins:[$mixins.tabPanelSetting]},r=s,o=n(0),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},1168:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dsf-home-tab-panel",t._b({ref:"panel",staticClass:"ds-schedule-box schedule-list",attrs:{slots:t.realConfig,"add-show":"","more-show":""},on:{"setting-click":t.settingClick},scopedSlots:t._u([{key:"more",fn:function(e){return[t._t("more",null,null,e)]}}],null,!0)},"dsf-home-tab-panel",t.panelConfig,!1),[t._l(t.realConfig,(function(e){return n("template",{slot:e.name},[n("dsf-schedule-list-item",{key:e.name,ref:"scheduleList",refInFor:!0,style:t.mainStyle,attrs:{url:e.url,"holiday-url":t.holidayUrl,"is-show-holiday":t.isShowHoliday,"is-design":t.isDesign,"is-switch":t.isSwitch,"setting-config":t.settingConfig||{pageSize:5,type:t.defaultShowType,ellipsis:!0},"default-active-mode":t.defaultActiveMode,"weekend-height-light":t.weekendHeightLight,"festival-height-light":t.festivalHeightLight,"is-show-agenda-type":t.isShowAgendaType,"is-show-address":t.isShowAddress,classInfo:"","is-parameter":""},scopedSlots:t._u([{key:"list",fn:function(e){var n=e.list;return[t._t("list",null,{list:n})]}},{key:"default",fn:function(e){var n=e.item,i=e.index;return[t._t("default",null,{item:n,index:i})]}},{key:"list-bottom",fn:function(n){var i=n.item,a=n.index;return[t._t("list-bottom-"+e.name,null,{config:e,item:i,index:a})]}}],null,!0)})],1)}))],2)},a=[],s=dsf.component({name:"DsfScheduleList",mixins:[$mixins.control],ctrlCaption:"个人日程",design:{isMask:!1},props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},showShadow:{type:Boolean,default:!0},padding:{type:Array,default:function(){return[10,20,0,20]}},margin:{type:Array,default:function(){return[8,8,8,8]}},styleType:{type:String,default:"compact"},isSwitch:{type:Boolean,default:!1},active:{type:String,default:""},schedulePanelConfig:{type:Array,default:function(){return[{title:"我的日程",name:"mySchedule",hide:!1,badge:null,lazy:!1,more:{},url:"/agenda/info/queryUserAgendaByDate"},{title:"领导日程",name:"leaderSchedule",hide:!1,badge:null,lazy:!1,more:{},url:"/agenda/info/queryUserAgendaByDate"}]}},borderRadius:{type:Array,default:function(){return[0,0,0,0]}},settingConfig:{type:Object,default:null},settingShow:{type:Boolean,default:!0},settingText:{type:String,default:""},settingIcon:{type:String,default:"shezhi"},defaultActiveMode:{type:String,default:"0"},settingTypeOptions:{type:Array,default:function(){return["week","week2","month"]}},defaultShowType:{type:String,default:"week"},addShow:{type:Boolean,default:!0},addIcon:{type:String,default:"hao"},addText:{type:String,default:"新增日程"},moreShow:{type:Boolean,default:!0},moreIcon:{type:String,default:"gengduo"},moreText:{type:String,default:"更多"},weekendHeightLight:{type:Boolean,default:!0},festivalHeightLight:{type:Boolean,default:!1},holidayUrl:{type:String,default:"/agenda/info/findHoliday"},isShowHoliday:{type:Boolean,default:!1},isShowAgendaType:{type:Boolean,default:!1},isShowAddress:{type:Boolean,default:!0}},data:function(){return{classInfo:{},activeClassIndex:0}},computed:{mainStyle:function(){var t={padding:"0px 0px 0px 0px"};return t},realConfig:function(){return _.filter(this.schedulePanelConfig,(function(t){return!t.hide}))},panelConfig:function(){return{title:"",titleIcon:"",width:this.width,height:this.height,padding:this.padding,margin:this.margin,isDesign:this.isDesign,styleType:this.styleType,borderRadius:this.borderRadius,active:this.active,forceShowTab:!1,settingShow:this.settingShow,settingText:this.settingText,settingIcon:this.settingIcon,moreShow:this.moreShow,moreIcon:this.moreIcon,moreText:this.moreText,addShow:this.addShow,addText:this.addText,addIcon:this.addIcon}}},created:function(){this.isDesign&&this.$dispatch("design-height-change","100%")},methods:{settingClick:function(){var t=this;this.$openDialog({title:"个性化设置",content:"DsfScheduleListSetting",height:"500px",width:"800px",params:{settingTypeOptions:this.settingTypeOptions,settingConfig:this.settingConfig||{pageSize:5,type:this.defaultShowType,ellipsis:!0}},btns:[{text:"重置",handler:function(){var e={pageSize:5,type:t.defaultShowType,ellipsis:!0};t.$emit("update:settingConfig",e),t.$addCustom(t.caption,{settingConfig:e})}},{text:"确定",type:"",handler:function(e){var n=e.yes();t.$emit("update:settingConfig",n),t.$addCustom(t.caption,{settingConfig:n})}},{text:"取消"}]})}}}),r=s,o=n(0),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},1170:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-control",style:t.controlStyle},[n("div",{staticClass:"dsf-home-pending-process",style:t.panelStyle,attrs:{isDesign:t.isDesign}},[t.isDesign?[n("DsfVirtualList",{attrs:{isDesign:t.isDesign,styleAttrs:{hoverBright:!0},rowPadding:[0,20,0,20],rowMargin:[0,20,0,20]},scopedSlots:t._u([{key:"list-row",fn:function(e){return t._l(3,(function(i){return n("div",{key:i,staticClass:"dsf-home-pending-process-row",attrs:{read:!1}},[n("div",{staticClass:"dsf-uhppr-normal"},[n("div",{staticClass:"dsf-uhppr-name-box"},[n("div",{staticClass:"dsf-uhppr-name ellipsis",attrs:{title:e.row&&e.row.title}},[t.$ctrl.useColor?[n("span",{staticClass:"wfName"},[t._v("费用申请流程")]),t._v(" 家具购置申请 ")]:[t._v(" [费用申请流程]家具购置申请 ")]],2),n("span",{staticClass:"dsf-uhppr-desc ellipsis",attrs:{title:"请尽快处理，后交张三疯审核"}},[t._v(" 描述 ")])]),t.nodeNameShow?n("div",{staticClass:"dsf-uhppr-node ellipsis",attrs:{title:"审批中"}},[t._v(" 审批中 ")]):t._e(),n("div",{staticClass:"dsf-uhppr-ren ellipsis",attrs:{title:"管理员"}},[t._v("管理员")]),n("div",{staticClass:"dsf-uhppr-time"},[t._v("2020-10-01")]),n("div",{staticClass:"dsf-uhppr-operating"},[t.$slots["operating"]?[t._t("operating",null,null,e)]:[t.showFollow?n("div",{staticClass:"dsf-uhppr-operating-item",on:{click:function(n){return t.operatingClick(n,Object.assign({},{type:"gz"},e))}}},[n("DsfIcon",{staticStyle:{color:"#fc6a6a"},attrs:{name:"aixin"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v("关注")])],1):t._e(),t._e(),t.$ctrl.showTopFun?n("div",{staticClass:"dsf-uhppr-operating-item",on:{click:function(n){return t.operatingClick(n,Object.assign({},{type:"zd"},e))}}},[1==i?[n("DsfIcon",{staticStyle:{color:"#efaf02",transform:"scaleY(-1)"},attrs:{name:"zhiding2"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 取消置顶 ")])]:[n("DsfIcon",{staticStyle:{color:"#efaf02"},attrs:{name:"zhiding2"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 置顶 ")])]],2):t._e(),t.$ctrl.showEditBtn?n("div",{staticClass:"dsf-uhppr-operating-item"},[n("DsfIcon",{staticStyle:{color:"#007ef7"},attrs:{name:"xiaoxi"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v("操作")])],1):t._e(),t._e()]],2)])])}))}}],null,!0)})]:[n("DsfVirtualList",{attrs:{url:t.url,list:t.list,"is-design":t.isDesign,"style-attrs":{hoverBright:!0},"row-padding":[0,0,0,0],"row-margin":[0,20,0,20],"url-query":t.urlQuery,urlPrefix:t.urlPrefix},on:{"row-click":t.virtualListRowClick},scopedSlots:t._u([{key:"list-row",fn:function(e){return[t._t("row",(function(){return[n("div",{staticClass:"dsf-home-pending-process-row",attrs:{read:t.getReadStats(e.row)}},[n("div",{staticClass:"dsf-uhppr-normal"},[n("div",{staticClass:"dsf-uhppr-name-box"},[n("div",{staticClass:"dsf-uhppr-name ellipsis",attrs:{title:e.row&&e.row.title}},[t._l(t.getIcons(e.row),(function(t,e){return n("img",{key:e,staticClass:"dsf-uhppr-ontop",attrs:{src:t}})})),e.row.signs.length?[t._l(e.row.signs,(function(e,i){return[e.icon?n("img",{key:i,staticClass:"dsf-uhppr-ontop sign",attrs:{src:t.dsf.url.getWebPath(e.icon)}}):t._e()]}))]:t._e(),t.$ctrl.useColor&&e.row?[e.row.wfName?[t.needEmpty(e.row)?n("span",[t._v(" ")]):t._e(),n("span",{staticClass:"wfName",style:e.row.color?{backgroundColor:e.row.color}:{}},[t._v(t._s(e.row.wfName))]),t._v(" "+t._s(e.row.objectName)+" ")]:[t._v(" "+t._s(e.row.objectName)+" ")]]:e.row?[t._v(" "+t._s(e.row.title)+" ")]:t._e()],2),1==e.row.isBack?n("div",{staticClass:"back-reason ellipsis"},[t._v(" 退回原因："+t._s(e.row.backReason)+" ")]):t._e()]),t.nodeNameShow&&e.row&&e.row.nodeName?n("div",{staticClass:"dsf-uhppr-node ellipsis",attrs:{title:e.row&&e.row.nodeName}},[t._v(" "+t._s(e.row&&e.row.nodeName)+" ")]):t._e(),e.row&&e.row.sendUserName?n("div",{staticClass:"dsf-uhppr-ren ellipsis",attrs:{title:e.row&&e.row.sendUserName}},[t._v(" "+t._s(e.row.sendUserName)+" ")]):t._e(),e.row&&e.row.origin?n("div",{staticClass:"dsf-uhppr-ren ellipsis",attrs:{title:e.row.origin}},[t._v(" "+t._s(e.row.origin)+" ")]):t._e(),n("div",{staticClass:"dsf-uhppr-time"},[t._v(" "+t._s(t._f("time")(e.row&&e.row.sendDateTime,t.timeFormat))+" ")]),n("div",{staticClass:"dsf-uhppr-operating"},[t._t("operating",(function(){return[t.showFollow?n("div",{staticClass:"dsf-uhppr-operating-item",attrs:{type:"zd"},on:{click:function(n){return n.stopPropagation(),t.operatingClick(n,Object.assign({},{type:"gz"},e))}}},[1==e.row.isConcern?[n("DsfIcon",{staticStyle:{color:"#fc6a6a"},attrs:{name:"aixin_shixin"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 取消关注 ")])]:[n("DsfIcon",{staticStyle:{color:"#fc6a6a"},attrs:{name:"aixin"}}),0==e.row.isConcern?n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 关注 ")]):t._e()]],2):t._e(),t.$ctrl.showTopFun?n("div",{staticClass:"dsf-uhppr-operating-item",attrs:{type:"zd"},on:{click:function(n){return n.stopPropagation(),t.operatingClick(n,Object.assign({},{type:"zd"},e))}}},[1==e.row.isTop?[n("DsfIcon",{staticStyle:{color:"#efaf02",transform:"scaleY(-1)"},attrs:{name:"zhiding2"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 取消置顶 ")])]:[n("DsfIcon",{staticStyle:{color:"#efaf02"},attrs:{name:"zhiding2"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v(" 置顶 ")])]],2):t._e(),t.$ctrl.showEditBtn?n("div",{staticClass:"dsf-uhppr-operating-item",attrs:{type:"cz"},on:{click:function(n){return n.stopPropagation(),t.operatingClick(n,Object.assign({},{type:"cz"},e))}}},[n("DsfIcon",{staticStyle:{color:"#007ef7"},attrs:{name:"xiaoxi"}}),n("div",{staticClass:"dsf-uhppr-operating-item-text"},[t._v("操作")])],1):t._e(),t._e()]}),null,e)],2)])])]}),{action:t.operatingEvent},e)]}}],null,!0)})]],2)])},a=[],s=n(4),r=n.n(s),o=n(3),l=n.n(o),u=n(1),c=n.n(u);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p=dsf.component({name:"DsfHomePendingProcess",ctrlCaption:"首页待办",mixins:[$mixins.control],inject:{$ctrl:{default:{}}},filters:{time:function(t,e){return dsf.date.format(t,e||"mm-dd")}},props:{timeFormat:{default:"mm-dd"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},padding:{type:Array,default:function(){return[0,0,0,0]}},list:{type:Array,default:function(){return[]}},url:{type:String,default:function(){return""}},urlPrefix:{type:String,default:null},viewedUrl:{type:String,default:"/message/info/markRead"},viewedUrlPrefix:{type:String,default:null},toConfig:{type:Object,default:function(){return{}}},pageSize:{type:[String,Number],default:100},nodeNameShow:{type:Boolean,default:!1},showFollow:{default:!0},followUrlPrefix:{type:String,default:null}},computed:{urlQuery:function(){return{pageSize:this.pageSize}},controlStyle:function(){var t=this.width,e=this.padding;this.height;return{width:t,padding:e.join("px ")+"px",height:"100%"}},panelStyle:function(){var t=this.height;return{height:t}}},data:function(){var t=this;return{operatingEvent:{top:function(e,n){return t.operatingClick(e,f({type:"zd"},n))},interest:function(e,n){return t.operatingClick(e,f({type:"gz"},n))},operate:function(e,n){return t.operatingClick(e,f({type:"cz"},n))},back:function(e,n){return t.operatingClick(e,f({type:"th"},n))}}}},created:function(){this.isDesign&&this.$dispatch("design-height-change","100%")},methods:{needEmpty:function(t){var e;if(null!==(e=this.getIcons(t))&&void 0!==e&&e.length)return!0;var n=!1;return _.forEach(t.signs,(function(t){if(t.icon)return n=!0,!1})),n},getIcons:function(t){var e=[];return 1==t.overDueState&&e.push(n(85)),1==t.isUrge&&e.push(n(84)),t.emergency>0&&t.emergency<3&&e.push(n(86)),t.emergency>2&&t.emergency<5&&e.push(n(88)),1==t.isBack&&e.push(n(89)),t.secret>1&&e.push(n(87)),1==t.isTop&&e.push(n(81)),e},getReadStats:function(t){return 0!=t.operationStatus},virtualListRowClick:function(){this.clickLoading||(this.clickLoading=!0,this.rowClick.apply(this,arguments))},getRen:function(t){var e,n;return(null===(e=t.row)||void 0===e?void 0:e.origin)||(null===(n=t.row)||void 0===n?void 0:n.sendUserName)},rowClick:function(t){var e=this;return r()(c.a.mark((function n(){var i,a,s,o,l,u,d,p,h;return c.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.args,a=e.toConfig,s=e.isDesign,!s){n.next=4;break}return n.abrupt("return");case 4:o=e,l=i.row||{},u="",d=l.title.match(/^\[(.*?)\]/,"$1"),d&&d.length>=2&&(u=d[1]||""),p=l.url,h=function(){var t=r()(c.a.mark((function t(){var n;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!p||1!=l.type||e.getReadStats(l)){t.next=3;break}return t.next=3,e.redRow(l._id);case 3:if(n=f(f({},a),{},{title:u,url:p,closed:function(){o.$homePanel?o.$homePanel.reloadData():o.reloadData()}}),!e.$listeners["itemClick"]){t.next=6;break}return t.abrupt("return",e.$dispatch("itemClick",{args:i,openConfig:n}));case 6:e.$open(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{1!=l.type?e.$http.get("/wfp/getPageUrl",{sID:l.objectId,sPID:l.pId,sCurLinkID:l.linkId,sWFID:l.wfId,sNodeID:l.nodeId},null===e.followUrlPrefix?void 0:e.followUrlPrefix).then((function(t){t.data.success&&t.data.data?(p=t.data.data||"",h()):dsf.layer.message(t.data.message||"请求异常",!1),e.clickLoading=!1})).catch((function(t){console.error(t),e.clickLoading=!1,dsf.layer.message("请求异常",!1)})):(h(),e.clickLoading=!1)}catch(g){console.error(g),e.clickLoading=!1}case 12:case"end":return n.stop()}}),n)})))()},redRow:function(t){if(!this.isDesign)return this.$http.post(this.viewedUrl,{id:t,type:"workrecord"},null==this.viewedUrlPrefix?void 0:this.viewedUrlPrefix)},operatingClick:function(t,e){this.isDesign||(t.stopPropagation(),this.$listeners["operatingClick"]?this.$dispatch("operatingClick",e):"zd"==e.type?this.ontop(e):"gz"==e.type?this.focus(e):"cz"==e.type?this.rowClick({args:e}):"th"==e.type&&this.tuihui(e))},tuihui:function(t){var e=t.row;if(!this.onSendBackError){this.onSendBackError=!0;var n=function(t){var n=t.args;"201"==e.nodeType&&"0"==e.type?dsf.layer.message("开始环节不支持退回",!1):dsf.layer.message(n,!1)};this.$listeners["sendBackError"]=n,this.$on("sendBackError",n)}dsf.flow.sendBack({owner:this,_self:this,targetButton:{},params:[e.processId,e.linkId]})},ontop:function(t){var e=this;this.$http.post("/message/info/addOrCancelTop",{id:t.row._id}).then((function(t){var n=t.data;n&&n.success?(dsf.layer.message("操作成功",!0),e.$homePanel?e.$homePanel.reloadData():e.reloadData()):dsf.layer.message(n.message,!1)})).catch((function(){dsf.layer.message("操作失败",!1)}))},focus:function(t){var e=this;this.$http.post("/message/info/addOrCancelConcern",{id:t.row._id}).then((function(t){var n=t.data;n&&n.success?(dsf.layer.message("操作成功",!0),e.$homePanel?e.$homePanel.reloadData():e.reloadData()):dsf.layer.message(n.message,!1)})).catch((function(){dsf.layer.message("操作失败",!1)}))},reloadData:function(){_.each(this.$children,(function(t){(null===t||void 0===t?void 0:t.reloadData)&&t.reloadData()}))}}}),h=p,g=(n(771),n(0)),m=Object(g["a"])(h,i,a,!1,null,null,null);e["default"]=m.exports},1171:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dsf-control ds-schedule"},[t.classInfo?n("div",{staticClass:"className"},[t._v(t._s(t.classInfo.name||""))]):t._e(),n("dsf-calendar-nav",{ref:"schedule",attrs:{"is-design":t.isDesign,url:t.url1,"holiday-url":t.holidayUrl,"is-show-holiday":t.isShowHoliday,"to-day":t.toDay,"is-switch":t.isSwitch,"data-loaded-fun":t.dataLoadedFun,"is-parameter":t.isParameter,type:t.settingConfig.type,"weekend-height-light":t.weekendHeightLight,"festival-height-light":t.festivalHeightLight},on:{change:t.scheduleChange}}),n("div",{staticClass:"ds-schedule-content"},[t.loading||t.list.length?t._e():n("dsf-empty-data"),t.showAdd?n("div",{staticClass:"add"},[t.loading||t.list.length||!t.showAdd?t._e():n("dsf-button",{attrs:{title:"",size:"small",icon:"add"},on:{click:t.addSchedule}},[t._v("添加日程")])],1):t._e(),t._t("list",(function(){return[t._l(t.realList,(function(e,i){return[n("div",{key:i,staticClass:"ds-schedule-item-slot"},[t._t("default",(function(){return[n("div",{staticClass:"ds-schedule-item"},[t._t("default",(function(){return[n("div",{staticClass:"ds-schedule-item-title",on:{click:function(n){return t.handleClick(e)}}},[n("span",{class:{ellipsis:t.settingConfig.ellipsis,text:!0},attrs:{title:e.theme}},[t._v(t._s(e.theme||""))]),t.isShowAgendaType&&e.agendaTypeVo&&e.agendaTypeVo.abbre?n("span",{staticClass:"type",style:t.getAgendaTypeStyle(e)},[t._v(t._s(e.agendaTypeVo.abbre))]):t._e()]),n("div",{staticClass:"ds-schedule-item-info"},[n("span",{staticClass:"ds-schedule-item-time"},[t._v(" "+t._s(e.startTime||"")+" - "+t._s(e.endTime||"")+" ")])]),t.isShowAddress&&!t.classInfo&&e.addressText?n("div",{staticClass:"ds-schedule-item-info ellipsis",attrs:{title:e.addressText}},[n("span",[t._v(t._s(e.addressText||""))])]):t._e()]}))],2)]}),{item:e,index:i})],2)]}))]}),{list:t.realList}),t._t("list-bottom")],2)],1)},a=[],s=864e5,r=dsf.component({name:"DsfScheduleListItem",mixins:[$mixins.control],ctrlCaption:"日程列表组件",design:{isMask:!1},props:{url:{type:String,default:null},classInfo:{type:[Object,String],default:null},isParameter:{type:Boolean,default:!1},isSwitch:{type:Boolean,default:!1},toDay:{type:[String,Date],default:function(){return new Date}},settingConfig:{type:Object,default:function(){return{pageSize:5,type:"week",ellipsis:!0}}},defaultActiveMode:{type:String,default:"0"},weekendHeightLight:{type:Boolean,default:!0},festivalHeightLight:{type:Boolean,default:!1},holidayUrl:{type:String,default:""},isShowHoliday:{type:Boolean,default:!1},isShowAgendaType:{type:Boolean,default:!1},isShowAddress:{type:Boolean,default:!0}},data:function(){return{postNum:0,loading:!1,list:[],url2:"",showAdd:!1}},computed:{realList:function(){return this.list.slice(0,this.settingConfig.pageSize)},classIdParam:function(){return this.classInfo?"?classId="+this.classInfo.id:""},url1:function(){if(!this.url||""==this.url)return null;var t=dsf.url.parse(this.url);return"/agenda/info/queryUserAgendaNumByDate"+(t.search?t.search:"")}},created:function(){if(this.isDesign)for(var t=0;t<10;t++)this.list.push({theme:"20200118jinhy排课测试课程",startTime:"24日14:30",endTime:"24日17:00",addressText:"金皓宇-知新101"})},mounted:function(){this.isDesign&&this.$dispatch("design-height-change","100%")},methods:{handleClick:function(t){var e=this,n="service/agenda/edit?type=0&id="+t.id;this.$open({title:"我的日程",state:3,with:"1000px",height:"78vh",url:n+("1"==t.isOwn?"":"&isview=1"),closed:function(){e.reloadData()},btns:[]})},addSchedule:function(){var t=this,e=dsf.url.parse(this.url2).searchQuery,n=["我的日程","领导日程"];this.$open({title:n[(null===e||void 0===e?void 0:e.categoryValue)||0],state:3,with:"1000px",height:"78vh",url:"service/agenda/edit?type="+(null===e||void 0===e?void 0:e.categoryValue)+"&startDate="+(null===e||void 0===e?void 0:e.startDate),closed:function(){t.reloadData()},btns:[]})},reloadData:function(){this.postData()},dataLoadedFun:function(t,e){if(2!=this.defaultActiveMode){if(1!=this.defaultActiveMode){var n=[];_.forEach(t,(function(t,e){t>0&&n.push(null===e||void 0===e?void 0:e.slice(0,10))})),n.length&&-1===n.indexOf(e.active)&&(n.sort(),e.active=_.find(e.range,(function(t){return t.id===n[0]})))}}else{var i=e.active.date,a=i.getDay();a=a?a-1:6;var r=dsf.date.format(new Date(i.getTime()-a*s),"yyyy-mm-dd");e.active=_.find(e.range,(function(t){return t.id==r}))}},scheduleChange:function(t){var e=t.args.id;if(this.url&&""!=this.url){var n=dsf.url.parse(this.url).search;n=n?"&":"?";var i="startDate="+e+"&endDate="+e+this.classIdParam;this.url2=this.url+n+i}else this.url2=null;this.postData()},postData:function(){var t=this;this.isDesign||(this.postNum++,this.url2&&""!=this.url2?(this.loading=!0,this.$http.get(this.url2).done((function(e){var n=e.success,i=e.data,a=e.message;if(n){var s=Object.values(i);t.list=s.length?s[0]:[]}else dsf.layer.message(a,!1)})).error((function(t){dsf.error(t),dsf.layer.message(t.message||"请求异常",!1)})).finally((function(){t.loading=!1}))):this.list=[])},getAgendaTypeStyle:function(t){var e=t.agendaTypeVo;if(null!==e&&void 0!==e&&e.colorValue)return{backgroundColor:e.colorValue+"10",color:e.colorValue}}}}),o=r,l=(n(773),n(0)),u=Object(l["a"])(o,i,a,!1,null,null,null);e["default"]=u.exports},1172:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dsf-control ds-nav-menu-setting pc",attrs:{openGroup:t.openGroup}},[n("div",{staticClass:"left"},[n("div",{staticClass:"title"},[t._v("可选菜单")]),n("dsf-virtual-scroll",{staticStyle:{flex:"auto"},attrs:{height:"0","scroll-y":""}},[t.menuList.length?t._e():n("div",{staticClass:"no-data"},[t._v("暂时还没有数据~")]),t._l(t.menuList,(function(e){return[e.children&&e.children.length>0?n("div",{key:e._id,staticClass:"group"},[n("div",{staticClass:"group-title"},[n("i",{staticClass:"iconfont",class:e.icon}),n("span",[t._v(t._s(e._name))])]),n("div",{staticClass:"group-content"},[t._l(e.children,(function(i){return[i.children?t._e():n("el-checkbox",{key:i._id,staticClass:"menu-item",attrs:{value:t.checkList.has(i._id),title:i._name},on:{change:function(n){return t.selectChange(i,n,e)}}},[n("div",{staticClass:"ellipsis"},[t._v(t._s(i._name))])])]}))],2)]):t._e()]}))],2)],1),n("div",{ref:"right",staticClass:"right"},[n("div",{staticClass:"title"},[t._v(" 已选菜单 "),n("span",{staticClass:"num"},[t._v("("+t._s(t.selectMenus.length)+")")]),n("span",{staticClass:"tips"},[t._v("拖动菜单可排序")]),n("span",{staticClass:"claer",on:{click:t.clear}},[t._v("清空")])]),n("dsf-virtual-scroll",{staticStyle:{flex:"auto"},attrs:{height:"0","scroll-y":""}},[t.selectMenus.length?t._e():n("div",{staticClass:"no-data"},[t._v("请在左侧选择菜单")]),t.scriptLoaded&&t.selectMenus.length?n("div",{staticClass:"scroll-box"},[t.openGroup?[n("draggable",t._b({attrs:{value:t.selectMenus},on:{update:function(e){return t.update(e,t.selectMenus)}}},"draggable",{group:"group",animation:300,delay:0,forceFallback:!0,dragClass:"menu-group",filter:".closeBt",chosenClass:"chosen",ghostClass:"ghost",fallbackClass:"move"},!1),t._l(t.selectMenus,(function(e){return n("div",{key:e.id,staticClass:"menu-group"},[n("div",{staticClass:"menu-group-title"},[n("i",{staticClass:"icon iconfont",class:[e.icon]}),t._v(" "+t._s(e.name)+" ")]),n("draggable",t._b({attrs:{value:e.children},on:{update:function(n){return t.update(n,e.children)}}},"draggable",{group:"group-"+e.id,animation:300,delay:0,forceFallback:!0,dragClass:"menu-item",filter:".closeBt",chosenClass:"chosen",ghostClass:"ghost",fallbackClass:"move"},!1),t._l(e.children,(function(e){return n("div",{key:e.id,ref:"menu",refInFor:!0,staticClass:"menu-item"},[n("span",[t._v(t._s(e.name))]),n("i",{staticClass:"closeBt iconfont icon-close",on:{click:function(n){return n.stopPropagation(),t.remove(e.id)}}})])})),0)],1)})),0)]:[n("draggable",t._b({attrs:{value:t.selectMenus},on:{update:function(e){return t.update(e,t.selectMenus)}}},"draggable",{name:"group",animation:300,delay:0,forceFallback:!0,dragClass:"menu-item",filter:".closeBt",chosenClass:"chosen",ghostClass:"ghost",fallbackClass:"move"},!1),t._l(t.selectMenus,(function(e){return n("div",{key:e.id,ref:"menu",refInFor:!0,staticClass:"menu-item"},[n("span",[t._v(t._s(e.name))]),n("i",{staticClass:"closeBt iconfont icon-close",on:{click:function(n){return n.stopPropagation(),t.remove(e.id)}}})])})),0)]],2):t._e()])],1)])},a=[],s=dsf.component({name:"DsfNavMenuSetting",mixins:[$mixins.control],ctrlCaption:"菜单定制",props:{value:{type:Array,required:!1},allUrl:{type:String,default:"/scmenu/queryUserAllowMarkScMenu"},openGroup:{default:!1},groupModelChildrenMax:{default:0}},data:function(){return{menuList:[],checkList:new Set,selectMenus:[],scriptLoaded:!1}},computed:{selectMenuMap:function(){var t={};return dsf.deepForEach(this.selectMenus,(function(e){t[e.id]=e})),t},menuListMap:function(){var t={};return dsf.deepForEach(this.menuList,(function(e,n,i,a){dsf.setObjAttr(e,"$parent",a),t[e._id]=e})),t}},created:function(){this.isDesign||(this.loadScript(),this.postData())},methods:{loadScript:function(t){var e=this;window.vuedraggable?(this.scriptLoaded=!0,null===t||void 0===t||t()):this.$http.importFiles([dsf.url.getWebPath("$/js/libs/vuedraggable/Sortable-1.13.0.js"),dsf.url.getWebPath("$/js/libs/vuedraggable/vuedraggable.umd.js")]).then((function(){e.scriptLoaded=!0,null===t||void 0===t||t()})).catch((function(t){console.error(t),dsf.layer.message("加载fabric文件报错",!1)}))},clear:function(){this.selectMenus.splice(0,this.selectMenus.length),this.checkList.clear()},yes:function(){return _.map(this.selectMenus,(function(t,e){return t.order=e,t.scicon=t.icon,t}))},init:function(){var t,e=this;if(null!==this&&void 0!==this&&null!==(t=this.value)&&void 0!==t&&t.length){var n=[],i={};this.value.map((function(t){var a,s,r,o=t.id,l=t.name,u=t.icon;e.checkList.add(o);var c=null===(a=e.menuListMap[o])||void 0===a?void 0:a.$parent,d=0;while(null!==(f=c)&&void 0!==f&&f.$parent&&d<5){var f;c=c.$parent,d++}var p=null!==(s=c)&&void 0!==s&&s._id?i[null===(r=c)||void 0===r?void 0:r._id]:null;e.openGroup&&c&&!i[c._id]&&(p={id:c._id,icon:c.icon,name:c.name||c._name,children:[]},e.checkList.add(p.id),i[p.id]=p,n.push(p)),p&&!p.children&&(p.children=[]);var h={id:o,name:l,icon:u};i[h.id]=h,e.openGroup&&c?p.children.push(h):n.push(h)})),this.selectMenus=n}},postData:function(){var t=this,e=dsf.layer.loading();this.$http.get(this.$replace(this.allUrl,this)).done((function(e){var n=e.success,i=e.data,a=e.message;if(n){var s=[];i.forEach((function(t){var e;s.push(t);var n=[];null===t||void 0===t||null===(e=t.children)||void 0===e||e.forEach((function(t){var e,i;null!==t&&void 0!==t&&null!==(e=t.children)&&void 0!==e&&e.length?null===t||void 0===t||null===(i=t.children)||void 0===i||i.forEach((function(t){n.push(t)})):n.push(t)})),t.children=n})),t.menuList=s}else dsf.layer.message(a,!1)})).error((function(t){dsf.error(t),dsf.layer.message(t.message||"请求异常",!1)})).finally((function(){dsf.layer.closeLoading(e),t.init()}))},selectChange:function(t,e,n){var i=t._id,a=t.name,s=t._name,r=t.icon,o=this.selectMenuMap[n._id];if(e){this.checkList.add(i),this.openGroup&&!this.selectMenuMap[n._id]&&(o={id:n._id,icon:n.icon,name:n.name||n._name,children:[]},this.selectMenus.push(o));var l={id:i,icon:r,name:a||s};if(this.openGroup){if(this.groupModelChildrenMax>0&&o.children.length>=this.groupModelChildrenMax)return dsf.layer.message("子级最多能选择".concat(this.groupModelChildrenMax,"个菜单"),!1);o.children.push(l)}else this.selectMenus.push(l)}else this.remove(i)},remove:function(t){if(this.checkList.delete(t),this.openGroup){var e,n,i=this.selectMenuMap[null===(e=this.menuListMap[t])||void 0===e||null===(e=e.$parent)||void 0===e?void 0:e._id];if(i)dsf.array.remove((null===i||void 0===i?void 0:i.children)||[],(function(e){return e.id==t})),null!==(n=i.children)&&void 0!==n&&n.length||(this.checkList.delete(i.id),dsf.array.remove(this.selectMenus,(function(t){return t.id==i.id})))}dsf.array.remove(this.selectMenus,(function(e){return e.id==t}))},update:function(t,e){var n=t.oldIndex,i=t.newIndex,a=e.splice(n,1)[0];e.splice(i,0,a)}}}),r=s,o=(n(775),n(0)),l=Object(o["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},431:function(t,e,n){"use strict";var i=n(7),a=n.n(i);function s(t,e){var n=e.props,i=e.parent,s=n.item;return s.hide?t("div",{class:{"ds-nav-menu-item-bt":!0,"ds-nav-menu-item-bt__horizontal":"horizontal"===n.fontAlignment},style:i.itemBtStyle}):t("div",a()([{class:{"ds-nav-menu-item-bt":!0,"ds-nav-menu-item-bt__horizontal":"horizontal"===n.fontAlignment},style:i.itemBtStyle,attrs:{title:s.name||""}},{on:{click:function(){s.hide||i._clickBefore(i.onClick,s)}}}]),[o(t,e),u(t,e),c(t,e)])}function r(t,e){var n,i,a;return null!==e&&void 0!==e&&null!==(n=e.scopedSlots)&&void 0!==n&&n.badge?null===e||void 0===e||null===(i=e.scopedSlots)||void 0===i||null===(a=i.badge)||void 0===a?void 0:a.call(i):t()}function o(t,e){var n=e.props,i=e.parent,a=n.item,s=Vue.filter("imgFormat"),r=s(i.getImgUrl(a));return t("el-image",{attrs:{src:r},style:[i.itemBgStyle,i.getItemStyle(a)],scopedSlots:{error:function(){return l(t,e)}}})}function l(t,e){var n=e.props,i=e.parent,a=n.item;return t("i",{class:["iconfont",i.getIcon(a.icon)],style:[i.itemIconStyle,i.getIconStyle(a)]})}function u(t,e){var n=e.props,i=e.parent,a=n.item;return t("div",{class:"ds-nav-menu-item-name",style:i.itemTextStyle||{}},[t("div",{class:"ellipsis",style:{"text-align":"horizontal"===n.fontAlignment?"left":"center"}},[a.name||""])])}function c(t,e){var n,i,a;return null!==e&&void 0!==e&&null!==(n=e.scopedSlots)&&void 0!==n&&n.default?null===e||void 0===e||null===(i=e.scopedSlots)||void 0===i||null===(a=i.default)||void 0===a?void 0:a.call(i):t()}e["a"]={name:"NavMenuItem",functional:!0,props:{item:{type:Object,required:!0},fontAlignment:{type:String}},render:function(t,e){var n=e.props,i=e.parent;return t("div",{class:{"ds-nav-menu-item":!0,hide:n.item.hide},style:i.itemStyle},[r(t,e),s(t,e)])}}},559:function(t,e,n){var i=n(758);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("2e8f0e98",i,!0,{sourceMap:!1,shadowMode:!1})},560:function(t,e,n){"use strict";var i=n(3),a=n.n(i);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e["a"]={mixins:[$mixins.control],components:{},filters:{time:function(t){return dsf.date.format(t,"mm-dd")}},props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},lineHeight:{type:String,default:"45px"},margin:{type:Array,default:function(){return[0,0,0,0]}},padding:{type:Array,default:function(){return[0,0,0,0]}},rowPadding:{type:Array,default:function(){return[0,20,0,20]}},rowMargin:{type:Array,default:function(){return[0,0,0,0]}},list:{type:Array,default:function(){return[]}},toConfig:{type:Object,default:function(){return{}}},pageSize:{default:10}},computed:{controlStyle:function(){var t=this.width,e=this.padding,n=this.height;return{width:t,padding:e.join("px ")+"px",height:n}},panelStyle:function(){var t=this.height;return{height:t}},urlQuery:function(){var t=this.pageSize;return{pageSize:t}}},data:function(){return{}},watch:{},created:function(){},methods:{reloadData:function(){_.each(this.$children,(function(t){(null===t||void 0===t?void 0:t.reloadData)&&t.reloadData()}))},listChangeFn:function(t){this.$emit("list-change",t)},rowClick:function(t){var e,n=t.args,i=this.toConfig;if(this.$listeners["row-click"])return this.$dispatch("row-click",{args:n});var a=this.$replace(n.row.url,null!==(e=n.row)&&void 0!==e?e:{}),s=n.row.title,o=this;this.$open(r(r({},i),{},{url:a,title:s,closed:function(){o.$homePanel?o.$homePanel.reloadData():o.reloadData()}}))}}}},561:function(t,e,n){var i=n(760);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("a6c152b0",i,!0,{sourceMap:!1,shadowMode:!1})},562:function(t,e,n){var i=n(762);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("0be78bf6",i,!0,{sourceMap:!1,shadowMode:!1})},563:function(t,e,n){var i=n(764);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("264b2956",i,!0,{sourceMap:!1,shadowMode:!1})},564:function(t,e,n){var i=n(766);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("3900b339",i,!0,{sourceMap:!1,shadowMode:!1})},565:function(t,e,n){var i=n(768);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("bda25e70",i,!0,{sourceMap:!1,shadowMode:!1})},567:function(t,e,n){var i=n(772);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("82bad4e8",i,!0,{sourceMap:!1,shadowMode:!1})},568:function(t,e,n){var i=n(774);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("ec41e088",i,!0,{sourceMap:!1,shadowMode:!1})},569:function(t,e,n){var i=n(776);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n(19).default;a("93d9d77c",i,!0,{sourceMap:!1,shadowMode:!1})},757:function(t,e,n){"use strict";n(559)},758:function(t,e,n){"use strict";n.r(e)},759:function(t,e,n){"use strict";n(561)},760:function(t,e,n){"use strict";n.r(e)},761:function(t,e,n){"use strict";n(562)},762:function(t,e,n){"use strict";n.r(e)},763:function(t,e,n){"use strict";n(563)},764:function(t,e,n){"use strict";n.r(e)},765:function(t,e,n){"use strict";n(564)},766:function(t,e,n){"use strict";n.r(e)},767:function(t,e,n){"use strict";n(565)},768:function(t,e,n){"use strict";n.r(e)},771:function(t,e,n){"use strict";n(567)},772:function(t,e,n){"use strict";n.r(e)},773:function(t,e,n){"use strict";n(568)},774:function(t,e,n){"use strict";n.r(e)},775:function(t,e,n){"use strict";n(569)},776:function(t,e,n){"use strict";n.r(e)},81:function(t,e,n){t.exports=n.p+"modules/platform/img/top.png"},84:function(t,e,n){t.exports=n.p+"modules/platform/img/db_cui.png"},85:function(t,e,n){t.exports=n.p+"modules/platform/img/db_danger.png"},86:function(t,e,n){t.exports=n.p+"modules/platform/img/db_ji.png"},87:function(t,e,n){t.exports=n.p+"modules/platform/img/db_mi.png"},88:function(t,e,n){t.exports=n.p+"modules/platform/img/db_te.png"},89:function(t,e,n){t.exports=n.p+"modules/platform/img/db_tui.png"},968:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-control ds-work-frame",style:t.getBuildBackgroundStyle},[n("div",{staticClass:"ds-work-frame-head"},[n("div",{staticClass:"ds-work-frame-head-left"},[t._t("logo",(function(){return[n(t.logoTag,{tag:"component",staticClass:"ds-work-frame-head-logo",attrs:{href:t.indexUrl}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.showHeadLogo,expression:"showHeadLogo"}],staticClass:"ds-work-frame-head-logo-img",attrs:{src:t.logoImg}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeadTitle,expression:"showHeadTitle"}],staticClass:"ds-work-frame-head-logo-label"},[t._v(" "+t._s(t.title)+" ")])])]}))],2),n("div",{staticClass:"ds-work-frame-head-right"},[t._t("head-right"),t._t("dropdown-command",(function(){return[n("el-dropdown",{on:{command:t.dropdownCommand}},[t._t("dropdown-command-user",(function(){return[n("div",{staticClass:"ds-work-frame-head-user"},[n("img",{staticClass:"ds-work-frame-head-user-img",attrs:{src:t.userImg},on:{error:function(e){t.showDefaultUserImg=!0}}}),n("div",{staticClass:"ds-work-frame-head-user-right"},[n("div",{staticClass:"ds-work-frame-head-user-name"},[t._v(t._s(t.userName))])])])]}),{userName:t.userName,userImg:t.userImg}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.buildDropdownMenus,(function(e,i){return n("el-dropdown-item",{key:i,attrs:{command:e}},[t._v(" "+t._s(e.text)+" ")])})),1)],2)]}),{dropdownMenus:t.buildDropdownMenus,userName:t.userName,userImg:t.userImg}),n("div",{staticClass:"ds-work-frame-head-exit",on:{click:t.loginOut}},[n("dsf-icon",{staticClass:"ds-work-frame-head-exit-icon",attrs:{name:"icon-exit"}}),n("div",{staticClass:"ds-work-frame-head-exit-label"},[t._v("退出")])],1)],2)]),n("div",{staticClass:"ds-work-frame-body"},[n("WorkFrameSidebar",{attrs:{menus:t.menus},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.menu;return[t._t("side-menu",null,{menu:n})]}}],null,!0)}),n("div",{staticClass:"ds-work-frame-body-warp",attrs:{"slot-name":t.isDesign?"default":null}},[t.isDesign?t._t("default",(function(){return[n("div",{staticClass:"ds-work-frame-body-warp-design-text"},[t._v(" 拖动组件到这里 ")])]})):n("DsfVirtualScroll",{staticClass:"ds-work-frame-body-warp-scroll"},[t._t("default")],2)],2)],1)])},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-work-frame-side-bar"},[n("div",{ref:"side-scroll",staticClass:"ds-work-frame-side-scroll"},[n("div",{ref:"side-list",staticClass:"ds-work-frame-side-list"},[t._l(t.buildMenus,(function(e,i){return t._t("default",(function(){return[e.hide?t._e():n("el-tooltip",{key:i,attrs:{content:e.name,num:i,"popper-class":"ds-work-frame-side-bar-menu-item-popper",placement:"right",effect:"light"}},[n("div",{ref:"side-item",refInFor:!0,staticClass:"ds-work-frame-side-item",on:{click:function(n){return t.openMenu(e)}}},[n("dsf-icon",{staticClass:"ds-work-frame-side-item-icon",attrs:{name:e.icon}}),n("div",{staticClass:"ds-work-frame-side-item-label"},t._l(e.labelList,(function(e,i){return n("span",{key:i,staticClass:"ds-work-frame-side-item-label-span"},[t._v(t._s(e))])})),0)],1)])]}),{menu:e})}))],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.pageNum>1,expression:"pageNum > 1"}],staticClass:"ds-work-frame-side-control-bar"},t._l(t.pageNum,(function(e){return n("div",{key:e,staticClass:"ds-work-frame-side-control-item",attrs:{ac:t.acPage==e-1},on:{click:function(n){return t.selectPageNum(e-1)}}})})),0)])},r=[],o={props:{menus:{default:function(){return[]}}},computed:{buildMenus:function(){var t;return(null===(t=this.menus)||void 0===t?void 0:t.map((function(t){var e;return t.labelList=(null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.split(""))||[],t.labelList.length>5&&(t.labelList=t.labelList.slice(0,4),t.labelList.push("...")),t})))||[]}},data:function(){return{acPage:0,pageNum:0}},watch:{menus:{immediate:!0,handler:function(t){var e=this;this.$nextTick((function(){(null===t||void 0===t?void 0:t.length)&&e.init()}))}}},methods:{init:function(){this.sideScrollDom=this.$refs["side-scroll"],this.scrollHeight=this.sideScrollDom.clientHeight,this.listHeight=this.$refs["side-list"].clientHeight,this.pageNum=Math.ceil(this.listHeight/this.scrollHeight);var t=0;this.scrollShowItemDomList=[],this.sideItemDomList=this.$refs["side-item"];while(t<this.pageNum){var e=this.sideItemDomList[Math.floor(this.menus.length*(t/this.pageNum))];this.scrollShowItemDomList.push(e),t++}this.$el.removeEventListener("mousewheel",this.mousewheel,!1),this.$el.addEventListener("mousewheel",this.mousewheel,!1)},selectPageNum:function(t){var e=this;this.acPage=t,$(this.sideScrollDom).animate({scrollTop:this.scrollShowItemDomList[t].offsetTop},500,(function(){setTimeout((function(){e.scrolling=!1}),300)}))},mousewheel:function(t){var e=t.wheelDelta;if(!(this.scrolling||Math.abs(e)<30)){this.scrolling=!0;var n=this.acPage;e<0?(n++,n>=this.pageNum-1&&(n=this.pageNum-1)):(n--,n<0&&(n=0)),this.selectPageNum(n)}},openMenu:function(t){var e;if(dsf.isFunction(null===(e=this.$parent)||void 0===e?void 0:e.sideMenuClickBefore))return this.$parent.sideMenuClickBefore(t);if(!t.url)return dsf.layer.message("请配置跳转地址",!1);var n=Number(t.openType);dsf.isNumber(n)||(n=2);var i={state:n,url:t.url};this.$open(i)}},created:function(){},mounted:function(){},beforeDestroy:function(){this.$el.removeEventListener("mousewheel",this.mousewheel,!1)}},l=o,u=n(0),c=Object(u["a"])(l,s,r,!1,null,null,null),d=c.exports,f=dsf.component({components:{WorkFrameSidebar:d},name:"DsfWorkFrame",ctrlCaption:"工作台首页框架",mixins:[$mixins.layout],props:{slots:{type:Array,default:function(){return[{name:"default",controls:[]}]}},bg:{},dropdownMenus:{default:function(){return null}},dropdownCommandBefore:{default:null},sideMenuClickBefore:{default:null},sideMenuUrl:{default:"/workspace/list/menu"},headTitle:{default:""},headLogo:{default:""},showHeadLogo:{default:!0},showHeadTitle:{default:!0}},data:function(){return{disableHeadLogoUrl:dsf.config.setting_public_disable_head_logo_url,updateIconTime:(new Date).valueOf(),menus:[],userName:dsf.session.get("user_name"),showDefaultUserImg:!1}},computed:{getBuildBackgroundStyle:function(){var t;return null!==this&&void 0!==this&&null!==(t=this.backgroundConfig)&&void 0!==t&&t.active?this.getBackgroundStyle:{backgroundImage:"url('./static/img/platform/homeFrameDefaultBg.png')",objectFit:"cover"}},buildDropdownMenus:function(){var t;return(null===this||void 0===this||null===(t=this.dropdownMenus)||void 0===t?void 0:t.length)||[{command:this.handleOpenUserInfoWindow,text:"用户详情"},{command:this.alterPwd,text:"修改密码"}]},indexUrl:function(){return this.disableHeadLogoUrl?null:location.href.replace(/#.*/,"")},logoTag:function(){return this.disableHeadLogoUrl?"div":"a"},logoImg:function(){return this.headLogo&&""!=this.headLogo?this.headLogo:this.$replace(dsf.url.getWebPath(dsf.config.setting_public_logo_image))},title:function(){return this.headTitle&&""!=this.headTitle?this.headTitle:dsf.config.setting_public_logo_title},bgUrl:function(){return this.bg||"./static/img/platform/homeFrameDefaultBg.png"},userImg:function(){return this.showDefaultUserImg?dsf.config.setting_public_user_default_header:this.updateIconUrl},updateIconUrl:function(){return"/oua2/getCurrentUserPhoto?t=".concat(this.updateIconTime)}},methods:{alterPwd:function(){var t=!1;dsf.layer.openDialog({title:"修改密码",width:"600px",height:"600px",params:{path:"pc/dsfa/platformhome/alterPassword",onSuccess:function(){t=!0}},onClosed:function(){t&&location.replace(dsf.config.setting_public_pc_login_page)}})},dropdownCommand:function(t){dsf.isFunction(this.dropdownCommandBefore)?this.dropdownCommandBefore(t):dsf.isFunction(t.command)&&t.command()},getMenus:function(){var t=this;this.isDesign?this.menus=Array.from(new Array(20)).map((function(t,e){return{name:"菜单"+(e+1),order:e,icon:"icon-lzz",url:"",openType:"2"}})):dsf.http.get(this.sideMenuUrl).done((function(e){var n=e.data,i=e.success,a=e.message;i?t.menus=n||[]:dsf.layer.message(a,!1)}))},handleOpenUserInfoWindow:function(){var t=this;this.customUserEdit&&dsf.isFunction(this.customUserEdit)?this.customUserEdit(this):this.$http.get("/oua2/quickEdit").done((function(e){e.success?t.$openDialog({title:"信息编辑",showClose:!0,top:"5vh",height:"84vh",width:"1230px",params:{path:e.data},onClosed:function(){t.userName=dsf.session.get("user_name"),t.updateIconTime=(new Date).valueOf()}}):dsf.layer.message("获取地址失败",!1)}))},loginOut:function(){var t=this;this.isDesign||dsf.layer.confirm("您确定要退出吗?").then((function(){t.$webAPI.loginOut().then((function(t){var e=t.success,n=t.message;e?(dsf.clearLoginInfo(),location.replace(dsf.config.setting_public_pc_login_page)):dsf.layer.message(n,!1)})).catch((function(t){console.error(t),dsf.layer.message("退出失败",!1)}))})).catch((function(){}))}},created:function(){this.getMenus()},mounted:function(){},design:{fit:!0}}),p=f,h=Object(u["a"])(p,i,a,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_pc_homepage.js.map