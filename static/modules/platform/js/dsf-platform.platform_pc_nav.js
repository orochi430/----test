/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[54],{1112:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-calendar-nav ds-no-padding",class:{"weekend-height-light":t.weekendHeightLight,"festival-height-light":t.festivalHeightLight}},[t.isSwitch?i("div",{staticClass:"ds-calendar-nav-switch"},[i("i",{staticClass:"iconfont icon-fanyezuobeifen8",on:{click:function(e){return t.switchRange(-1)}}}),i("el-date-picker",{attrs:{editable:!1,clearable:!1,type:"month"===t.type?"month":"week",format:"month"===t.type?"yyyy年MM月":"yyyy年MM月 (第WW周)",size:"mini","prefix-icon":" ","value-format":"yyyy-MM-dd",placeholder:"选择周"},model:{value:t.pickerValue,callback:function(e){t.pickerValue=e},expression:"pickerValue"}}),i("i",{staticClass:"iconfont icon-fanyezuobeifen5",on:{click:function(e){return t.switchRange(1)}}})],1):t._e(),i("div",{staticClass:"ds-calendar-nav-box"},[i("div",{staticClass:"ds-calendar-nav-body"},[t._m(0),i("div",{staticClass:"ds-calendar-nav-body-content"},[i("div",{staticClass:"ds-calendar-nav-body-row"},[t._l(t.range,(function(e){return i("div",{key:e.id,staticClass:"ds-calendar-nav-body-cell",class:{offset:e.offset,weekend:e.weekend,festival:t.lunarRange[e.id]&&t.lunarRange[e.id].jieRi.length}},[i("div",{staticClass:"ds-calendar-nav-body-cell-bt",class:{active:t.active.id==e.id},attrs:{title:t.getTitle(t.lunarRange[e.id])},on:{click:function(i){t.active=e}}},[i("span",{staticClass:"day"},[t._v(t._s(e.day))]),i("span",{staticClass:"zhDay"},[t._v(t._s(t.getZhDay(t.lunarRange[e.id])))]),i("i",{staticClass:"tips",class:{hide:!t.isDesign&&!t.scheduleInfo[e.id]}}),t.holidayInfo[e.id]?i("span",{staticClass:"tag"},[0==t.holidayInfo[e.id].is_work?i("span",{staticClass:"holiday"},[t._v("休")]):t._e(),1==t.holidayInfo[e.id].is_work?i("span",{staticClass:"workday"},[t._v("班")]):t._e()]):t._e()])])}))],2)])]),t._t("list")],2)])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-calendar-nav-body-header"},[i("span",[t._v("周一")]),i("span",[t._v("周二")]),i("span",[t._v("周三")]),i("span",[t._v("周四")]),i("span",[t._v("周五")]),i("span",[t._v("周六")]),i("span",[t._v("周日")])])}],o=i(2),r=i.n(o),s=864e5,l=6048e5,c={},u=dsf.component({name:"DsfCalendarNav",mixins:[$mixins.control],ctrlCaption:"日历导航",design:{isMask:!1},props:{url:{type:String,default:""},isSwitch:{type:Boolean,default:!1},dataLoadedFun:{type:Function,required:!1},isParameter:{type:Boolean,default:!1},toDay:{type:[String,Date],default:null},type:{type:String,default:"week"},weekendHeightLight:{type:Boolean,default:!0},festivalHeightLight:{type:Boolean,default:!1},holidayUrl:{type:String,default:"/agenda/info/findHoliday"},isShowHoliday:{type:Boolean,default:!1},isShowMonth:{type:Boolean,default:!1}},data:function(){return{pickerValue:"",active:null,range:[],lunarRange:{},scheduleInfo:{},holidayInfo:{}}},watch:{active:function(t){t&&this.$dispatch("change",t)},url:function(){this.reloadData()},type:function(){this.reloadData()},toDay:{handler:function(t){if(!t)return this.pickerValue=dsf.date.format(new Date,"yyyy-mm-dd"),void this.reloadData();dsf.isString(t)&&(t=dsf.date.parse(t,"yyyy-mm-dd")),"date"!==dsf.type(t)&&(t=new Date),this.pickerValue=dsf.date.format(t,"yyyy-mm-dd"),this.reloadData()},immediate:!0},pickerValue:function(){this.reloadData()}},created:function(){var t=this;this.loadScript((function(){t.setLunarRange()}))},methods:{switchRange:function(t){t&&("week"===this.type?this.switchWeek(t):"week2"===this.type?this.switchWeek(2*t):"month"===this.type&&this.switchMonth(t))},switchWeek:function(t){var e=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");e=new Date(e.getTime()+t*l),this.pickerValue=dsf.date.format(e,"yyyy-mm-dd")},switchMonth:function(t){var e=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");e.setDate(0),e=new Date(e.getTime()+(4*t+2)*l),this.pickerValue=dsf.date.format(e,"yyyy-mm-01")},getZhDay:function(t){return t?t.jieRi.length?t.jieRi[0]:t.lunarJieQi||t.lunarDay:""},getTitle:function(t){if(!t)return"";var e=t.day,i=t.lunarYear,n=t.lunarMonth,a=t.lunarDay,o=t.lunarJieQi,s=t.jieRi,l=t.otherJieRi,c=[e,"农历".concat(i,"年").concat(n,"月").concat(a)];o&&c.push("节气：".concat(o));var u=[].concat(r()(s),r()(l));return u.length&&c.push("今天是".concat(u.join("、"),"。")),c.join("\n")},loadScript:function(t){dsf.http.importFiles(dsf.url.getWebPath("$/js/libs/lunar/lunarDay.js")).then((function(){null===t||void 0===t||t()})).catch((function(t){dsf.error(t)}))},reloadData:function(t){var e,i=this;this.scheduleInfo={};var n=dsf.date.parse(this.pickerValue,"yyyy-mm-dd");n=(null===(e=n)||void 0===e?void 0:e.getTime())||dsf.date.toDay();var a=this.getRange(n),o=a.range,r=a.active;if(this.range=o,t&&this.active){var l=o.find((function(t){return t.day==i.active.day}));this.active=l||r}else this.active=r;var c=dsf.date.format(new Date(o[o.length-1].date.getTime()+s),"yyyy-mm-dd");this.isDesign||(this.getScheduleInfo(o[0].id,c),this.getHolidayInfo(o[0].id,c)),this.setLunarRange()},getRange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dsf.date.toDay(),e=new Date(t),i=e.getMonth(),n=this.type,a="month"===n;a&&(t=e.setDate(1));var o=[],r=dsf.date.toDay(),l=null,c=e.getDay()||7,u=7-c;"week2"===n?u+=7:a&&(u+=this.isShowMonth?42:35);for(var d=1-c;d<=u;d++){var h=t+s*d,f=new Date(h),p=f.getDate(),m=f.getDay(),g={id:dsf.date.format(f,"yyyy-mm-dd"),offset:!a||f.getMonth()===i,day:p<10?"0"+p:p,date:f,weekend:6==m||0==m};o.push(g),h==r&&(l=g)}if(l||(l=o[0]),a){var y=_.nth(o,-7);if(y.date.getMonth()!=i){var v=_.cloneDeep(o);return o=_.dropRight(v,7),{range:o,active:l}}}return{range:o,active:l}},setLunarRange:function(){if(window.Solar){var t={};_.forEach(this.range,(function(e){var i=e.id,n=e.date;if(!c[i]){var a=window.Solar.fromDate(n),o=a.getLunar();c[i]={day:dsf.date.format(n,"yyyy年mm月dd日"),lunarYear:o.getYearInGanZhi(),lunarMonth:o.getMonthInChinese(),lunarDay:o.getDayInChinese(),lunarJieQi:o.getJieQi(),jieRi:[].concat(r()(o.getFestivals()),r()(a.getFestivals())),otherJieRi:a.getOtherFestivals()}}t[i]=c[i]})),this.lunarRange=t}},getScheduleInfo:function(t,e){var i=this;if(this.url&&""!=this.url){var n={};t+=" 00:00:00",e+=" 23:59:59",n=this.isParameter?{startDate:t,endDate:e}:{stime:t,etime:e},this.$http.get(this.url,n).done((function(t){var e,n=t.success,a=t.data,o=t.message;n?(i.scheduleInfo=a,null===(e=i.dataLoadedFun)||void 0===e||e.call(i,a,i)):dsf.layer.message(o,!1)})).error((function(t){dsf.error(t),dsf.layer.message(t.message||"请求异常",!1)}))}else this.scheduleInfo={}},getHolidayInfo:function(t,e){var i=this;if(this.isShowHoliday&&this.holidayUrl&&""!=this.holidayUrl){var n={beginTime:t,endTime:e};this.$http.get(this.holidayUrl,n).done((function(t){var e=t.success,n=t.data,a=t.message;if(e){var o={};_.forEach(n,(function(t){var e,i=null===(e=t.time)||void 0===e?void 0:e.slice(0,10);o[i]=_.cloneDeep(t)})),i.holidayInfo=o}else dsf.layer.message(a,!1)})).error((function(t){dsf.layer.message(t.message||"请求异常",!1)}))}else this.holidayInfo={}}}}),d=u,h=i(0),f=Object(h["a"])(d,n,a,!1,null,null,null);e["default"]=f.exports},1113:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-banner ds-no-padding",style:{height:t.unitSize(t.rootHeight),"padding-bottom":this.unitSize(t.h)},attrs:{id:t.id}},[i("el-carousel",{ref:"swipe",attrs:{arrow:t.showButton,"indicator-position":t.showIndicators,direction:t.vertical?"vertical":"horizontal",autoplay:t.isAutoPlay,interval:t.autoPlay,trigger:t.indicatorTrigger,type:t.type,height:t.h},on:{change:function(e){t.activeIndex=e}}},t._l(t.images,(function(e,n){return i("el-carousel-item",{key:"ds-banner-item-"+n},[i("div",{class:["ds-banner-item",""+n],on:{click:function(i){return t.onSwipeClick(i,e,n)}}},[t._t("default",(function(){return[i("dsf-image",{staticClass:"el-carousel-item-image",style:{"border-radius":t.borderRadius},attrs:{width:"100%",height:"100%",src:e.image,"attach-server-name":!1,"error-src":t.errorSrc}}),t._t("desc",null,null,{row:e,$index:n})]}),null,{row:e,$index:n})],2)])})),1)],1)},a=[],o=i(3),r=i.n(o),s=i(683),l=i.n(s),c=i(684),u=i.n(c),d=i(685),h=i.n(d),f=i(686),p=i.n(f);function m(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?m(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var y=dsf.component({name:"DsfBanner",ctrlCaption:"轮播图",mixins:[$mixins.control],props:{ratio:{type:String,default:"2:1"},showButton:{type:String,default:"hover"},showIndicators:{type:String,default:"inside"},vertical:{type:Boolean,default:!1},indicatorColor:{type:String,default:"#fff"},indicatorDefaultColor:{type:String,default:""},indicatorWidth:{type:Number,default:30},indicatorHeight:{type:Number,default:2},indicatorRadius:{type:[String,Number],default:"0"},autoPlay:{type:[String,Number],default:3e3},isAutoPlay:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},borderRadius:{type:[String,Number],default:"0px"},indicatorTrigger:{type:String,default:"hover"},type:{type:String,default:"normal"},list:{type:Array,default:function(){return[{image:l.a},{image:u.a},{image:h.a},{image:p.a}]}},url:{type:String,default:""},toUrl:{type:String,default:""},max:{type:Number,default:0},imageKeyName:{type:String,default:"image"},titleKeyName:{type:String,default:"title"},descKeyName:{type:String,default:"desc"},jumpWayKeyName:{type:String,default:"jumpWay"},errorSrc:{type:String,default:""}},computed:{ratioNumber:function(){var t=this.ratio;return/^\d+\/|\:\d+$/.test(t)&&(t=t.split(/\/|\:/g),t=t[0]/t[1]),t},images:function(){var t=this.data,e=this.max;return e?(t||[]).slice(0,e):t}},data:function(){return{id:"dsfBanner"+dsf.uuid(16),data:[],activeIndex:0,h:"100%",rootHeight:0}},watch:{ratio:function(){this.resize()},indicatorWidth:function(){this.updateStyleDom()},showIndicators:function(){this.setH()},indicatorHeight:function(){this.setH(),this.updateStyleDom()},indicatorColor:function(){this.updateStyleDom()},indicatorDefaultColor:function(){this.updateStyleDom()},indicatorRadius:function(){this.updateStyleDom()},list:function(t,e){this.url||(this.data=dsf.mix(!0,[],t))}},created:function(){if(this.isDesign){var t=[];t=this.list.length?this.list:[{image:""},{image:""}],this.data=dsf.mix(!0,[],t)}else this.url?this.loadData():this.data=dsf.mix(!0,[],this.list);this.setH();var e=document.createElement("style");document.body.append(e),this.styleDom=e,this.updateStyleDom()},mounted:function(){this.resize()},destroyed:function(){var t;null===(t=this.styleDom)||void 0===t||t.remove()},methods:{setH:function(){"none"==this.showIndicators?this.h="100%":"outside"==this.showIndicators||"card"==this.type?this.h="calc(100% - 24px - ".concat(this.indicatorHeight,"px)"):this.h="100%"},updateStyleDom:function(){if(this.styleDom){var t=this.$compileColor(this.indicatorColor),e=this.indicatorDefaultColor,i=1;e||(i=.48,e=t),this.styleDom.innerHTML="\n          #".concat(this.id," .el-carousel__button{\n            height: ").concat(this.indicatorHeight,"px;\n            width: ").concat(this.indicatorWidth,"px;\n            border-radius: ").concat(this.indicatorRadius,";\n            background-color: ").concat(e,";\n            opacity: ").concat(i,";\n          }\n          #").concat(this.id," .el-carousel__indicator.is-active button{\n            background-color: ").concat(t,";\n            opacity: 1;\n          }\n        ")}},formatApiData:function(t){if(!Array.isArray(t))return[];var e=this.imageKeyName,i=this.titleKeyName,n=this.descKeyName,a=this.jumpWayKeyName;return t.map((function(t){var o=dsf.getFilePath(t[e]);return g(g({url:""},t),{},{image:o,title:t[i],desc:t[n],jumpWay:t[a]})}))},loadData:function(){var t=this,e=this.$replace(this.url,this);this.$http.get(e).then((function(e){var i=e.data;t.data=t.formatApiData(i.data)}))},onSwipeClick:function(t,e,i){if("normal"===this.type||i==this.activeIndex)if(this.$listeners["click"])this.$dispatch("click",e);else{var n="";e.url?n=e.url:this.toUrl&&(n=this.$replace(this.toUrl,e)),this.$open({url:n+"",state:e.jumpWay})}},validateApiFiled:function(t){if(Array.isArray(t.data)){var e=t.data.every((function(t){return"[object Object]"===Object.prototype.toString.call(t)&&Object.prototype.hasOwnProperty.call(t,"image")}));e||console.error("\n            接口数据格式请参考: \n\n            [{\n\n              image: '',\n\n              title: '',\n\n              desc: ''\n\n            }]\n          ")}else console.error("数据源必须为数组")},resize:function(){var t=this.$el.offsetWidth,e=t/this.ratioNumber;dsf.isNumber(e)&&(this.rootHeight=e)}}}),v=y,S=(i(687),i(0)),b=Object(S["a"])(v,n,a,!1,null,null,null);e["default"]=b.exports},1114:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control ds-home-banner"},[t.showList.length>1?i("div",{staticClass:"arrow-left"},[i("i",{staticClass:"iconfont icon-fanyezuobeifen8 arrow",on:{click:t.prev}})]):t._e(),i("el-carousel",{ref:"carousel",staticClass:"carousel",attrs:{height:t.h,loop:!0,arrow:"never","indicator-position":"none",autoplay:!1}},t._l(t.showList,(function(e,n){return i("el-carousel-item",{key:n},[i("div",{staticClass:"carousel-list"},t._l(e,(function(e){return i("div",{key:e.text},[i("p",[i("i",{staticClass:"iconfont",class:e.icon,staticStyle:{"font-size":"30px"}})]),i("p",[i("span",[t._v(t._s(e.text))]),i("span",[t._v("--")])])])})),0)])})),1),t.showList.length>1?i("div",{staticClass:"arrow-right"},[i("i",{staticClass:"iconfont icon-fanyezuobeifen5 arrow",on:{click:t.next}})]):t._e()],1)},a=[],o=dsf.component({name:"DsfIndicatorPanel",ctrlCaption:"指标面板",props:{maxPanel:{type:[Number,String],default:4},list:{type:Array,default:function(){return[{icon:"fenzuguanli",text:"我要查"},{icon:"fenzuguanli",text:"我要办"},{icon:"fenzuguanli",text:"我要看"}]}}},computed:{showList:function(){for(var t=this.list.map((function(t){return t.icon=t.icon.startsWith("icon-")?t.icon:"icon-".concat(t.icon),t})),e=[],i=this.maxPanel,n=0;n<t.length;n+=i)e.push(t.slice(n,n+i));return e}},mixins:[$mixins.control],data:function(){return{h:"100%"}},mounted:function(){this.isDesign&&(this.h="100px")},methods:{prev:function(){this.$refs.carousel.prev()},next:function(){this.$refs.carousel.next()}}}),r=o,s=i(0),l=Object(s["a"])(r,n,a,!1,null,null,null);e["default"]=l.exports},1115:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-control ds-convenient-menu pc",class:t.rootClass,style:t.rootStyle},[1===t.menuList.length?i("dsf-convenient-menu-group",{attrs:{group:t.menuList[0]},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,a=e.rowIndex,o=e.colIndex;return[t._t("default",(function(){return[i("dsf-convenient-menu-item",{attrs:{"display-style":t.displayStyle,item:n}},[""!=t.enableMark&&t.isDesign||n.mark_type&&t.badges[n.id]&&t.badges[n.id].num?i("span",{staticClass:"angle-mark",class:[t.enableMark],style:t.markStyle},[t._v(" "+t._s(t.isDesign||t.badges[n.id].num>99?"99+":t.badges[n.id].num)+" ")]):t._e()])]}),{item:n,pageIndex:0,rowIndex:a,colIndex:o})]}}],null,!0)}):t.menuList.length>1?[i("el-carousel",{ref:"carousel",attrs:{loop:!1,autoplay:!1,height:"100%",arrow:"never"},on:{change:function(e){t.activeIndex=e}},nativeOn:{wheel:function(e){return t.onWheel.apply(null,arguments)}}},t._l(t.menuList,(function(e,n){return i("el-carousel-item",{key:n},[i("dsf-virtual-scroll",[i("dsf-convenient-menu-group",{attrs:{group:e},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item,o=e.rowIndex,r=e.colIndex;return[t._t("default",(function(){return[i("dsf-convenient-menu-item",{attrs:{"display-style":t.displayStyle,item:a}},[""!=t.enableMark&&t.isDesign||a.mark_type&&t.badges[a.id]&&t.badges[a.id].num?i("span",{staticClass:"angle-mark",class:[t.enableMark],style:t.markStyle},[t._v(" "+t._s(t.isDesign||t.badges[a.id].num>99?"99+":t.badges[a.id].num)+" ")]):t._e()])]}),{item:a,pageIndex:n,rowIndex:o,colIndex:r})]}}],null,!0)})],1)],1)})),1),t.arrow&&t.menuList.length>1?[i("div",{staticClass:"ds-convenient-menu-arrow left",class:{disabled:0==t.activeIndex}},[i("i",{staticClass:"iconfont icon-arrow-left2",on:{click:function(e){return t.$refs.carousel.prev()}}})]),i("div",{staticClass:"ds-convenient-menu-arrow right",class:{disabled:t.activeIndex==t.menuList.length-1}},[i("i",{staticClass:"iconfont icon-arrow-right2",on:{click:function(e){return t.$refs.carousel.next()}}})])]:t._e()]:t._e()],2)},a=[],o=Vue.defineLazyComponent((function(){return i(938)})),r=Vue.defineLazyComponent((function(){return i(939)})),s=dsf.component({name:"DsfConvenientMenu",mixins:[$mixins.convenientMenu],ctrlCaption:"快捷菜单",design:{isMask:!1},components:{DsfConvenientMenuGroup:o,DsfConvenientMenuItem:r},props:{arrow:{type:Boolean,default:!1}},data:function(){return this.__wheelDeltaStart=0,{}},computed:{rootClass:function(){var t=this.menuList,e=this.arrow,i=this.innerHeightAuto,n=this.minHeight,a=this.height,o=[];return e&&t.length>1&&o.push("arrow"),i&&"auto"!==a&&"none"==n&&o.push("inner-auto"),o},rootStyle:function(){var t={"min-height":this.minHeight};return this.isDesign?(this.$dispatch("design-height-change",this.height),t.height="100%"):t.height=this.height,t},colStyle:function(){return{padding:this.cellMargin.join(" ")}},boxStyle:function(){return{padding:this.cellPadding.join(" "),"background-color":this.$compileColor(this.cellColor),width:this.cellWidth,"border-radius":this.cellRadius}},iconStyle:function(){var t={width:this.iconWidth,height:this.iconHeight,"border-radius":this.iconRadius,"background-color":this.$compileColor(this.iconBgColor),color:this.$compileColor(this.iconFontColor),"font-size":this.iconFontSize,"font-weight":this.iconFontBold?"bold":"normal"};return this.iconBgShadow&&(t["box-shadow"]="0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"),this.iconFontShadow&&(t["text-shadow"]="0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)"),t},infoStyle:function(){var t={};return"style1"===this.displayStyle?t["margin-top"]=this.iconAndInfoOfSpacing:"style2"===this.displayStyle&&(t["margin-left"]=this.iconAndInfoOfSpacing),t},markStyle:function(){var t="calc(0.25 * ".concat(this.iconRadius,")");return{top:t,right:t}}},beforeDestroy:function(){clearTimeout(this.__timeout)},methods:{onWheel:function(t){var e=this,i=-1*t.deltaX,n=-1*t.deltaY;t.shiftKey&&n&&(i=n,n=0),"FF"===dsf.client.type&&1===t.deltaMode&&(i&&(i=i<0?-100:100),n&&(n=n<0?-100:100));var a=n||i;(a>0&&this.lastDelta<0||a<0&&this.lastDelta>0)&&(this.__wheelDeltaStart=0,this.lastDelta=a),clearTimeout(this.__timeout),this.__wheelDeltaStart+=a;var o=a-this.__wheelDeltaStart;(o<0&&this.activeIndex>0||o>0&&this.activeIndex<this.menuList.length-1)&&(t.preventDefault(),t.stopPropagation()),o<=-300&&this.activeIndex>0?(this.$refs.carousel.prev(),this.__wheelDeltaStart=0):o>=300&&this.activeIndex<this.menuList.length-1?(this.$refs.carousel.next(),this.__wheelDeltaStart=0):o<=-300||o>=300?this.__wheelDeltaStart=0:this.__timeout=setTimeout((function(){e.__wheelDeltaStart=0}),300)}}}),l=s,c=(i(689),i(0)),u=Object(c["a"])(l,n,a,!1,null,null,null);e["default"]=u.exports},431:function(t,e,i){"use strict";var n=i(7),a=i.n(n);function o(t,e){var i=e.props,n=e.parent,o=i.item;return o.hide?t("div",{class:{"ds-nav-menu-item-bt":!0,"ds-nav-menu-item-bt__horizontal":"horizontal"===i.fontAlignment},style:n.itemBtStyle}):t("div",a()([{class:{"ds-nav-menu-item-bt":!0,"ds-nav-menu-item-bt__horizontal":"horizontal"===i.fontAlignment},style:n.itemBtStyle,attrs:{title:o.name||""}},{on:{click:function(){o.hide||n._clickBefore(n.onClick,o)}}}]),[s(t,e),c(t,e),u(t,e)])}function r(t,e){var i,n,a;return null!==e&&void 0!==e&&null!==(i=e.scopedSlots)&&void 0!==i&&i.badge?null===e||void 0===e||null===(n=e.scopedSlots)||void 0===n||null===(a=n.badge)||void 0===a?void 0:a.call(n):t()}function s(t,e){var i=e.props,n=e.parent,a=i.item,o=Vue.filter("imgFormat"),r=o(n.getImgUrl(a));return t("el-image",{attrs:{src:r},style:[n.itemBgStyle,n.getItemStyle(a)],scopedSlots:{error:function(){return l(t,e)}}})}function l(t,e){var i=e.props,n=e.parent,a=i.item;return t("i",{class:["iconfont",n.getIcon(a.icon)],style:[n.itemIconStyle,n.getIconStyle(a)]})}function c(t,e){var i=e.props,n=e.parent,a=i.item;return t("div",{class:"ds-nav-menu-item-name",style:n.itemTextStyle||{}},[t("div",{class:"ellipsis",style:{"text-align":"horizontal"===i.fontAlignment?"left":"center"}},[a.name||""])])}function u(t,e){var i,n,a;return null!==e&&void 0!==e&&null!==(i=e.scopedSlots)&&void 0!==i&&i.default?null===e||void 0===e||null===(n=e.scopedSlots)||void 0===n||null===(a=n.default)||void 0===a?void 0:a.call(n):t()}e["a"]={name:"NavMenuItem",functional:!0,props:{item:{type:Object,required:!0},fontAlignment:{type:String}},render:function(t,e){var i=e.props,n=e.parent;return t("div",{class:{"ds-nav-menu-item":!0,hide:i.item.hide},style:n.itemStyle},[r(t,e),o(t,e)])}}},46:function(t,e,i){t.exports=i.p+"modules/platform/img/banner-demo1.png"},526:function(t,e,i){var n=i(688);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("03bdce59",n,!0,{sourceMap:!1,shadowMode:!1})},527:function(t,e,i){var n=i(690);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("09db3c99",n,!0,{sourceMap:!1,shadowMode:!1})},681:function(t,e,i){var n=i(682);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i(19).default;a("258fa79b",n,!0,{sourceMap:!1,shadowMode:!1})},682:function(t,e,i){"use strict";i.r(e)},683:function(t,e,i){t.exports=i.p+"modules/platform/img/pc-baner1.jpg"},684:function(t,e,i){t.exports=i.p+"modules/platform/img/pc-baner2.jpg"},685:function(t,e,i){t.exports=i.p+"modules/platform/img/pc-baner3.jpg"},686:function(t,e,i){t.exports=i.p+"modules/platform/img/pc-baner4.jpg"},687:function(t,e,i){"use strict";i(526)},688:function(t,e,i){"use strict";i.r(e)},689:function(t,e,i){"use strict";i(527)},690:function(t,e,i){"use strict";i.r(e)},938:function(t,e,i){"use strict";i.r(e);var n=function(t,e){var i=e._c;return i(e.parent.innerHeightAuto?"div":"DsfVirtualScroll",{tag:"component",staticClass:"dsf-convenient-menu-group"},e._l(e.props.group,(function(t,n){return i("div",{key:n,staticClass:"dsf-convenient-menu-row"},e._l(t,(function(t,a){return i("div",{key:t._id,staticClass:"dsf-convenient-menu-col",style:e.parent.colStyle},[t._hide?e._e():i("div",{staticClass:"dsf-convenient-menu-box",style:e.parent.boxStyle,on:{click:function(i){return e.parent._clickBefore(e.parent.onClick,t)}}},[e._t("default",null,{item:t,rowIndex:n,colIndex:a})],2)])})),0)})),0)},a=[],o={name:"DsfConvenientMenuGroup",props:{group:{type:Array,default:function(){return[]}}}},r=o,s=i(0),l=Object(s["a"])(r,n,a,!0,null,null,null);e["default"]=l.exports},939:function(t,e,i){"use strict";i.r(e);var n=function(t,e){var i=e._c;return i("div",{staticClass:"dsf-convenient-menu-item pc",class:[e.props.displayStyle]},[i("div",{staticClass:"icon",style:e.parent.getIconStyle(e.props.item)},[i("el-image",{attrs:{src:e._f("imgFormat")(e.parent.getImgUrl(e.props.item))}},[i("template",{slot:"error"},[i("i",{staticClass:"iconfont",class:[e.parent.getIcon(e.props.item.icon)]})])],2),e._t("default")],2),i("div",{staticClass:"info",style:e.parent.infoStyle},[i("div",{staticClass:"name ellipsis"},[e._v(e._s(e.props.item.name||""))]),e.parent.hasDesc?i("div",{staticClass:"desc ellipsis-2"},[e._v(e._s(e.props.item.desc||""))]):e._e()])])},a=[],o={name:"DsfConvenientMenuItem",props:{item:{type:Object,required:!0},displayStyle:{type:String,required:"style1"}}},r=o,s=i(0),l=Object(s["a"])(r,n,a,!0,null,null,null);e["default"]=l.exports},946:function(t,e,i){"use strict";i.r(e);var n=i(7),a=i.n(n),o=i(2),r=i.n(o),s=i(3),l=i.n(s),c=(i(681),i(431));function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){l()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h=[{_id:1,imgUrl:"",icon:"icon-shouyeweixuanzhong",backgroundColor:"",foreColor:"",openType:"1",name:"首页",url:""},{_id:2,imgUrl:"",icon:"icon-shezhi",backgroundColor:"",foreColor:"",openType:"1",name:"工作台",url:""},{_id:3,imgUrl:"",icon:"icon-tab-addressbook-fill",backgroundColor:"",foreColor:"",openType:"1",name:"通讯录",url:""},{_id:4,imgUrl:"",icon:"icon-tab_message_d",backgroundColor:"",foreColor:"",openType:"1",name:"消息中心",url:""},{_id:5,imgUrl:"",icon:"icon-xiaoxitongzhi",backgroundColor:"",foreColor:"",openType:"1",name:"短信中心",url:""},{_id:6,imgUrl:"",icon:"icon-xitongguanli",backgroundColor:"",foreColor:"",openType:"1",name:"系统管理",url:""},{_id:7,imgUrl:"",icon:"icon-tab-addressbook-fill",backgroundColor:"",foreColor:"",openType:"1",name:"通讯录",url:""},{_id:8,imgUrl:i(46),icon:"item icon-tools",backgroundColor:"",foreColor:"",openType:"1",name:"配置管理",url:""},{_id:9,imgUrl:"",icon:"icon-yingyongguanli",backgroundColor:"",foreColor:"",openType:"1",name:"应用管理",url:""}],f=[{_id:1,imgUrl:"",icon:"icon-location-solid",backgroundColor:"",foreColor:"",openType:"1",name:"分组1",url:"",children:h},{_id:2,imgUrl:"",icon:"icon-xiaolianmanyifuwu",backgroundColor:"",foreColor:"",openType:"1",name:"分组2",url:"",children:h}];e["default"]=dsf.component({name:"DsfNavMenu",mixins:[$mixins.control],ctrlCaption:"快捷菜单",design:{isMask:!1},components:{NavMenuItem:c["a"]},props:{groupModel:{type:String,default:"none"},groupModelChildrenMax:{default:0},fontAlignment:{type:String,default:"vertical"},colNum:{type:Number,default:5},rowNum:{type:Number,default:0},maxPages:{type:Number,default:0},height:{type:String,default:"100%"},minHeight:{type:String,default:"130px"},arrow:{type:Boolean,default:!1},useDefaultStyle:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},moreText:{type:String,default:"更多"},moreIcon:{type:String,default:"icon-quanbu"},moreUrl:{type:String,default:""},moreOpentype:{type:String,default:"0"},hoverAnimation:{type:String,default:"-"},defaultIcon:{type:String,default:"icon-icon_yingyongguanli"},showPriority:{type:String,default:"img"},menuHasBg:{type:Boolean,default:!0},menuBgColor:{type:String,default:"#fff"},menuBgShadow:{type:Boolean,default:!0},menuColor:{type:String,default:"theme"},menuShadow:{type:Boolean,default:!0},menuBorderRadius:{type:String,default:"5px"},menuBorderSize:{type:String,default:"50px"},menuIconSize:{type:String,default:"30px"},menuBtSize:{type:String,default:"100px"},menuBtRadius:{type:String,default:"5px"},dataSource:{type:String,default:"http"},dataSourceUrl:{type:String,default:""},dataSourceList:{type:Array,default:function(){return[]}},itemClick:{type:Function,required:!1},clickBefore:{type:Function,required:!1}},data:function(){return this.__wheelDeltaStart=0,{loading:!1,activeIndex:0,isLoading:!0,data:[],buttonSize:{}}},computed:d(d({},Vuex.mapState("cornerMark",["badges","menuIds"])),{},{dataList:function(){return!this.isDesign||"http"!=this.dataSource&&this.dataSourceList.length?"http"==this.dataSource?this.data:this.dataSourceList:"none"==this.groupModel?h:f},rootClass:function(){var t=["dsf-control ds-nav-menu",this.hoverAnimation];return this.menuHasBg&&t.push("hasBg"),this.menuBgShadow&&t.push("bgShadow"),this.menuShadow&&t.push("iconShadow"),this.arrow&&this.pages>1&&t.push("arrow"),t},rootStyle:function(){var t={"min-height":this.minHeight};return this.isDesign?(this.$dispatch("design-height-change",this.height),t.height="100%"):t.height=this.height,t},itemStyle:function(){var t=(100/this.colNum).toFixed(2),e=(t*this.colNum>100?t-.01:t)+"%";return{width:e,flex:"0 0 "+e}},itemBgStyle:function(){var t={width:this.menuBorderSize,height:this.menuBorderSize,"border-radius":this.menuBorderRadius};return this.menuHasBg&&(t["background-color"]=this.$compileColor(this.menuBgColor)),t},itemBtStyle:function(){return{width:this.menuBtSize,height:this.menuBtSize,"border-radius":this.menuBtRadius}},itemIconStyle:function(){return{"font-size":this.menuIconSize,color:this.$compileColor(this.menuColor)}},pages:function(){var t=this,e=this.groupModel,i=this.rowNum,n=this.dataList,a=this.pageSize,o=this.maxPages,r=function(t){if(!i)return 1;var e=Math.ceil(t.length/a);return o?Math.min(o,e):e};return"tile"==e||"tab"==e?this.groupModelChildrenMax>0?_.map(n,(function(e){return r((e.children||[]).slice(0,t.groupModelChildrenMax))})):_.map(n,(function(t){return r(t.children||[])})):r(n)},pageSize:function(){return(this.colNum||1)*this.rowNum},moreInfo:function(){return!this.hasMore||this.loading?{}:{_id:"more",imgUrl:"",icon:this.getIcon(this.moreIcon),color:"",bgColor:"",url:this.moreUrl,openType:this.moreOpentype,name:this.moreText}},menuList:function(){var t=this,e=this.groupModel,i=this.rowNum,n=this.dataList,a=this.moreInfo,o=this.pageSize,s=this.pages,l=function(e,n){var s=[];if(i){for(var l=0;l<n;l++)s.push(e.slice(l*o,l*o+o));if(s.length||(s=[[]]),t.hasMore){var c=s.length-1<0?null:_.last(s);c?(t.maxPages==s.length&&c.length==o&&c.pop(),c.push(a)):s.push([a])}}else s=t.hasMore?[[].concat(r()(e),[a])]:[e];var u=_.last(s);if(i&&u.length<o)for(var d=0,h=o-u.length;d<h;d++)u.push({id:dsf.uuid(8),hide:!0});return s};return"tile"==e||"tab"==e?_.map(n,(function(e,i){return t.groupModelChildrenMax>0?d(d({},e),{},{children:l((e.children||[]).slice(0,t.groupModelChildrenMax),s[i])}):d(d({},e),{},{children:l(e.children||[],s[i])})})):l(n,s)}}),watch:{dataSourceUrl:function(){this.init()},dataList:function(t,e){t&&t.length>0&&this.getCornerMarkInfo(t)},fontAlignment:function(t,e){this.buttonSize[e]=this.menuBtSize;var i="";i="horizontal"===t?this.buttonSize[t]||"100%":this.buttonSize[t]||"100px",this.menuBtSize=i,this.buttonSize[t]=i}},render:function(t){var e=this.groupModel,i=this.menuList,n=this.pages,a=this.rootClass,o=this.rootStyle,r=[];return r="tile"==e?this.getTileRender(t,i,n):"tab"==e?[]:this.getGroupRender(t,i,n),t("div",{class:a,style:o},[r])},created:function(){this.init()},beforeDestroy:function(){clearTimeout(this.__timeout)},methods:{getTileRender:function(t,e,i){var n=this,a=_.map(e,(function(e,a){return t("div",{class:"ds-nav-menu-section"},[t("dsf-title",{attrs:{value:e.name,fontType:4,"show-color-lump":!0,"show-weight":!0}}),t("div",{class:"ds-nav-menu-section-content"},[n.getGroupRender(t,e.children,i[a])])])}));return a},getTabRender:function(t,e){},getGroupRender:function(t,e,i){var n=this,o=this.arrow,r=this.activeIndex,s=this.minHeight;if(1==i)return this.getPageRender(t,e[0]);if(e.length>1){var l=_.map(e,(function(e){return t("el-carousel-item",[t("dsf-virtual-scroll",[n.getPageRender(t,e)])])})),c=[t("el-carousel",a()([{ref:"carousel",style:{"min-height":s},attrs:{loop:!1,autoplay:!1,arrow:"never"}},{nativeOn:{wheel:this.onWheel}},{},{on:{change:function(t){return n.activeIndex=t}}}]),[l])];if(o){var u=["ds-nav-menu-arrow","left"];0==r&&u.push("disabled");var d=["ds-nav-menu-arrow","right"];r==e.length-1&&d.push("disabled"),c.push(t("div",{class:u},[t("i",a()([{class:"iconfont icon-arrow-left2"},{on:{click:function(){return n.$refs.carousel.prev()}}}]))]),t("div",{class:d},[t("i",a()([{class:"iconfont icon-arrow-right2"},{on:{click:function(){return n.$refs.carousel.next()}}}]))]))}return c}return[]},getPageRender:function(t,e){var i=this.badges,n=this.fontAlignment,a=_.map(e,(function(e){var a=i[e["id"]]&&i[e["id"]]["num"],o=e["mark_type"]?t("div",{slot:"badge",class:"ds-aside-menu-item-box badgeBox",directives:[{name:"show",value:a}]},[t("span",{class:"ds-page-home-badge text"},[a])]):"";return t("nav-menu-item",{key:e._id,attrs:{item:e,fontAlignment:n}},[o])}));return t("div",{class:"ds-nav-menu-group"},[a])},getCornerMarkInfo:function(t){var e=this,i={markTypes:[],menu_ids:[]};_.forEach(t,(function(t){var n=t.mark_type,a=i.markTypes,o=t.id;n&&!e.menuIds.includes(o)&&(i.menu_ids.push(o),a.includes(n)||a.push(n))}));var n=i.markTypes;n.length&&this.$http.get("cornerMark/getMarkIdList",{markTypes:n.join(",")}).done((function(t){t.success&&e.$store.dispatch("cornerMark/init",{markId:t.data,menu_ids:i.menu_ids,type:"DsfNavMenu"})})).error((function(t){dsf.layer.message((null===t||void 0===t?void 0:t.message)||"根据菜单类型获取所有角标业务ID异常",!1)}))},reloadData:function(){this.init()},init:function(){var t=this;this.isDesign||"http"!=this.dataSource||(""!=this.dataSourceUrl?(this.loading=!0,this.$http.get(this.dataSourceUrl).done((function(e){var i=e.success,n=e.data,a=e.message;i?(t.data=n,t.loading=!1):dsf.layer.message(a,!1)})).error((function(t){dsf.layer.message(t.message,!1)})).always((function(){t.isLoading=!1}))):this.data=[])},_clickBefore:function(t){for(var e,i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];if(!this.isDesign){var o=null===(e=this.clickBefore)||void 0===e?void 0:e.call.apply(e,[this].concat(n));o&&o.then?o.then((function(e){!1!==e&&t.apply(void 0,n)})):!1!==o&&t.apply(void 0,n)}},onClick:function(t){var e=this;if(this.itemClick){var i=this.itemClick(t);if(!1===i)return;if(i.then)return void i.then((function(i){!1!==i&&e.openPage(t)}))}this.openPage(t)},getImgUrl:function(t){var e=t.imgUrl,i=t.icon;return"[]"==e?"":"img"==this.showPriority?e:i&&""!=i?"":e},getItemStyle:function(t){var e=t.backgroundColor;return this.useDefaultStyle||!this.menuHasBg?{}:e?{background:e}:{}},getIconStyle:function(t){var e=t.foreColor;return this.useDefaultStyle?{}:e?{color:e}:{}},getIcon:function(t){return t&&""!=t||(t=this.defaultIcon||"icon-icon_yingyongguanli"),t?"".concat(t," icon-").concat(t):""},openPage:function(t){var e=t.url;if(e&&""!=e){0==e.indexOf("#")&&0!=e.indexOf("#/")&&(e=e.replace("#","#/")),e=this.$replace(e,this.local);var i={url:e,state:t.openType||t.opentype};3==i.state&&(i["title"]=t.dialogTitle||t.name||void 0,i["width"]=t.dialogWidth||"70vw",i["height"]=t.dialogHeight||"60vh"),this.$open(i)}},onWheel:function(t){var e=this,i=-1*t.deltaX,n=-1*t.deltaY;t.shiftKey&&n&&(i=n,n=0),"FF"===dsf.client.type&&1===t.deltaMode&&(i&&(i=i<0?-100:100),n&&(n=n<0?-100:100));var a=n||i;(a>0&&this.lastDelta<0||a<0&&this.lastDelta>0)&&(this.__wheelDeltaStart=0,this.lastDelta=a),clearTimeout(this.__timeout),this.__wheelDeltaStart+=a;var o=a-this.__wheelDeltaStart;(o<0&&this.activeIndex>0||o>0&&this.activeIndex<this.menuList.length-1)&&(t.preventDefault(),t.stopPropagation()),o<=-300&&this.activeIndex>0?(this.$refs.carousel.prev(),this.__wheelDeltaStart=0):o>=300&&this.activeIndex<this.menuList.length-1?(this.$refs.carousel.next(),this.__wheelDeltaStart=0):o<=-300||o>=300?this.__wheelDeltaStart=0:this.__timeout=setTimeout((function(){e.__wheelDeltaStart=0}),300)}}})}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_pc_nav.js.map