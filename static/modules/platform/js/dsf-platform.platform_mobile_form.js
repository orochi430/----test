/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[17],{1029:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-audit-state mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e._e(),[i("van-field",{directives:[{name:"show",rawName:"v-show",value:e.isVisible,expression:"isVisible"}],attrs:{"label-width":e.getLabelWidth(!0),label:e.showLabel&&e.label||"",disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[i("div",[e._v(e._s(e._f("proxy")(e.value,e.formatter)))])]},proxy:!0}])}),e.isDesign?e._e():[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showOpenBtn,expression:"showOpenBtn"},{name:"drag",rawName:"v-drag"}],staticClass:"ds-audit-state-fixed-btn",on:{click:e.showDrawerOpen}},[e._v(" 审 ")]),i("van-popup",{staticClass:"ds-audit-state-drawer mobile",style:{height:"35vh"},attrs:{value:e.drawerOpen,"lazy-render":!1,"get-container":"#app",position:"bottom",round:"",closeable:"","overlay-class":"ds-audit-state-drawer-overlay"},on:{"click-overlay":e.drawerClose,"click-close-icon":e.drawerClose}},[i("div",{staticClass:"ds-audit-state-drawer-head"},[e._v("审核信息")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showOpenBtn,expression:"showOpenBtn"}],staticClass:"ds-audit-state-drawer-list"},[e.mandatoryErrorList.length?[i("div",{staticClass:"ds-audit-state-drawer-title",attrs:{type:"mandatory"}},[i("span",[e._v("强制型")])]),e._l(e.mandatoryErrorList,(function(t,a){return i("div",{key:"mandatory"+a,staticClass:"ds-audit-state-drawer-item"},[i("div",{staticClass:"ds-audit-state-drawer-item-label"},[i("span",[e._v("错误提示：")]),e._v(e._s(t.message)+" ")]),e._l(t.fields,(function(t){return i("div",{key:t.id,staticClass:"ds-audit-state-drawer-field",on:{click:function(i){return e.errorClick(t)}}},[i("span",[e._v("字段：")]),e._v(e._s(t.label)+" ")])}))],2)}))]:e._e(),e.verifyErrorList.length?[i("div",{staticClass:"ds-audit-state-drawer-title",attrs:{type:"verify"}},[i("span",[e._v("核实型")])]),e._l(e.verifyErrorList,(function(t,a){return i("div",{key:"verify"+a,staticClass:"ds-audit-state-drawer-item"},[i("div",{staticClass:"ds-audit-state-drawer-item-label"},[i("span",[e._v("错误提示：")]),e._v(e._s(t.message)+" ")]),e._l(t.fields,(function(t){return i("div",{key:t.id,staticClass:"ds-audit-state-drawer-field",on:{click:function(i){return e.errorClick(t)}}},[i("span",[e._v("字段：")]),e._v(e._s(t.label)+" ")])})),i("div",{staticClass:"ds-audit-state-drawer-remark",on:{click:function(e){return e.stopPropagation(),function(){}.apply(null,arguments)}}},[i("span",{staticClass:"ds-audit-state-drawer-remark-label"},[e._v("说明：")]),i("van-field",{attrs:{value:e.remarkMap[t.auditId],type:"textarea",size:"mini",label:"",rows:"1",autosize:"","label-width":"0",placeholder:"请输入备注"},on:{input:function(i){return e.remarkInput(i,t)}}})],1)],2)}))]:e._e(),e._e(),e.ignoreErrorList.length?[i("div",{staticClass:"ds-audit-state-drawer-title",attrs:{type:"ignore"}},[i("span",[e._v("忽略型")])]),e._l(e.ignoreErrorList,(function(t,a){return i("div",{key:"ignore"+a,staticClass:"ds-audit-state-drawer-item"},[i("div",{staticClass:"ds-audit-state-drawer-item-label"},[i("span",[e._v("错误提示：")]),e._v(e._s(t.message)+" ")]),e._l(t.fields,(function(t){return i("div",{key:t.id,staticClass:"ds-audit-state-drawer-field",on:{click:function(i){return e.errorClick(t)}}},[i("span",[e._v("字段：")]),e._v(e._s(t.label)+" ")])}))],2)}))]:e._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showOpenBtn,expression:"!showOpenBtn"}],staticStyle:{"text-align":"center"}},[e._v("无错误信息")])])]]],2)},n=[],s=dsf.component({name:"DsfMobileAuditState",ctrlCaption:"审核状态",mixins:[$mixins.formulaAuditStateMixin]}),l=s,r=(i(827),i(0)),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1189:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-textbox mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1)),""!=e.value?i("span",[e._v(e._s(e.append))]):e._e()]:[i("van-field",{ref:"input",class:{"has-passwd-strength":e.isCheckStrength},attrs:{placeholder:e.placeholder,type:e.$inputType,disabled:e.disabled,"label-width":e.getLabelWidth(!0),readonly:e.readOnly,required:e.required,"input-align":e.$inputAlign,"error-message":e.errorsMsg,"error-message-align":e.$inputAlign},on:{blur:e.blurHandler,focus:e.focusHandler,change:e.changeHandler,input:e.inputHandler,"click-right-icon":function(t){e.passwdIsOpen=!e.passwdIsOpen},click:e.clickHandler},scopedSlots:e._u([e.readOnly?{key:"input",fn:function(){return[e._v(" "+e._s(e.inputValue)+" ")]},proxy:!0}:null,{key:"extra",fn:function(){return[e.isCheckStrength&&(e.isDesign||e.inputValue&&e.inputValue.length>0)?[i("div",{staticClass:"passwd-strength",style:{paddingLeft:e.getLabelWidth(!0)},attrs:{slot:"extra"},slot:"extra"},[i("span",{staticClass:"title"},[e._v("密码强度：")]),i("div",{staticClass:"process"},[i("div",{staticClass:"fore",style:{width:e.passwdStutas.width+"%",background:e.passwdStutas.color}})]),i("span",[e._v(e._s(e.passwdStutas.text))])])]:e._t("append",(function(){return[e.append?[e._v(e._s(e.$t(e.append)))]:e._e()]}))]},proxy:!0},e.ishideCon?{key:"right-icon",fn:function(){return[i("van-icon",{staticClass:"iconfont",attrs:{"class-prefix":"icon",name:e.getIcon}})]},proxy:!0}:{key:"right-icon",fn:function(){return[e._t("right-icon")]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(" "+e._s(e.label)+" ")])]},proxy:!0}:null],null,!0),model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},n=[],s=/^[+-]?(\d|[1-9]\d+)(\.\d+)?$/g,l=dsf.component({name:"DsfMobileTextbox",mixins:[$mixins.formControl],ctrlCaption:"文本框",props:{lazyModel:{type:Boolean,default:!1},ishideCon:{type:Boolean,default:!1},inputType:{type:String,default:"text"},openIcon:{type:String,default:"icon-icon-invisible"},hideIcon:{type:String,default:"icon-icon-visible"},isCheckStrength:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},isTrim:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("text-meta-data")}},inputAlign:{type:String,default:"right"},append:{type:String,default:""},fromDirection:{type:String,default:"horizontal"},changeCorrection:{type:Object,default:function(){return null}}},data:function(){return{keyboardInputValue:"",showNumberKeyboard:!1,bindInputValue:"",passwdIsOpen:!1,passwdAllStutas:{1:{text:"弱",color:"#ff3b30"},2:{text:"中",color:"#ff8f1f"},3:{text:"强",color:"#00b578"},4:{text:"强",color:"#00b578"}},passwdStutas:{width:0,text:"弱",color:"#ff3b30"}}},computed:{inputValue:{get:function(){return this.bindInputValue},set:function(e){this.bindInputValue=e,this.lazyModel||this.emitValueChange(e)}},$inputAlign:function(){return this.inputAlign},$inputType:function(){return"password"==this.inputType?this.passwdIsOpen?"text":"password":this.inputType},getIcon:function(){var e=this.passwdIsOpen?this.hideIcon:this.openIcon;return e.replace("icon-","")},isNumberInput:function(){var e;return"number"==(null===this||void 0===this||null===(e=this.metadata)||void 0===e||null===(e=e.valueAttributes)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.type)||void 0===e?void 0:e.value)}},mounted:function(){},methods:{changeHandler:function(){var e,t=this,i=this.filterValidNumber(this.inputValue);null!==this&&void 0!==this&&null!==(e=this.changeCorrection)&&void 0!==e&&e.command&&(i=dsf.format(this.changeCorrection.command,i,this.changeCorrection.args||[])),this.lazyModel?this.emitValueChange(i):this.inputValue=i,this.$nextTick((function(){t.emitFormValidate(i),t.$dispatch("change",i)}))},blurHandler:function(){if(this.$dispatch("blur"),this.isCheckStrength){var e=this.checkStrong(this.inputValue);this.passwdStutas.width=25*e,Object.assign(this.passwdStutas,this.passwdAllStutas[e])}},focusHandler:function(){this.$dispatch("focus")},inputHandler:function(e){this.$dispatch("input",e)},clickHandler:function(e){this.$dispatch("click",e)},checkStrong:function(e){var t=0;return e.length<1?t:(/\d/.test(e)&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/\W/.test(e)&&t++,t>2?e.length<12?3:4:t)},filterValidNumber:function(e){return this.isNumberInput&&(s.lastIndex=0,!s.test(e))?(dsf.layer.message("请填写一个数字",!1),""):e}},watch:{value:{handler:function(e,t){this.bindInputValue=e},immediate:!0},isNumberInput:function(e){!0===e?(this.$emit("update:ishideCon",!1),this.$emit("update:inputType","number")):this.$emit("update:inputType","text")},inputType:function(e){"password"==e?this.$emit("update:ishideCon",!0):this.$emit("update:ishideCon",!1)},ishideCon:{handler:function(e){!0===e?this.$emit("update:inputType","password"):this.isNumberInput?this.$emit("update:inputType","number"):this.$emit("update:inputType",this.inputType||"text")},immediate:!0}}}),r=l,o=i(0),u=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=u.exports},1190:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-textbox mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{placeholder:e.readOnly?"":e.placeholder,disabled:e.disabled,"label-width":e.getLabelWidth(!0),readonly:e.readOnly,required:e.required,"input-align":e.$inputAlign,type:"textarea",autosize:e.inputAutoSize,rows:e.rows,"error-message":e.errorsMsg,"error-message-align":e.$inputAlign},on:{blur:e.blurHandler,change:e.changeHandler},scopedSlots:e._u([e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0),model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e._t("error")]],2)},n=[],s=dsf.component({name:"DsfMobileTextArea",mixins:[$mixins.formControl],ctrlCaption:"多行文本",props:{placeholder:{type:String,default:"请输入"},metadata:{type:Object,default:function(){var e=dsf.metadata.get("text-meta-data");return dsf.mix(e.valueAttributes[0],{length:1e3}),e}},inputAlign:{type:String,default:"left"},rows:{type:Number,default:2},isAuto:{type:Boolean,default:!1},maxHeight:{type:Number,default:0},minHeight:{type:Number,default:0},fromDirection:{type:String,default:"horizontal"}},computed:{$inputAlign:function(){return this.inputAlign},inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}},inputAutoSize:function(){return!!this.isAuto&&(!this.maxHeight&&!this.minHeight||{minHeight:this.minHeight,maxHeight:this.maxHeight})}},mounted:function(){},methods:{changeHandler:function(){var e=this;this.$dispatch("change",this.value),this.$nextTick((function(){e.emitFormValidate(e.value)}))},blurHandler:function(){this.$dispatch("blur")}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1191:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-ueditor mobile",class:e.getCss,attrs:{fromdirection:"vertical"}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},"DsfTextProxy",e._self.$props,!1))]:e.ready?[i("van-field",{attrs:{required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[e.showEditor&&!e.readOnly?i("quill-editor",{ref:"myQuillEditor",staticClass:"ql-editor",style:{width:"100%",height:e.richTxtHeight+"px",display:"flex","flex-direction":"column"},attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},ready:function(t){return e.onEditorReady(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e(),e.showEditor&&e.readOnly?i("div",{staticClass:"ql-editor",domProps:{innerHTML:e._s(e.dsf.safe.xss(e.inputValue))}}):e._e(),e.isDesign&&e.readOnly?i("div",{class:e.ueditorCss,attrs:{id:"designReadOnly"},domProps:{textContent:e._s(e.msg)}}):e._e()]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:e._e()],2)},n=[],s=i(394),l=dsf.component({name:"DsfMobileUeditor",mixins:[$mixins.formControl],ctrlCaption:"富文本",props:{richTxtHeight:{type:Number,default:400},placeholder:{type:String,default:""},metadata:{type:Object,default:function(){var e=dsf.metadata.get("big-text-meta-data");return e.valueAttributes[0].textType="HTML",e}},toolBar:{type:Array,default:function(){return["bold","italic","underline","strike","blockquote","code-block",{header:1},{header:2},{list:"ordered"},{list:"bullet"},{script:"sub"},{script:"super"},{indent:"-1"},{indent:"+1"},{direction:"rtl"},{size:["small",!1,"large","huge"]},{header:[1,2,3,4,5,6,!1]},{color:[]},{background:[]},{font:[]},{align:[]},"clean","link","image","video"]}},showLabel:{type:Boolean,default:!0}},computed:{ueditorCss:function(){return this.showLabel?"have-label":""},msg:function(){var e="已经启用只读模式，",t=this.visible?e+"可见":e+"且不可见";return t},inputValue:{get:function(){return this.formatValue(this.value)},set:function(e){this.emitValueChange(e)}}},watch:{visible:function(e){},readOnly:function(e){},toolBar:function(){this.renderUEditor()},placeholder:function(e){var t=this;this.showEditor=!1,this.editorOption.placeholder=e,this.$nextTick((function(){t.showEditor=!0}))}},data:function(){return{ready:!1,ue:null,ueId:null,uparseId:null,editorOption:{modules:{toolbar:this.toolBar},placeholder:this.placeholder,readOnly:!0,theme:"snow"},showEditor:!0}},created:function(){var e=this;Object(s["a"])((function(){e.ready=!0}))},mounted:function(){var e=this;e.isDesign||e.readOnly},methods:{onEditorBlur:function(){this.emitFormValidate(this.value)},onEditorFocus:function(){},onEditorReady:function(){},renderUEditor:function(){var e=this;this.showEditor=!1,this.editorOption.modules.toolbar=this.toolBar,this.$nextTick((function(){e.showEditor=!0}))},formatValue:function(e){return this.readOnly&&(e=e.replace(/<iframe\s+class="ql-video"\s+.*?src="([^"]+)"[^>]*><\/iframe>/g,'<video class="ql-video" src="$1" controls></video>')),e}}}),r=l,o=(i(803),i(0)),u=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=u.exports},1192:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-carnumber mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{placeholder:e.readOnly?"":e.placeholder,disabled:e.disabled,"label-width":e.getLabelWidth(!0),readonly:e.readOnly,required:e.required,"input-align":e.$inputAlign,"error-message":e.errorsMsg,"error-message-align":e.$inputAlign},scopedSlots:e._u([e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},[i("div",{style:e.valueStyle,attrs:{slot:"input"},on:{click:e.showDialog},slot:"input"},[e._v(" "+e._s(e.value?e.value:e.placeholder||"")+" ")])])],i("van-popup",{attrs:{"get-container":"body",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[i("div",{staticClass:"ds-carnumber-popup-box"},[i("div",{staticClass:"ds-carnumber-popup-top"},[i("div",{staticClass:"ds-carnumber-popup-top-btn",attrs:{type:"cancel"},on:{click:function(t){return e.clickBtn("cancel")}}},[e._v(" 取消 ")]),e._l(e.size,(function(t){return i("div",{key:t,staticClass:"ds-carnumber-popup-input-item",attrs:{focus:e.isFocus(t),newEnergy:8==t,val:e.inputValue[t-1]}},[e._v(" "+e._s(e.inputValue[t-1]||"")+" ")])})),i("div",{staticClass:"ds-carnumber-popup-top-btn",attrs:{type:"confirm"},on:{click:function(t){return e.clickBtn("confirm")}}},[e._v(" 确定 ")])],2),i("div",{staticClass:"ds-carnumber-popup-main"},["chinese"==e.type?i("div",{staticClass:"ds-carnumber-popup-first-list"},e._l(e.chineseStr,(function(t,a){return i("div",{key:a,staticClass:"ds-carnumber-popup-first-row"},[e._l(t,(function(t){return[i("div",{key:t,staticClass:"ds-carnumber-popup-first-item",attrs:{id:t,disabled:e.isBtnDisabled(t)},on:{click:function(i){return e.inputText(t)}}},[e._v(" "+e._s(t)+" ")])]}))],2)})),0):"ABC"==e.type?i("div",{staticClass:"ds-carnumber-popup-first-list"},e._l(e.ABCStr,(function(t,a){return i("div",{key:a,staticClass:"ds-carnumber-popup-first-row"},[e._l(t,(function(t){return[i("div",{key:t,staticClass:"ds-carnumber-popup-first-item",attrs:{id:t,disabled:e.isBtnDisabled(t)},on:{click:function(i){return e.inputText(t)}}},[e._v(" "+e._s(t)+" ")])]}))],2)})),0):e._e()])])])],2)},n=[],s=dsf.component({name:"DsfMobileCarnumber",ctrlCaption:"车牌号",mixins:[$mixins.formControl],props:{metadata:{type:Object,default:function(){var e=dsf.metadata.get("text-meta-data");return e.validate||(e.validate={code:null,config:{text:{errorMsg:{express:"@[expressName]格式不正确",isNumber:"该项必须填写数字",max:"该项长度不可大于@[max]个字符",min:"该项长度不可小于@[min]个字符",numberMax:"该项不可大于@[numberMax]",numberMin:"该项不可小于@[numberMin]",precision:"小数点后最多保留@[precision]位小数",required:"该项必须填写"},express:"isPlateNumber",expressName:"车牌号",isNumber:!1,max:"",min:"",numberMax:"",numberMin:"",precision:"",required:!1}}}),e}},inputAlign:{type:String,default:"right"},placeholder:{type:String,default:"请输入"}},data:function(){return{show:!1,isNewEnergy:!1,isExtend:!1,inputValue:"",inputFocus:0,size:8,width:450,isCheck:!1,type:"chinese"}},computed:{valueStyle:function(){var e={};return this.value||(e.color="#c8c9cc"),e},$inputAlign:function(){return this.readOnly?"right":this.inputAlign},chineseStr:function(){var e=[["京","津","渝","沪","冀","晋","辽","吉","黑","苏"],["浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼"],["川","贵","云","陕","甘","青","蒙","桂","宁","新"],["ABC","藏","使","领","警","学","港","澳","挂","删除"]];return e},ABCStr:function(){var e=[[1,2,3,4,5,6,7,8,9,0],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["汉字","Z","X","C","V","B","N","M","删除"]];return e}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},methods:{inputText:function(e){this.isBtnDisabled(e)||("ABC"==e||"汉字"==e?this.type="汉字"==e?"chinese":"ABC":"删除"==e?(this.inputValue=this.inputValue.slice(0,this.inputValue.length-1),this.checkType()):this.inputValue.length<this.size&&(this.inputValue+=e,this.checkType()))},checkType:function(){this.inputValue.length?this.type="ABC":this.type="chinese"},isFocus:function(e){var t=this.size,i=this.inputValue,a=(this.inputFocus,i.length),n=0==a,s=a==t;return!s&&!n&&e==a+1||(!(!n||1!=e)||!(!s||e!=t))},isBtnDisabled:function(e){if("I"==e||"O"==e)return!0},clickBtn:function(e){var t=this;"confirm"==e&&(this.emitValueChange(this.inputValue),this.$dispatch("change",this.inputValue),this.$nextTick((function(){t.emitFormValidate(t.inputValue)}))),this.show=!1},showDialog:function(){this.readOnly||(this.inputValue=this.value||"",this.show=!0)}},beforeDestroy:function(){},destroyed:function(){},watch:{}}),l=s,r=(i(805),i(0)),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1193:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item mobile ds-datachoice",class:[e.getCss,{omitOpen:e.omitOpen}],attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({attrs:{"show-label":!1},on:{click:e.omitChange},model:{value:e.$omitValue,callback:function(t){e.$omitValue=t},expression:"$omitValue"}},"DsfTextProxy",e._self.$props,!1)),i("span",{staticClass:"omitText",on:{click:e.omitChange}},[e._v(e._s(e.$omitText))]),e._t("error",(function(){return[e.errors.length>0?i("div",{staticClass:"ds-error-text"},[e._v(" "+e._s(e.errorsMsg)+" ")]):e._e()]}))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:"","input-align":e.$inputAlign,"error-message":e.errorsMsg,"error-message-align":e.$inputAlign,required:e.required},scopedSlots:e._u([{key:"input",fn:function(){return[i("DsfTextProxy",e._b({attrs:{"show-label":!1},on:{click:e.omitChange},model:{value:e.$omitValue,callback:function(t){e.$omitValue=t},expression:"$omitValue"}},"DsfTextProxy",e._self.$props,!1)),i("span",{staticClass:"omitText",on:{click:e.omitChange}},[e._v(e._s(e.$omitText))])]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",{attrs:{"input-align":e.$inputAlign,"error-message":e.errorsMsg,"error-message-align":e.$inputAlign,disabled:e.disabled,"label-width":e.getLabelWidth(!0),required:e.required,readonly:""},scopedSlots:e._u([e.readOnly||e.disabled?null:{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-icon_tianjia",staticStyle:{display:"flex","align-items":"center"},on:{click:function(t){e.popupShow=!0}}})]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)}),e.readOnly||e.disabled?e._e():i("div",{staticClass:"tags"},[e.omitOpen&&e.value.length?i("div",{staticClass:"omitBox"},[i("DsfTextProxy",e._b({attrs:{"show-label":!1},on:{click:e.omitChange},model:{value:e.$omitValue,callback:function(t){e.$omitValue=t},expression:"$omitValue"}},"DsfTextProxy",e._self.$props,!1)),i("span",{staticClass:"omitText",on:{click:e.omitChange}},[e._v(e._s(e.$omitText))])],1):e._l(e.value,(function(t){return i("van-tag",{key:t.value,ref:t.value,refInFor:!0,attrs:{closeable:"",size:"medium"},on:{close:function(i){return e.removeTag(t)}}},[e._v(" "+e._s(t.text)+" ")])}))],2)],i("van-popup",{staticClass:"van-popup_dataChoice",style:{height:e.dialogHeight,width:e.dialogWidth,maxWidth:"100%"},attrs:{"close-on-popstate":!0,position:"bottom","get-container":"#app",round:""},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[i("div",{staticClass:"van-popup_top"},[i("span",{staticClass:"btn",on:{click:e.popupClose}},[e._v("取消")]),e._v(" "+e._s(e.dialogTitle)+" "),i("span",{staticClass:"btn",on:{click:e.popupYes}},[e._v("确定")])]),i("div",{staticClass:"main",style:{height:e.mainHeight}},[i("DsfMobileViewPart",e._b({ref:"popupVm",attrs:{path:e.$replace(e.dialogUrl),"show-model":"full"},on:{"select-change":e.popupYes}},"DsfMobileViewPart",{choiceParams:e.popupParams()},!1))],1)])],2)},n=[],s=i(3),l=i.n(s);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u=dsf.component({name:"DsfMobileDataChoice",ctrlCaption:"数据选择",mixins:[$mixins.formControl],provide:function(){return{$frame:this}},props:{simple:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入"},dialogTitle:{type:String,default:"请选择"},dialogUrl:{type:String,default:""},dialogWidth:{type:String,default:"100%"},dialogHeight:{type:String,default:"90%"},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},value:{type:[Array,Object],default:function(){return[]}},formatter:{type:String,default:"textValue^text"},maxTags:{type:Number,default:0},label:{type:String,default:"数据选择"},inputAlign:{type:String,default:"right"},fromDirection:{type:String,default:"horizontal"},omitOpen:{type:Boolean,default:!1},omitNum:{type:Number,default:6},omitText:{type:String,default:"等{length}个"}},data:function(){return{popupShow:!1,omit:!1}},computed:{$omitValue:function(){return this.omitOpen&&!this.omit?this.value.slice(0,this.omitNum):this.value},$omitText:function(){if(this.omitOpen&&!this.omit){var e=this.value.length,t=this.omitNum,i=e-t;return i>0?this.omitText.replaceAll("{num}",i).replaceAll("{length}",e).replaceAll("{omitNum}",t):""}return""},$inputAlign:function(){return this.inputAlign},mainHeight:function(){return"calc(100% - 0.8rem)"},selectValue:{get:function(){var e=this.value;return dsf.isDef(e)?e.map((function(e){return e.value})):[]},set:function(e){var t=[];_.each(e,(function(e){"string"==dsf.type(e)&&t.push({text:e,value:e}),dsf.hasOwn(e,"text")&&dsf.hasOwn(e,"value")&&t.push(e)})),this.emitValueChange(t)}},options:function(){return this.remoteInputing?this.remoteItems:this.items}},mounted:function(){var e,t=this;if(null!==this&&void 0!==this&&null!==(e=this.queryString)&&void 0!==e&&e.id){var i,a=this.value;dsf.isUnDef(a)||dsf.isObject(a)&&dsf.isEmptyObject(a)?i=[]:$.isArray(a)||(i=[a]),"string"!==dsf.type(a)||a||(i=[]),i?this.emitValueChange(i):this.$nextTick((function(){t.$dispatch("change",t.value),t.$nextTick((function(){t.emitFormValidate(t.value)}))}))}},watch:{value:{handler:function(e){var t,i=this;dsf.isUnDef(e)||dsf.isObject(e)&&dsf.isEmptyObject(e)?t=[]:$.isArray(e)||(t=[e]),"string"!==dsf.type(e)||e||(t=[]),t?this.emitValueChange(t):this.$nextTick((function(){i.$dispatch("change",i.value),i.$nextTick((function(){i.emitFormValidate(i.value)}))}))}},inputStr:{handler:function(e){var t=this;e?(this.popupHide="",this.$nextTick((function(){t.popperWidthChange()}))):this.popupHide="hide"}},popupShow:{handler:function(e){var t=this.$refs.popupVm;e&&t&&t.setViewSeleted&&dsf.isFunction(t.setViewSeleted)&&t.setViewSeleted({value:this.value,mapDataFn:this.autoMapDataText})}}},methods:{popupParams:function(){return{value:this.value,maxTags:this.maxTags}},popupClose:function(){this.popupShow=!1,this.$emit("popup-close")},popupYes:function(){var e=this,t=this,i=this.$refs.popupVm.$refs.view;if(i&&i.yes&&dsf.isFunction(i.yes)){var a=i.yes();if(!a)return!1;var n=t.mapData(a),s=[];_.each(n,(function(t,i){if(e.maxTags&&e.maxTags>0&&s.length>=e.maxTags)dsf.layer.message("已超出数量上限【"+e.maxTags+"】",!1);else{"string"==dsf.type(t)&&(t=o(o({},t),{},{text:t,value:t}));var a=_.findIndex(s,(function(e){return t.value===e.value}));a<0&&s.push(t)}})),t.emitValueChange(s),t.$dispatch("selected",a),this.popupShow=!1}},getChoiceParams:function(){return{value:this.value}},mapData:function(e){if(!this.mapHandler){var t="array"==dsf.type(e)?e:[e],i=[];i.splice(0,i.length);for(var a=0;a<t.length;a++){var n=t[a],s=this.autoMapDataText(n);s&&i.push(s)}return i}},autoMapDataText:function(e){var t,i,a=/(\w+)\.(\w+)/g,n=["text","_text","name","_name","label","_label"],s=["value","_value","id","_id","key","_key"],l=null;for(var r in e){var o=r;a.lastIndex=0;var u=a.exec(r);u&&u[2]&&(o=u[2]),dsf.isUnDef(t)&&n.indexOf(o)>=0&&(t=e[r]),dsf.isUnDef(i)&&s.indexOf(o)>=0&&(i=e[r])}return(dsf.isDef(t)||dsf.isDef(i))&&(l={text:t,value:i}),l},removeTag:function(e){var t=_.findIndex(this.value,(function(t){return t.value===e.value}));t>=0&&(this.$dispatch("remove",this.value.splice(t,1)),this.emitValueChange(this.value))},querySearch:function(e,t){e&&t([{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"}])},popperWidthChange:function(){if(this.$refs.input){var e=this.$refs.input.$children[1],t=this.$el.querySelector(".ds-datachoice-input"),i=t.getClientRects();i=i[0]||null,i&&(e.$el.style.minWidth=i.width+"px")}},resize:function(){this.popperWidthChange()},omitChange:function(){this.omitOpen&&(this.omit=!this.omit)}}}),c=u,d=i(0),p=Object(d["a"])(c,a,n,!1,null,null,null);t["default"]=p.exports},1194:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-select mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{value:e._f("proxy")(e.value,e.formatter),"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",e._g(e._b({scopedSlots:e._u([{key:"input",fn:function(){return[e.valueProxy?e.multiple?i("div",{staticClass:"tag-box"},e._l(e.valueProxy,(function(t,a){return i("van-tag",{key:a,attrs:{size:"large"}},[e._v(" "+e._s(e._f("proxy")(t,e.formatter))+" ")])})),1):i("div",[e._v(e._s(e._f("proxy")(e.valueProxy,e.formatter)))]):i("input",{staticClass:"van-field__control van-field__control--right placeholder",attrs:{placeholder:e.placeholder,type:"text",readonly:"readonly"}})]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events)),i("van-popup",{style:{height:"60%"},attrs:{"get-container":"#app",position:"bottom",round:""},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("dsf-mobile-picker",{ref:"picker",attrs:{title:e.label,show:e.showPicker,columns:e.realItems,max:e.maxChooseNum,multiple:e.multiple,"value-key":e.valueField,"text-key":e.optionsTextField,"show-toolbar":""},on:{cancel:function(t){e.showPicker=!1},confirm:e.onConfirm}})],1)]],2)},n=[],s=dsf.component({name:"DsfMobileSelect",mixins:[$mixins.formControl,$mixins.itemsMixins],ctrlCaption:"下拉框",props:{placeholder:{type:String,default:"请选择"},multiple:{type:Boolean,default:!1},maxChooseNum:{type:Number,default:0},inputAlign:{type:String,default:"right"},hasIcon:{type:Boolean,default:!0},collapseTags:{type:Boolean,default:!1},fromDirection:{type:String,default:"horizontal"}},data:function(){return{showPicker:!1}},computed:{attr:function(){var e={labelWidth:this.getLabelWidth(!0),value:this.text,placeholder:this.placeholder,disabled:this.disabled,readonly:!0,autosize:!0};return this.readOnly?e.inputAlign="left":(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign,this.hasIcon&&(e.rightIcon="arrow")),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},text:function(){return this.value&&this.value.text||""},valueProxy:function(){var e=this.value;if("array"==dsf.type(e)){if(0==e.length)return null;if(!this.multiple)return e[0];if(!this.collapseTags||e.length<2)return e;var t="+"+(e.length-1);return[e[0],{value:t,text:t}]}return e&&e.value?this.multiple?[e]:e:null}},methods:{setPickerChecked:function(){var e=this.$refs.picker;e&&e.setValues(_.map(this.valueCopy,this.valueField))},fieldClick:function(){var e=this;this.readOnly||(this.$listeners["field-click"]?this.$dispatch("field-click"):(this.showPicker=!0,this.$refs.picker?this.setPickerChecked():this.$nextTick((function(){e.setPickerChecked()}))))},onConfirm:function(e){this.showPicker=!1,this.selectValue=e,this.selectChange()}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1195:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-radiobox mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[i("DsfTextProxy",e._b({attrs:{"show-label":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",{class:{_1row_2col:"2"===e.direction,buttonStyle:"2"==e.type},attrs:{"label-width":e.getLabelWidth(!0),"input-align":e.inputAlign,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,disabled:e.disabled,required:e.required},scopedSlots:e._u([{key:"input",fn:function(){return[i("van-radio-group",{attrs:{direction:"2"===e.direction?"horizontal":e.direction,"icon-size":e.iconSize,disabled:e.disabled,readonly:e.readOnly},on:{change:e.selectChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.realItems,(function(t){return i("van-radio",{key:t[e.valueField],class:[void 0!==e.attachOptions[t[e.valueField]]?"hasAppendInput":""],attrs:{name:t[e.valueField],shape:e.shape,"label-position":e.labelPosition,disabled:t.disabled||e.disabledItemValues.indexOf(t[e.valueField])>-1},scopedSlots:e._u([{key:"default",fn:function(){return[void 0!==e.attachOptions[t[e.valueField]]?i("van-field",{staticClass:"appendInput",attrs:{placeholder:e.placeholder,type:"textarea",rows:"1",autosize:""},on:{input:function(i){return e.setAttach(t[e.valueField],i)}},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(e.getLabelText(t,e.index))+" "),e.needTipsOptions[t[e.valueField]]?i("van-icon",{attrs:{name:"question"},on:{click:function(i){return e.showTips(t)}}}):e._e()]},proxy:!0}],null,!0),model:{value:e.attachOptions[t[e.valueField]],callback:function(i){e.$set(e.attachOptions,t[e.valueField],i)},expression:"attachOptions[item[valueField]]"}}):[e._v(" "+e._s(e.getLabelText(t,e.index))+" "),e.needTipsOptions[t[e.valueField]]?i("van-icon",{attrs:{name:"question"},on:{click:function(i){return e.showTips(t)}}}):e._e()]]},proxy:!0}],null,!0)})})),1)]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]],2)},n=[],s=dsf.component({name:"DsfMobileRadioBox",mixins:[$mixins.formControl,$mixins.itemsMixins],ctrlCaption:"单选框",props:{cancel:{type:Boolean,default:!1},inputAlign:{type:String,default:"right"},direction:{type:String,default:"horizontal"},iconSize:{type:String,default:"0.4rem"},shape:{type:String,default:"round"},labelPosition:{type:String,default:"right"},disabledItemValues:{type:Array,default:function(){return[]}},type:{type:Number,validator:function(e){return-1!==[0,1,2].indexOf(parseInt(e))},default:0},fromDirection:{type:String,default:"horizontal"},placeholder:{type:String,default:"请输入"}},data:function(){return{multiple:!1}},methods:{showTips:function(e){dsf.layer.alert(this.needTipsOptions[e[this.valueField]])}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1196:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-checkbox mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[i("DsfTextProxy",e._b({attrs:{"show-label":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",{class:{_1row_2col:"2"===e.direction,buttonStyle:"2"==e.type},attrs:{"label-width":e.getLabelWidth(!0),"input-align":e.inputAlign,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,disabled:e.disabled,required:e.required},scopedSlots:e._u([{key:"input",fn:function(){return[i("van-checkbox-group",{attrs:{direction:"2"===e.direction?"horizontal":e.direction,"icon-size":e.iconSize,readonly:e.readOnly,disabled:e.disabled,max:e.maxChooseNum<0?0:e.maxChooseNum},on:{change:e.selectChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.realItems,(function(t,a){return i("van-checkbox",{key:t[e.valueField],ref:"checkboxes",refInFor:!0,class:[void 0!==e.attachOptions[t[e.valueField]]?"hasAppendInput":""],attrs:{name:t[e.valueField],shape:e.shape,"label-position":e.labelPosition,disabled:t.disabled||e.disabledItemValues.indexOf(t.value)>-1},scopedSlots:e._u([{key:"default",fn:function(){return[void 0!==e.attachOptions[t[e.valueField]]?i("van-field",{staticClass:"appendInputBox",scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(e.getLabelText(t,a))+" "),e.needTipsOptions[t[e.valueField]]?i("van-icon",{attrs:{name:"question"},on:{click:function(i){return e.showTips(t)}}}):e._e()]},proxy:!0},{key:"input",fn:function(){return[i("van-field",{staticClass:"appendInput",attrs:{placeholder:e.placeholder,type:"textarea",rows:"1",label:"",autosize:""},on:{input:function(i){return e.setAttach(t[e.valueField],i)},click:function(t){return e.appendInputClick(a,t)}},model:{value:e.attachOptions[t[e.valueField]],callback:function(i){e.$set(e.attachOptions,t[e.valueField],i)},expression:"attachOptions[item[valueField]]"}})]},proxy:!0}],null,!0)}):[e._v(" "+e._s(e.getLabelText(t,a))+" "),e.needTipsOptions[t[e.valueField]]?i("van-icon",{attrs:{name:"question"},on:{click:function(i){return e.showTips(t)}}}):e._e()]]},proxy:!0}],null,!0)})})),1)]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]],2)},n=[],s=dsf.component({name:"DsfMobileCheckBox",mixins:[$mixins.formControl,$mixins.itemsMixins],ctrlCaption:"复选框",props:{cancel:{type:Boolean,default:!1},inputAlign:{type:String,default:"right"},direction:{type:String,default:"horizontal"},iconSize:{type:String,default:"0.4rem"},shape:{type:String,default:"square"},labelPosition:{type:String,default:"right"},maxChooseNum:{type:Number,default:0},disabledItemValues:{type:Array,default:function(){return[]}},type:{type:Number,validator:function(e){return-1!==[0,1,2].indexOf(parseInt(e))},default:0},fromDirection:{type:String,default:"horizontal"},placeholder:{type:String,default:"请输入"}},data:function(){return{multiple:!0}},methods:{appendInputClick:function(e,t){var i,a=null===this||void 0===this||null===(i=this.$refs)||void 0===i||null===(i=i.checkboxes)||void 0===i?void 0:i[e].checked;"TEXTAREA"===t.target.nodeName&&a&&t.stopPropagation()},showTips:function(e){dsf.layer.alert(this.needTipsOptions[e[this.valueField]])}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1197:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-switch mobile",class:e.getCss,attrs:{"from-direction":e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[i("DsfTextProxy",e._b({attrs:{"show-label":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",{class:{active:e.switchValue,inset:e.showText&&e.insetText},attrs:{"label-width":e.getLabelWidth(!0),"input-align":e.inputAlign,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,disabled:e.disabled,required:e.required},scopedSlots:e._u([{key:"input",fn:function(){return[e.showText?e.insetText?[i("span",{staticClass:"tips-text active-text"},[e._v(e._s(e.activeText))]),i("van-switch",e._b({staticClass:"show-text",on:{change:e.selectChange},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}},"van-switch",e.bindAttr,!1)),i("span",{staticClass:"tips-text inactive-text"},[e._v(e._s(e.inactiveText))])]:[i("span",{staticClass:"tips-text inactive-text"},[e._v(e._s(e.inactiveText))]),i("van-switch",e._b({staticClass:"show-text",on:{change:e.selectChange},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}},"van-switch",e.bindAttr,!1)),i("span",{staticClass:"tips-text active-text"},[e._v(e._s(e.activeText))])]:[i("van-switch",e._b({on:{change:e.selectChange},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}},"van-switch",e.bindAttr,!1))]]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]],2)},n=[],s={value:0,text:"否"},l=dsf.component({name:"DsfMobileSwitch",mixins:[$mixins.formControl],ctrlCaption:"开关",props:{simple:{type:Boolean,default:!1},value:{type:[Object,String,Number,Boolean],default:function(){return s}},showText:{type:Boolean,default:!0},insetText:{type:Boolean,default:!1},activeText:{type:String,default:"是"},inactiveText:{type:String,default:"否"},activeColor:{type:String,default:null},inactiveColor:{type:String,default:null},formatter:{type:String,default:"textValue^text"},metadata:{type:Object,default:function(){return dsf.metadata.get("boolean-meta-data")}},fromDirection:{type:String,default:"horizontal"}},computed:{bindAttr:function(){var e={disabled:this.disabled,readonly:this.readOnly,size:this.pxToRem(22),activeValue:1,inactiveValue:0};return this.showText&&(e["activeText"]=this.activeText,e["inactiveText"]=this.inactiveText),this.activeColor&&(e["activeColor"]=this.activeColor),this.inactiveColor&&(e["inactiveColor"]=this.inactiveColor),e},switchValue:{get:function(){var e,t=null===(e=this.value)||void 0===e?void 0:e.value;return t&&"0"!=t?1:0},set:function(e){var t=this,i=this.getValue(e);this.emitValueChange(i),this.$nextTick((function(){t.emitFormValidate(i)}))}}},watch:{value:{handler:function(e){var t=s;dsf.isString(e)||dsf.isNumber(e)||dsf.isBoolean(e)?t=this.getValue(e&&"0"!=e):!dsf.isObject(e)||0!=e.value&&1!=e.value||(t=this.getValue(e.value)),(null===e||void 0===e?void 0:e.text)===t.text&&(null===e||void 0===e?void 0:e.value)===t.value||this.emitValueChange(t)},immediate:!0,deep:!0}},methods:{selectChange:function(){var e=this;this.$nextTick((function(){return e.$dispatch("change",e.value)}))},getValue:function(e){return e&&"0"!=e?{value:1,text:this.activeText}:{value:0,text:this.inactiveText}}}}),r=l,o=i(0),u=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=u.exports},1198:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-cascader mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{value:e._f("proxy")(e.value,e.formatter),"label-width":e.getLabelWidth(!0),label:e.showLabel&&e.label||"",disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",e._g(e._b({scopedSlots:e._u([{key:"input",fn:function(){return[e.valueProxy?e.multiple?i("div",{staticClass:"tag-box"},e._l(e.valueProxy,(function(t,a){return i("van-tag",{key:a,attrs:{size:"large"}},[e._v(" "+e._s(e._f("proxy")(t,e.formatter))+" ")])})),1):i("div",[e._v(e._s(e._f("proxy")(e.valueProxy,e.formatter)))]):i("input",{staticClass:"van-field__control van-field__control--right placeholder",attrs:{placeholder:e.placeholder,type:"text",readonly:"readonly"}})]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events)),i("van-popup",{style:{height:"60%"},attrs:{"get-container":"#app",position:"bottom",round:""},on:{"click-overlay":e.onCancel},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("dsf-mobile-cascader-picker",{ref:"picker",attrs:{title:e.label,props:e.bindProps,options:e.realItems},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1)]],2)},n=[],s=i(3),l=i.n(s),r=dsf.component({name:"DsfMobileCascader",mixins:[$mixins.formControl],ctrlCaption:"下拉框级联",props:{separator:{type:String,default:"/"},simple:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},value:{type:[Object,Array],required:!1},items:{type:Array,default:function(){return[]}},filterable:{type:Boolean,default:!1},filterMethod:{type:Function,required:!1},clearable:{type:Boolean,default:!0},showAllLevels:{type:Boolean,default:!0},collapseTags:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},inputAlign:{type:String,default:"right"},hasIcon:{type:Boolean,default:!0},checkStrictly:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},lazyLoad:{type:Function,required:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},formatter:{type:String,default:"textValue^text"},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},aliasField:{type:String,default:"alias"},childrenField:{type:String,default:"children"},optionsTextField:{type:String,default:"text"},selectedTextField:{type:String,default:"text"},postHasAlias:{type:Boolean,default:!1},needHideOptions:{type:String,default:""}},data:function(){return{showPicker:!1}},computed:{realItems:function(){var e=this.isDesign,t=this.items,i=this.needHideOptions,a=this.textField,n=this.valueField,s=this.childrenField;return e?[]:(i=_.trim(i),i=i?i.split(","):[],dsf.cloneDeepWith(t,(function(e){if(-1===i.indexOf(e[n]))return l()(l()({},a,e[a]),n,e[n])}),{children:s}))},attr:function(){var e={labelWidth:this.getLabelWidth(!0),placeholder:this.placeholder,disabled:this.disabled,readonly:!0,autosize:!0};return this.readOnly?e.inputAlign="left":(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign,this.hasIcon&&(e.rightIcon="arrow")),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},bindProps:function(){return{multiple:this.multiple,checkStrictly:this.checkStrictly,lazy:this.lazy,lazyLoad:this.lazyLoad,value:this.valueField,label:this.optionsTextField,children:this.childrenField}},valueProxy:function(){var e=this.value;if("array"==dsf.type(e)){if(0==e.length)return null;if(!this.multiple)return e[0];if(!this.collapseTags||e.length<2)return e;var t="+"+(e.length-1);return[e[0],{value:t,text:t}]}return e&&e.value?this.multiple?[e]:e:null}},watch:{"metadata.dataSource":{handler:function(e){var t=[];if(e){var i=e.attachHideMaps,a=void 0===i?[]:i;t=a.join(",")}this.$emit("update:needHideOptions",t)},deep:!0},needHideOptions:{handler:function(e){e=e.trim(),this.metadata.dataSource.attachHideMaps=e?e.split(","):[]},immediate:!0}},methods:{fieldClick:function(){var e=this;if(!this.readOnly)if(this.$listeners["field-click"])this.$dispatch("field-click");else{var t=!!this.$refs.picker;this.showPicker=!0,t||this.$nextTick((function(){if(e.$refs.picker){var t=e.value;e.multiple&&null!==t&&void 0!==t&&t.length?e.$refs.picker.setValues(_.map(t,"value")):null!==t&&void 0!==t&&t.value&&e.$refs.picker.setValues(t.value)}}))}},onConfirm:function(e,t){var i=this;this.showPicker=!1;var a={text:"",value:""};if(this.postHasAlias&&(a.alias=""),this.multiple){var n=_.map(t,(function(e){return i.getValueItem(e)}));n.length&&(a=n)}else t&&(a=this.getValueItem(t));this.emitValueChange(a),this.selectChange()},onCancel:function(){if(this.showPicker=!1,this.multiple){var e=this.value||[];this.$refs.picker.setValues(_.map(e,"value"))}else{var t=this.value||{};this.$refs.picker.setValues(t.value)}},selectChange:function(){var e=this;this.$nextTick((function(){e.$dispatch("change",e.value),e.emitFormValidate(e.value)}))},getValueItem:function(e){var t=e.data,i=t[this.textField],a=t[this.aliasField],n=t[this.valueField];if(this.showAllLevels){var s=[],l=[],r=e;while(r)s.unshift(r.data[this.textField]),l.unshift(r.data[this.aliasField]),r=r.parent;i=s.join(this.separator),a=l.join(this.separator)}var o={text:i,value:n};return this.postHasAlias&&(o.alias=a),o}}}),o=r,u=i(0),c=Object(u["a"])(o,a,n,!1,null,null,null);t["default"]=c.exports},1199:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-area-select ds-select mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{key:"0",attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[i("div",[e._v(e._s(e._f("proxy")(e.value,e.formatter)))])]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",e._g(e._b({key:"1",scopedSlots:e._u([{key:"input",fn:function(){return[e.valueProxy?e.multiple?i("div",{staticClass:"tag-box"},e._l(e.valueProxy,(function(t,a){return i("van-tag",{key:a,attrs:{size:"large"}},[e._v(" "+e._s(e._f("proxy")(t,e.formatter))+" ")])})),1):i("div",[e._v(e._s(e._f("proxy")(e.valueProxy,e.formatter)))]):i("input",{staticClass:"van-field__control van-field__control--right placeholder",attrs:{placeholder:e.placeholder,type:"text",readonly:"readonly"}})]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events)),i("van-popup",{style:{height:"60%"},attrs:{"lazy-render":!1,"get-container":"#app",position:"bottom",round:""},on:{"click-overlay":e.onCancel},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("dsf-mobile-cascader-picker",{ref:"picker",attrs:{title:e.label,show:e.showPicker,props:e.bindProps,options:e.items},on:{cancel:e.onCancel,confirm:e.onConfirm}})],1)]],2)},n=[],s=i(402),l=i.n(s),r=i(13),o=dsf.component({name:"DsfMobileAreaSelect",mixins:[$mixins.formControl],ctrlCaption:"行政区划",props:{value:{type:[Object,Array],default:null},placeholder:{type:String,default:"请选择"},formatter:{type:String,default:"textValue^text"},superCode:{type:[String,Number],default:"000000000000"},accuracy:{type:Number,default:4},range:{type:Array,default:null},metadata:{type:Object,default:function(){return dsf.metadata.get("items-meta-data")}},inputAlign:{type:String,default:"right"},hasIcon:{type:Boolean,default:!0},showAllLevels:{type:Boolean,default:!0},checkStrictly:{type:Boolean,default:!1},postHasAlias:{type:Boolean,default:!1},optionsTextField:{type:String,default:"name"},selectedTextField:{type:String,default:"name"},multiple:{type:Boolean,default:!1},separator:{type:String,default:"-"},collapseTags:{type:Boolean,default:!1},codeRule:{type:Object,default:function(){return{rootCode:"000000000000",isFull:!1,inferCode:null}}}},data:function(){return{isInit:!1,showPicker:!1,items:[]}},computed:{realSuperCode:function(){var e=this.superCode;return dsf.isString(e)?e=this.$replace(e,this.$vm):e+="",e=e.trim(),/^([\d\w]+\.)*[\d\w]+$/.test(e)&&e!=this.codeRule.rootCode?(e=e.split("."),1==e.length&&(e=Object(r["b"])(e[0],this.codeRule)),e.join(".")):this.codeRule.rootCode},realAccuracy:function(){if(4!=this.accuracy)return this.accuracy;var e=this.range;return e?+e[1]:this.accuracy},ids:function(){var e;if(null===(e=this.value)||void 0===e||!e.value)return[];var t=Object(r["b"])(this.value.value,this.codeRule),i=l()(t),a=(i[0],i.slice(1));return a},rangeStart:function(){var e=this.realSuperCode.split(".");return e.length-1},rangeEnd:function(){return this.realAccuracy},attr:function(){var e={labelWidth:this.getLabelWidth(!0),placeholder:this.placeholder,disabled:this.disabled,readonly:!0};return this.readOnly?e.inputAlign="left":(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign,this.hasIcon&&(e.rightIcon="arrow")),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},bindProps:function(){return{multiple:this.multiple,checkStrictly:this.checkStrictly,lazy:this.isInit,lazyLoad:this.getData,value:"dsfa_area_id",label:this.selectedTextField,children:"children"}},valueProxy:function(){var e=this.value;if("array"==dsf.type(e)){if(0==e.length)return null;if(!this.multiple)return e[0];if(!this.collapseTags||e.length<2)return e;var t="+"+(e.length-1);return[e[0],{value:t,text:t}]}return e&&e.value?this.multiple?[e]:e:null}},watch:{readOnly:function(e,t){var i;t&&!e?this.init():null===(i=this._watch)||void 0===i||i.call(this)},rangeStart:{handler:function(e){e>this.rangeEnd&&this.$emit("update:accuracy",e)},immediate:!0},rangeEnd:{handler:function(e){e<this.rangeStart&&this.$emit("update:accuracy",this.rangeStart)},immediate:!0}},created:function(){this.range&&this.$emit("update:accuracy",+this.range[1]),this.init()},beforeDestroy:function(){var e;null===(e=this._watch)||void 0===e||e.call(this)},methods:{init:function(){var e,t=this;this.isDesign||this.readOnly||(null===(e=this._watch)||void 0===e||e.call(this),this.getData({root:!0},(function(e){t.items=e,t._watch=t.$watch((function(){return t.ids.join(",")}),(function(e,i){var a;if(e!==i&&(e=e.split(","),(null===(a=e)||void 0===a?void 0:a.length)>1)){var n=0,s=function i(){var a,s=null===(a=e)||void 0===a?void 0:a[n++];if(s){var l=t.$refs.picker,r=null===l||void 0===l?void 0:l.getNodeByKey(s);r&&(n<e.length?l.lazyLoad(r,(function(){t.$nextTick(i)})):t.restore())}};t.$nextTick(s)}}),{deep:!0,immediate:!0})})))},fieldClick:function(){this.readOnly||(this.$listeners["field-click"]?this.$dispatch("field-click"):this.showPicker=!0)},onConfirm:function(e,t){var i=this;this.showPicker=!1;var a={text:"",value:""};if(this.postHasAlias&&(a.alias=""),this.multiple){var n=_.map(t,(function(e){return i.getValueItem(e)}));n.length&&(a=n)}else t&&(a=this.getValueItem(t));this.emitValueChange(a),this.selectChange()},onCancel:function(){this.showPicker=!1,this.restore()},restore:function(){var e=this.value;this.multiple?e&&this.$refs.picker.setValues(_.map(e,"value")):e&&e.value&&this.$refs.picker.setValues(e.value)},selectChange:function(){var e=this;this.$nextTick((function(){e.$dispatch("change",e.value),e.emitFormValidate(e.value)}))},getValueItem:function(e){var t=e.data,i=t.name,a=t.alias,n=t.dsfa_area_id;if(this.showAllLevels){var s=[],l=[],r=e;while(r)s.unshift(r.data.name),l.unshift(r.data.alias),r=r.parent;i=s.join(this.separator),a=l.join(this.separator)}var o={text:i,value:n};return this.postHasAlias&&(o.alias=a),o},getData:function(e,t){var i=this;if(this.isDesign)return t([]),void(this.isInit=!0);var a,n,s=e.root,l=e.data;if(s)a=this.realSuperCode,n=this.rangeStart+1;else{var o=l.treeinfo_globalid,u=l.treeinfo_level;a=o,n=u}if(n>this.rangeEnd+1)return t([]),void(this.isInit=!0);r["a"].call(this,{ids:a,endRange:n+1,startRange:n+1},(function(e){n===i.rangeEnd+1&&e.forEach((function(e){return e.leaf=!0})),t(e),i.isInit=!0}))}}}),u=o,c=i(0),d=Object(c["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports},1200:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-mobile-signature mobile",class:e.getCss},[i("van-field",{attrs:{required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[!e.$value||e.isDesign?i("div",{staticClass:"signature",on:{click:e.openDrawing}},[i("div",{staticClass:"signature-canvas"}),i("span",{staticClass:"signature-tip"},[i("i",{staticClass:"iconfont icon-bianjisekuai"}),e._v(" 请在此处签名 ")])]):i("div",{staticClass:"signature"},[i("div",{staticClass:"signature-canvas signature-real"},[i("img",{attrs:{src:e.$value}})]),e.readOnly||e.disabled||!e.$value?e._e():i("span",{staticClass:"signature-reset",on:{click:e.reset}},[e._v(" 重签 ")])])]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)}),i("van-popup",{style:e.popStyle,attrs:{position:"bottom","get-container":"body"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e.isfullView?e._e():i("div",{staticClass:"signature-popup-header"},[i("div",{staticClass:"title"},[e._v("电子签名")]),i("i",{staticClass:"iconfont icon-guanbi2",on:{click:function(t){e.show=!1}}})]),i("div",{staticClass:"signature-container",class:{"signature-container-full":e.isfullView}},[i("div",{staticClass:"canvas"},[i("canvas",{ref:"canvas",on:{touchstart:e.focus}}),e.isFocus||e.$value?e._e():i("span",{staticClass:"signature-tip"},[e._v(" 请在此处签名 ")]),e.isfullView?i("div",{staticClass:"signature-full-back",on:{click:function(t){e.show=!1}}},[i("i",{staticClass:"iconfont icon-zuo"}),e._v(" 返回 ")]):e._e(),e.isfullView&&e.isFocus?i("div",{staticClass:"clear",on:{click:e.clear}},[e._v(" 清空 ")]):e._e(),e.isfullView?i("DsfMobileButton",{staticClass:"complete-btn",attrs:{disabled:!e.isFocus},on:{click:function(t){return e.getImg(!0)}}},[e._v(" 完成 ")]):e._e()],1)]),e.isfullView?e._e():i("div",{staticClass:"signature-footer"},[i("div",{staticClass:"left-btns"},[i("div",{staticClass:"clear",on:{click:e.clear}},[e._v("清空")]),i("div",{staticClass:"clear",on:{click:e.fullView}},[e._v("全屏")])]),i("DsfMobileButton",{staticClass:"complete-btn",attrs:{disabled:!e.isFocus},on:{click:e.getImg}},[e._v(" 完成 ")])],1)])],1)},n=[],s=i(3),l=i.n(s);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){l()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,a=window.atob(e),n=[],s=0;s<a.length;s+=i){for(var l=a.slice(s,s+i),r=new Array(l.length),o=0;o<l.length;o++)r[o]=l.charCodeAt(o);var u=new Uint8Array(r);n.push(u)}var c=new Blob(n,{type:t});return c},c=dsf.component({name:"DsfMobileSignature",mixins:[$mixins.formControl],ctrlCaption:"电子签名",props:{metadata:{type:Object,default:function(){return dsf.metadata.get("signature-meta-data")}},label:{type:String,default:"电子签名"},inputAlign:{type:String,default:"right"},isStatic:{type:Boolean,default:!1},isPublic:{type:Boolean,default:!0}},data:function(){return{isfullView:!1,show:!1,upFileUrl:"/file/upload/",signature:null,isFocus:!1}},computed:{popStyle:function(){return this.isfullView?{height:"100%"}:{}},$value:function(){var e,t=this.value?JSON.parse(this.value):[];return dsf.url.getWebPath(null===t||void 0===t||null===(e=t[0])||void 0===e?void 0:e.relativePath)},extendData:function(){var e=this.isStatic,t=this.isPublic,i={isStatic:Number(e),isPublic:Number(t)};return e&&this.$vm&&(i["namespace"]=this.$vm.nameSpace,i["pageName"]=this.$vm.pageName),i}},methods:{fullView:function(){var e=this,t=this.signature.getRotateCanvas(90).toDataURL("image/png",1);this.isfullView=!0,this.$nextTick((function(){e.initCanvas(),e.signature.drawByImageUrl(t)}))},openDrawing:function(){var e=this;this.readOnly||this.disabled||(this.show=!0,this.isFocus=!1,this.isfullView=!1,this.$nextTick((function(){e.loadScript((function(){e.initCanvas()}))})))},initCanvas:function(){var e=this.$refs.canvas;e&&(this.signature=new SmoothSignature(e))},reset:function(){this.clear(),this.emitValueChange(""),this.openDrawing()},focus:function(){this.isFocus=!0},clear:function(){this.signature&&this.signature.clear()},getImg:function(e){var t=this;if(this.signature){if(this.signature.isEmpty())return dsf.layer.message("请写入内容",!1),!1;var i=this.signature.getPNG();if(!0===e){var a=this.signature.getRotateCanvas(-90);i=a.toDataURL("image/png",1)}this.$listeners["getImage"]?this.$dispatch("getImage",i):this.upload(i).then((function(){t.show=!1}))}},upload:function(e){var t=this;return new Promise((function(i,a){var n,s,l=u(e.split(",")[1],"image/png");l.name=dsf.uuid(32)+".png",t.$http.upload(t.upFileUrl,o(o({},t.extendData),{},{pageName:(null===(n=t.$vm)||void 0===n?void 0:n.pageName)||"",namespace:(null===(s=t.$vm)||void 0===s?void 0:s.namespace)||"",file:l})).done((function(e){var n=e.success,s=e.data,l=e.message;if(!n)return dsf.layer.message(l||"上传签名失败",!1),void a(l);t.emitValueChange(JSON.stringify(s)),t.$nextTick((function(){i()}))})).error((function(e){dsf.layer.message("上传签名失败发生未知异常",!1),a(e)}))}))},loadScript:function(e){window.SmoothSignature?null===e||void 0===e||e():this.$http.importFiles([dsf.url.getWebPath("$/js/libs/smooth-signature/smooth-signature.min.js")]).then((function(){null===e||void 0===e||e()})).catch((function(e){console.error(e),dsf.layer.message("加载signature文件报错",!1)}))}}}),d=c,p=(i(807),i(0)),f=Object(p["a"])(d,a,n,!1,null,null,null);t["default"]=f.exports},1213:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" "),i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":"right"},model:{value:e.getValueString,callback:function(t){e.getValueString=t},expression:"getValueString"}})]],2)},n=[],s=dsf.component({name:"DsfMobileUpdateTime",mixins:[$mixins.formControl],ctrlCaption:"修改时间",props:{caption:{type:String,default:dsf.config.kw.updatetime},label:{type:String,default:"修改时间"},formatter:{type:String,default:"dateTime^yyyy-mm-dd hh:ii"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updatetime,valueAttributes:[{name:"修改时间",code:dsf.config.kw.updatetime,type:dsf.metadata.getDataType("date"),length:"",defaultValue:null,unit:null}]})}}},computed:{getValueString:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1214:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[e._v(" "+e._s(e._f("proxy")(e.getValueString,e.formatter))+" "),i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{value:e._f("proxy")(e.getValueString,e.formatter),readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":e.$inputAlign}})]],2)},n=[],s=dsf.component({name:"DsfMobileCreateTime",mixins:[$mixins.formControl],ctrlCaption:"创建时间",props:{caption:{type:String,default:dsf.config.kw.createtime},label:{type:String,default:"创建时间"},simple:{type:Boolean,default:!1},formatter:{type:String,default:"dateTime^yyyy-mm-dd hh:ii"},showLabel:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createtime,valueAttributes:[{name:"创建时间",code:dsf.config.kw.createtime,type:dsf.metadata.getDataType("date"),length:"",defaultValue:null,unit:null}]})}},fromDirection:{type:String,default:"horizontal"}},computed:{$inputAlign:function(){return"vertical"===this.fromDirection?"left":"right"},getValueString:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1215:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":"right"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},n=[],s=dsf.component({name:"DsfMobileUpdateUserName",mixins:[$mixins.formControl],ctrlCaption:"修改人",props:{caption:{type:String,default:dsf.config.kw.updateusername},label:{type:String,default:"修改人"},showLabel:{type:Boolean,default:!0},simple:{type:Boolean,default:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updateusername,valueAttributes:[{name:"修改人姓名",code:dsf.config.kw.updateusername,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1216:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":e.$inputAlign},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},n=[],s=dsf.component({name:"DsfMobileCreateUserName",mixins:[$mixins.formControl],ctrlCaption:"创建人",props:{caption:{type:String,default:dsf.config.kw.createusername},label:{type:String,default:"创建人"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createusername,valueAttributes:[{name:"创建人姓名",code:dsf.config.kw.createusername,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}},fromDirection:{type:String,default:"horizontal"}},computed:{$inputAlign:function(){return"vertical"===this.fromDirection?"left":"right"},inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1217:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":"right"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},n=[],s=dsf.component({name:"DsfMobileCreateUserId",mixins:[$mixins.formControl],ctrlCaption:"创建人ID",props:{caption:{type:String,default:dsf.config.kw.createuserid},label:{type:String,default:"创建人ID"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.createuserid,valueAttributes:[{name:"创建人ID",code:dsf.config.kw.createuserid,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1218:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":"right"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})]],2)},n=[],s=dsf.component({name:"DsfMobileUpdateUserId",mixins:[$mixins.formControl],ctrlCaption:"修改人ID",props:{caption:{type:String,default:dsf.config.kw.updateuserid},label:{type:String,default:"修改人ID"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.updateuserid,valueAttributes:[{name:"修改人ID",code:dsf.config.kw.updateuserid,type:dsf.metadata.getDataType("string"),length:"50",defaultValue:null,unit:null}]})}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1219:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},"DsfTextProxy",e._self.$props,!1))]:[e.readOnly?e._e():i("van-field",{class:{"ds-error-border":e.errors.length>0},attrs:{placeholder:e.placeholder,type:"text","input-align":"right","label-width":e.getLabelWidth(!0),disabled:e.disabled,required:e.required,label:e.showLabel&&e.label?e.label:""},on:{blur:e.inputBlurHandler,input:e.inputChangeHandler},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e.readOnly?i("van-field",{attrs:{label:e.showLabel&&e.label?e.label:"",disabled:e.disabled,"input-align":"right"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):e._e()]],2)},n=[],s=dsf.component({name:"DsfMobileOrder",mixins:[$mixins.formControl],ctrlCaption:"排序码",props:{caption:{type:String,default:dsf.config.kw.order},simple:{type:Boolean,default:!1},label:{type:String,default:"排序码"},placeholder:{type:String,default:"请输入排序编号"},showLabel:{type:Boolean,default:!0},required:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.order,valueAttributes:[{name:"排序码",code:dsf.config.kw.order,type:dsf.metadata.getDataType("number"),length:10,defaultValue:0,unit:null}]})}}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}}},methods:{inputChangeHandler:function(){var e=this;this.$dispatch("change"),this.$nextTick((function(){e.emitFormValidate(e.value)}))},inputBlurHandler:function(){this.$dispatch("blur")}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1220:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-system mobile",class:e.getCss},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.setVal,callback:function(t){e.setVal=t},expression:"setVal"}},"DsfTextProxy",e._self.$props,!1))]:[i("van-field",{attrs:{readonly:"",label:e.showLabel&&e.label?e.label:"","label-width":e.getLabelWidth(!0),required:e.required,"input-align":"right"},model:{value:e.setVal,callback:function(t){e.setVal=t},expression:"setVal"}})]],2)},n=[],s=dsf.component({name:"DsfMobileDeletedStatus",mixins:[$mixins.formControl],ctrlCaption:"删除状态",props:{caption:{type:String,default:dsf.config.kw.deleted},label:{type:String,default:"删除状态"},simple:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("system-meta-data",{code:dsf.config.kw.deleted,valueAttributes:[{name:"是否删除",code:dsf.config.kw.deleted,type:dsf.metadata.getDataType("string"),length:"2",defaultValue:null,unit:null}]})}}},computed:{setVal:function(){return Number(this.value)?"是":"否"}}}),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},1224:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-date-picker mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{value:e._f("proxy")(e.value,"dateTime^"+e.$timeFormat),"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2"})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",e._g(e._b({attrs:{value:e._f("proxy")(e.value,"dateTime^"+e.$timeFormat)},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2"})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events)),e.isDesign?e._e():i("van-popup",{attrs:{"get-container":"#app",position:"bottom",round:""},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},["calendar"==e.selectModel?i("dsf-mobile-calendar",{attrs:{show:e.showPicker,"default-value":e.currentDate,type:e.chooseType,"min-date":e.minDate,"max-date":e.maxDate,clearable:e.clearable,"default-view":e.pickerStepTypeStr,"default-view-date":e.pickerInitDate&&new Date(e.pickerInitDate)||void 0},on:{cancel:function(t){e.showPicker=!1},confirm:e.onConfirm}}):e._e(),"picker"==e.selectModel?i("dsf-mobile-data-time-picker",{attrs:{title:"选择时间","default-value":e.currentDate,type:e.chooseType,"min-date":e.minDate,"max-date":e.maxDate,"default-view-date":e.pickerInitDate&&new Date(e.pickerInitDate)||void 0},on:{cancel:function(t){e.showPicker=!1},confirm:e.onConfirm}}):e._e()],1)]],2)},n=[],s=i(588),l=dsf.component({name:"DsfMobileDatePicker",mixins:[$mixins.formControl,s["a"]],ctrlCaption:"日期选择",props:{value:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:"请选择"},clearable:{type:Boolean,default:!1},pickerInitDate:{type:Number,default:null},chooseType:{type:String,default:"date"},pickerStepType:{type:[Number,String],default:0},timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},timeFormat:{type:String,default:"yyyy-MM-dd"},formatter:{type:String,default:"dateTime^yyyy-mm-dd"},inputAlign:{type:String,default:"right"},hasIcon:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("date-picker-meta-data")}},fromDirection:{type:String,default:"horizontal"},selectModel:{type:String,default:"picker"}},data:function(){return{currentDate:null,showPicker:!1}},computed:{$hasIcon:function(){return!this.readOnly&&this.hasIcon},pickerStepTypeStr:function(){var e=this.pickerStepType;if("string"==dsf.type(e))return e;var t={0:"day",1:"month"};return t[e]},attr:function(){var e={labelWidth:this.getLabelWidth(!0),placeholder:this.placeholder,disabled:this.disabled,readonly:!0};return this.readOnly?e.inputAlign="left":(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign,this.$hasIcon&&(e.rightIcon="notes-o")),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},$timeFormat:function(){var e=this.timeFormat.replace(/M/g,"m");return"datetime"===this.chooseType?e+" hh:ii":"datetime_s"===this.chooseType?e+" hh:ii:ss":e},valueFormat:function(){return"datetime_s"===this.chooseType||"datetime"===this.chooseType?"yyyy-mm-dd hh:ii:ss":"yyyy-mm-dd"}},watch:{value:function(e){this.initValue(e)}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){this.simple||this.readOnly||this.isDesign||dsf.isUnDef(e)||_.isEqual(e,this.valueCopy)||e&&"string"==dsf.type(e)&&(this.currentDate=dsf.date.parse(e,this.valueFormat))},fieldClick:function(){this.showPicker=!0},onConfirm:function(e){var t,i=this;(this.showPicker=!1,"array"===dsf.type(e))&&(e=null===(t=e)||void 0===t?void 0:t[0]);var a=e?dsf.date.format(e,this.valueFormat):null;this.emitValueChange(a),this.$dispatch("change",a),this.$nextTick((function(){i.emitFormValidate(a)}))}}}),r=l,o=i(0),u=Object(o["a"])(r,a,n,!1,null,null,null);t["default"]=u.exports},1225:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item mobile",attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("div",{staticClass:"ds-form-item ds-date-picker mobile",class:e.getCss},[i("DsfTextProxy",e._b({model:{value:e.value.sdate,callback:function(t){e.$set(e.value,"sdate",t)},expression:"value.sdate"}},"DsfTextProxy",e._self.$props,!1))],1),i("div",{staticClass:"ds-form-item ds-date-picker",class:e.getCss},[i("DsfTextProxy",e._b({model:{value:e.value.edate,callback:function(t){e.$set(e.value,"edate",t)},expression:"value.edate"}},"DsfTextProxy",e._self.$props,!1))],1)]:[i("div",{staticClass:"ds-form-item ds-date-picker mobile",class:e.getCss},[i("van-field",e._g(e._b({attrs:{value:e._f("proxy")(e.value.sdate,"dateTime^"+e.$timeFormat)},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2"})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.labelS))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events))],1),i("div",{staticClass:"ds-form-item ds-date-picker",class:e.getCss},[i("van-field",e._g(e._b({attrs:{value:e._f("proxy")(e.value.edate,"dateTime^"+e.$timeFormat)},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2"})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.labelE))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events))],1),e.isDesign||e.readOnly||e.disabled?e._e():i("van-popup",{attrs:{"get-container":"#app",position:"bottom",round:""},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("dsf-mobile-calendar",{attrs:{show:e.showPicker,"default-value":e.currentDate,type:e.chooseType,"min-date":e.minDate,"max-date":e.maxDate,clearable:e.clearable,"default-view":e.pickerStepTypeStr,"default-view-date":e.pickerInitDate&&new Date(e.pickerInitDate)||void 0,defaultTime:e.defaultTime,range:""},on:{cancel:function(t){e.showPicker=!1},confirm:e.onConfirm}})],1)]],2)},n=[],s=i(8),l=i.n(s),r=i(588),o=dsf.component({name:"DsfMobileDateIntervalPicker",mixins:[$mixins.formControl,r["a"]],ctrlCaption:"日期区间",props:{value:{type:Object,default:function(){return{sdate:"",edate:""}}},labelS:{type:String,default:"开始日期"},labelE:{type:String,default:"结束日期"},placeholder:{type:String,default:"请选择"},clearable:{type:Boolean,default:!1},pickerInitDate:{type:Number,default:null},chooseType:{type:String,default:"date"},pickerStepType:{type:[Number,String],default:0},timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},timeFormat:{type:String,default:"yyyy-MM-dd"},formatter:{type:String,default:"dateTime^yyyy-mm-dd"},inputAlign:{type:String,default:"right"},hasIcon:{type:Boolean,default:!0},metadata:{type:Object,default:function(){return dsf.metadata.get("date-interval-meta-data")}},defaultTime:{type:[String,Array],default:function(){return["00:00:00","23:59:59"]}},fromDirection:{type:String,default:"horizontal"}},data:function(){return{currentDate:null,showPicker:!1}},computed:{$hasIcon:function(){return!this.readOnly&&this.hasIcon},pickerStepTypeStr:function(){var e=this.pickerStepType;if("string"==dsf.type(e))return e;var t={0:"day",1:"month"};return t[e]},attr:function(){var e={labelWidth:this.getLabelWidth(!0),placeholder:this.placeholder,disabled:this.disabled,readonly:!0};return this.readOnly?e.inputAlign=this.inputAlign:(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign,this.hasIcon&&(e.rightIcon="notes-o")),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},$timeFormat:function(){var e=this.timeFormat.replace(/M/g,"m");return"datetime"===this.chooseType?e+" hh:ii":"datetime_s"===this.chooseType?e+" hh:ii:ss":e},valueFormat:function(){return"datetime_s"===this.chooseType||"datetime"===this.chooseType?"yyyy-mm-dd hh:ii:ss":"yyyy-mm-dd"}},watch:{value:function(e){this.initValue(e)}},created:function(){this.initValue(this.value)},methods:{initValue:function(e){this.simple||this.readOnly||this.isDesign||dsf.isUnDef(e)||_.isEqual(e,this.valueCopy)||(e&&e.sdate&&e.edate&&""!==e.sdate&&""!==e.edate?this.currentDate=[dsf.date.parse(e.sdate,this.valueFormat),dsf.date.parse(e.edate,this.valueFormat)]:this.currentDate=[])},fieldClick:function(){this.showPicker=!0},onConfirm:function(e){var t=this,i=e||["",""],a=l()(i,2),n=a[0],s=a[1];this.showPicker=!1;var r={sdate:dsf.date.format(n,this.valueFormat),edate:dsf.date.format(s,this.valueFormat)};this.emitValueChange(r),this.$dispatch("change",r),this.$nextTick((function(){t.emitFormValidate(r)}))}}}),u=o,c=i(0),d=Object(c["a"])(u,a,n,!1,null,null,null);t["default"]=d.exports},1226:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control ds-form-item ds-time-picker mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[i("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]:e.readOnly&&!e.isDesign?[i("van-field",{attrs:{value:e._f("proxy")(e.value,"dateTime^"+e.$timeFormat),"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,required:e.required,"input-align":e.inputAlign},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2"})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)})]:[i("van-field",e._g(e._b({attrs:{value:e._f("proxy")(e.value,"dateTime^"+e.$timeFormat)},scopedSlots:e._u([e.$hasIcon?{key:"right-icon",fn:function(){return[i("i",{staticClass:"iconfont icon-gengduo2",staticStyle:{"font-size":"1.1em","font-weight":"bold"}})]},proxy:!0}:null,e.showLabel?{key:"label",fn:function(){return[i("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)},"van-field",e.attr,!1),e.events)),e.isDesign?e._e():i("dsf-mobile-calendar-time-box",{ref:"calendarTime",attrs:{type:e.type,"min-time":e.minTime,"max-time":e.maxTime,step:e.hourStep}})]],2)},n=[],s=i(4),l=i.n(s),r=i(1),o=i.n(r),u="2000/01/01",c=dsf.component({name:"DsfMobileTimePicker",mixins:[$mixins.formControl],ctrlCaption:"时间选择",props:{value:{type:String,default:""},label:{type:String,default:"时间选择"},placeholder:{type:String,default:"请选择"},inputAlign:{type:String,default:"right"},timeFormat:{type:String,default:"HH:mm:ss"},clearable:{type:Boolean,default:!0},timeInter:{type:Array,default:function(){return["00:00:00","23:59:59"]}},hourStep:{type:Number,default:1},metadata:{type:Object,default:function(){return dsf.metadata.get("time-picker-meta-data")}},hasIcon:{type:Boolean,default:!0},fromDirection:{type:String,default:"horizontal"}},data:function(){return{}},computed:{$hasIcon:function(){return!this.readOnly&&this.hasIcon},type:function(){return"HH:mm:ss"==this.timeFormat?"datetime_s":"datetime"},attr:function(){var e={labelWidth:this.getLabelWidth(!0),placeholder:this.placeholder,disabled:this.disabled,readonly:!0};return this.readOnly?e.inputAlign=this.inputAlign:(e.inputAlign=this.inputAlign,e.required=this.required,e.errorMessage=this.errorsMsg,e.errorMessageAlign=this.inputAlign),e},events:function(){var e={};return this.readOnly||this.disabled||(e.click=this.fieldClick),e},minTime:function(){return new Date(u+" "+this.timeInter[0]).getTime()},maxTime:function(){return new Date(u+" "+this.timeInter[1]).getTime()},$timeFormat:function(){return"datetime_s"===this.type?"hh:ii:ss":"hh:ii"}},methods:{fieldClick:function(){var e=this;return l()(o.a.mark((function t(){var i,a,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=""!=e.value?new Date(u+" "+e.value):new Date(u+" "+dsf.date.format(new Date,"hh:ii:ss")),t.next=3,null===(i=e.$refs.calendarTime)||void 0===i?void 0:i.open(a);case 3:n=t.sent,e.emitValueChange(n),e.$dispatch("change",n),e.$nextTick((function(){e.emitFormValidate(n)}));case 7:case"end":return t.stop()}}),t)})))()}}}),d=c,p=i(0),f=Object(p["a"])(d,a,n,!1,null,null,null);t["default"]=f.exports},1284:function(e,t,i){"use strict";i.r(t);var a,n,s=dsf.component((function(){var e=dsf.getComponentOptions($components.platform.DsfMobileDataChoice);return{name:"DsfMobileOuaSelect",mixins:[e],ctrlCaption:"部门人员选择器",props:{label:{type:String,default:"部门人员选择"},dialogUrl:{type:String,default:"dsfa/oua/mobile-select"},dialogTitle:{type:String,default:"部门人员选择"},dataConfig:{type:Array,default:function(){return[]}},sort:{type:Boolean,default:!1}},methods:{popupParams:function(){return{value:this.value,maxTags:this.maxTags,slots:this.dataConfig}}}}})),l=s,r=i(0),o=Object(r["a"])(l,a,n,!1,null,null,null);t["default"]=o.exports},13:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return o}));var a={0:{name:"province",zhName:"省/直辖市"},1:{name:"city",zhName:"市"},2:{name:"dist",zhName:"县/区"},3:{name:"street",zhName:"街道"},4:{name:"town",zhName:"村居"}},n=[[0,2,"0000000000"],[0,4,"00000000"],[0,6,"000000"],[0,9,"000"],[0,12,""]],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.rootCode,a=void 0===i?"000000000000":i,s=t.isFull,l=void 0!==s&&s,r=t.inferCode;if(dsf.isFunction(r))return r(e,{rootCode:a,isFull:l});if(e==a)return[e];var o=e;l&&(e=_.padEnd(e,12,"0"));var u=[a];if(/^(71|81|82)/.test(e))"71"==e.substring(0,2)?u.push(l?"71":"7100000000000"):"81"==e.substring(0,2)?u.push(l?"81":"8100000000000"):"82"==e.substring(0,2)&&u.push(l?"82":"8200000000000"),"00000000000"!=e.substring(2)&&u.push(o);else for(var c=0;c<n.length;c++){var d=e.substring(n[c][0],n[c][1]);if(l||(d+=n[c][2]),d==u[c])break;u.push(d)}return u},l={},r={};function o(e,t){var i=this,a=e.ids,n=e.endRange,s=e.startRange;if(dsf.isFunction(t)){var o=function(e){return t(_.cloneDeep(e))};if(l["".concat(a,",").concat(n,",").concat(s)])return o(l["".concat(a,",").concat(n,",").concat(s)]);var u=r["".concat(a,",").concat(n,",").concat(s)];u||(u=[],r["".concat(a,",").concat(n,",").concat(s)]=u),u.push(o),1===u.length&&(this.loading=!0,this.$http.get("area/getArea",{TREEINFO_GLOBALID:a,END_LEVEL:n,START_LEVEL:s},{cache:!0,headers:{"Cache-Control":"public"}}).done((function(e){var t=e.success,i=e.data,o=e.message;t?(l["".concat(a,",").concat(n,",").concat(s)]=i,_.each(r["".concat(a,",").concat(n,",").concat(s)],(function(e){return e(i)})),r["".concat(a,",").concat(n,",").concat(s)]=[]):dsf.layer.message(o||"请求异常",!1)})).error((function(e){dsf.layer.message((null===e||void 0===e?void 0:e.message)||"请求异常",!1)})).always((function(){i.loading=!1})))}}},394:function(e,t,i){"use strict";function a(e,t){dsf.http.importFiles([dsf.url.getWebPath("$/js/libs/vuePictureCut/vue-picture-cut.css"),dsf.url.getWebPath("$/js/libs/vuePictureCut/vue-picture-cut.umd.min.js")]).then((function(){window.Vue.use(window["vue-picture-cut"].default),null===e||void 0===e||e(window["vue-picture-cut"])})).catch((function(e){dsf.error(e),dsf.layer.message("加载vuePictureCut脚本出错",!1),null===t||void 0===t||t(e)}))}function n(e,t){dsf.http.importFiles([dsf.url.getWebPath("$/js/libs/vcrontab/vcrontab.umd.min.js")]).then((function(){window.Vue.use(window["vcrontab"].default),null===e||void 0===e||e()})).catch((function(e){dsf.error(e),dsf.layer.message("加载vcrontab脚本出错",!1),null===t||void 0===t||t(e)}))}function s(e,t){dsf.http.importFiles([dsf.url.getWebPath("$/js/libs/quill/quill.core.css"),dsf.url.getWebPath("$/js/libs/quill/quill.snow.css"),dsf.url.getWebPath("$/js/libs/quill/quill.bubble.css"),dsf.url.getWebPath("$/js/libs/quill/quill.js"),dsf.url.getWebPath("$/js/libs/quill/vue-quill-editor.js")]).then((function(){window.Vue.use(window["VueQuillEditor"]),null===e||void 0===e||e()})).catch((function(e){dsf.error(e),dsf.layer.message("加载quill脚本出错",!1),null===t||void 0===t||t(e)}))}i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}))},402:function(e,t,i){var a=i(21),n=i(20),s=i(14),l=i(22);function r(e){return a(e)||n(e)||s(e)||l()}e.exports=r,e.exports.__esModule=!0,e.exports["default"]=e.exports},582:function(e,t,i){var a=i(804);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i(19).default;n("51c981ca",a,!0,{sourceMap:!1,shadowMode:!1})},583:function(e,t,i){var a=i(806);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i(19).default;n("01f4385e",a,!0,{sourceMap:!1,shadowMode:!1})},584:function(e,t,i){var a=i(808);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i(19).default;n("e6a57886",a,!0,{sourceMap:!1,shadowMode:!1})},588:function(e,t,i){"use strict";t["a"]={props:{selectStartType:{type:Number,default:0},selectEndType:{type:Number,default:0},selectStartDate:{type:Number,default:Date.now()},selectEndDate:{type:Number,default:Date.now()},selectStartDateByDays:{type:Number,default:0},selectEndDateByDays:{type:Number,default:0},selectStartDateByMonths:{type:Number,default:0},selectEndDateByMonths:{type:Number,default:0},selectStartDateByYears:{type:Number,default:0},selectEndDateByYears:{type:Number,default:0}},computed:{minDate:function(){if(this.selectStartType){if(1===this.selectStartType)return this.getDate(new Date);if(2===this.selectStartType)return this.getDate(this.selectStartDate);if(3===this.selectStartType){var e=this.getDate();return e=this.getDate(e.getTime()+864e5*this.selectStartDateByDays),e}if(4===this.selectStartType){var t=new Date,i=t.getMonth()+this.selectStartDateByMonths+1,a=t.getFullYear()+Math.floor(i/12)+"/";return i%=12,i=1===i.length?"0"+i:i,new Date(a+i+"/01 00:00:00")}if(5===this.selectStartType){var n=new Date,s=n.getFullYear()+this.selectStartDateByYears;return new Date(s+"/01/01 00:00:00")}}},maxDate:function(){if(this.selectEndType){if(1===this.selectEndType)return this.getDate(new Date,"yyyy/mm/dd 23:59:59");if(2===this.selectEndType)return this.getDate(this.selectEndDate,"yyyy/mm/dd 23:59:59");if(3===this.selectEndType){var e=this.getDate();return this.getDate(e.getTime()+864e5*this.selectEndDateByDays,"yyyy/mm/dd 23:59:59")}if(4===this.selectEndType){var t=new Date,i=t.getMonth()+this.selectEndDateByMonths+2,a=t.getFullYear()+Math.floor(i/12)+"/";return i%=12,i=1===i.length?"0"+i:i,t=new Date(a+i+"/01 23:59:59"),t.setTime(t.getTime()-864e5),t}if(5===this.selectEndType){var n=new Date,s=n.getFullYear()+this.selectEndDateByYears;return new Date(s+"/12/31 23:59:59")}}}},methods:{getDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy/mm/dd 00:00:00";return void 0===e&&(e=new Date),new Date(dsf.date.format(e,t))}}}},595:function(e,t,i){var a=i(828);"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i(19).default;n("97910008",a,!0,{sourceMap:!1,shadowMode:!1})},803:function(e,t,i){"use strict";i(582)},804:function(e,t,i){"use strict";i.r(t)},805:function(e,t,i){"use strict";i(583)},806:function(e,t,i){"use strict";i.r(t)},807:function(e,t,i){"use strict";i(584)},808:function(e,t,i){"use strict";i.r(t)},827:function(e,t,i){"use strict";i(595)},828:function(e,t,i){"use strict";i.r(t)}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_mobile_form.js.map