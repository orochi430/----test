/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vant")):"function"===typeof define&&define.amd?define("platform",["vant"],t):"object"===typeof exports?exports["platform"]=t(require("vant")):e["platform"]=t(e["vant"])})("undefined"!==typeof self?self:this,(function(e){return function(e){function t(t){for(var n,i,a=t[0],r=t[1],o=0,l=[];o<a.length;o++)i=a[o],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&l.push(s[i][0]),s[i]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(l.length)l.shift()()}var n={},i={3:0},s={3:0};function a(e){return r.p+"static/modules/platform/js/dsf-platform."+({0:"platform_pc_router_iframe",6:"platform_common_output_common",12:"platform_mobile_common",13:"platform_mobile_datagrid",14:"platform_mobile_dialog",15:"platform_mobile_flow",16:"platform_mobile_flowBatchSend",17:"platform_mobile_form",18:"platform_mobile_homepage",19:"platform_mobile_layout",20:"platform_mobile_login_module",21:"platform_mobile_me_module",22:"platform_mobile_nav",23:"platform_mobile_news",24:"platform_mobile_other",25:"platform_mobile_prototype",26:"platform_mobile_router_deletedForm",27:"platform_mobile_router_error",28:"platform_mobile_subtable",29:"platform_mobile_supersearch",30:"platform_mobile_tree_module",31:"platform_mobile_upload"}[e]||e)+".js?_t=1718790580240"}function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n={6:1,17:1,18:1,19:1,20:1,22:1,24:1,30:1,31:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var s="static/modules/platform/css/dsf-platform."+({0:"platform_pc_router_iframe",6:"platform_common_output_common",12:"platform_mobile_common",13:"platform_mobile_datagrid",14:"platform_mobile_dialog",15:"platform_mobile_flow",16:"platform_mobile_flowBatchSend",17:"platform_mobile_form",18:"platform_mobile_homepage",19:"platform_mobile_layout",20:"platform_mobile_login_module",21:"platform_mobile_me_module",22:"platform_mobile_nav",23:"platform_mobile_news",24:"platform_mobile_other",25:"platform_mobile_prototype",26:"platform_mobile_router_deletedForm",27:"platform_mobile_router_error",28:"platform_mobile_subtable",29:"platform_mobile_supersearch",30:"platform_mobile_tree_module",31:"platform_mobile_upload"}[e]||e)+".css?_t=1718790580240",a=r.p+s,o=document.getElementsByTagName("link"),l=0;l<o.length;l++){var c=o[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===a))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===s||u===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css";var f=function(s){if(h.onerror=h.onload=null,"load"===s.type)t();else{var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||a,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,delete i[e],h.parentNode.removeChild(h),n(l)}};h.onerror=h.onload=f,h.href=a,document.head.appendChild(h)})).then((function(){i[e]=0})));var o=s[e];if(0!==o)if(o)t.push(o[2]);else{var l=new Promise((function(t,n){o=s[e]=[t,n]}));t.push(o[2]=l);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=a(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(h);var n=s[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",d.name="ChunkLoadError",d.type=i,d.request=a,n[1](d)}s[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;return r(r.s=305)}([function(e,t,n){"use strict";function i(e,t,n,i,s,a,r,o){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return i}))},function(e,t,n){var i=n(27)();e.exports=i;try{regeneratorRuntime=i}catch(s){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){var i=n(23),s=n(20),a=n(14),r=n(24);function o(e){return i(e)||s(e)||a(e)||r()}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(16);function s(e,t,n){return t=i(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(e,t,n,i,s,a,r){try{var o=e[a](r),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(i,s)}function i(e){return function(){var t=this,i=arguments;return new Promise((function(s,a){var r=e.apply(t,i);function o(e){n(r,s,a,o,l,"next",e)}function l(e){n(r,s,a,o,l,"throw",e)}o(void 0)}))}}e.exports=i,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return f}));var i=864e5,s=-new Date("1970/01/01 0:00:00").getTime();function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={Y:e.getFullYear(),M:e.getMonth()+1,D:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};if(t){var i=r(n.Y,n.M,1),s=i.year,a=i.month;n.MTime=new Date(s+"/"+a+"/1").getTime()-1}else n.MTime=new Date(n.Y+"/"+n.M+"/1").getTime();return n.DTime=new Date(n.Y+"/"+n.M+"/"+n.D).getTime(),n.time=new Date("".concat(n.Y,"/").concat(n.M,"/").concat(n.D," ").concat(n.h,":").concat(n.m,":").concat(n.s)).getTime(),n}function r(e,t,n){if(!n)return{year:e,month:t};var i=t+n,s=i%12||12;return s=s<0?12+s:s,{year:e+Math.floor((i-.1)/12),month:s}}function o(e,t){if(!e){if("datetime_s"===t)return["----/--/--","--:--:--"];if("datetime"===t)return["----/--/--","--:--"]}return"datetime_s"===t?dsf.date.format(e,"yyyy/mm/dd hh:ii:ss").split(" "):"datetime"===t?dsf.date.format(e,"yyyy/mm/dd hh:ii").split(" "):null}var l=function(e){return e<10?"0"+e:e+""},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t&&""!=t?e+t:l(e)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Array(e).fill("").map((function(e,n){return{text:c(n,t),disabled:!1}}))},d=function(e,t,n){return _.map(_.fill(Array(t),""),(function(t,i){return{value:i+e,type:n}}))},h=function(e,t,n,i){return{defaultIndex:e,values:d(t,n,i)}},f=function(e,t){var n=31;return[4,6,9,11].indexOf(t)>-1?n=30:2==t&&(n=e%4==0&&e%100!=0||e%400==0?29:28),n}},,function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)}var s=["attrs","props","domProps"],a=["class","style","directives"],r=["on","nativeOn"],o=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==s.indexOf(n))e[n]=i({},e[n],t[n]);else if(-1!==a.indexOf(n)){var o=e[n]instanceof Array?e[n]:[e[n]],c=t[n]instanceof Array?t[n]:[t[n]];e[n]=[].concat(o,c)}else if(-1!==r.indexOf(n))for(var u in t[n])if(e[n][u]){var d=e[n][u]instanceof Array?e[n][u]:[e[n][u]],h=t[n][u]instanceof Array?t[n][u]:[t[n][u]];e[n][u]=[].concat(d,h)}else e[n][u]=t[n][u];else if("hook"===n)for(var f in t[n])e[n][f]=e[n][f]?l(e[n][f],t[n][f]):t[n][f];else e[n]=t[n];else e[n]=t[n];return e}),{})},l=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=o},function(e,t,n){var i=n(21),s=n(26),a=n(14),r=n(22);function o(e,t){return i(e)||s(e,t)||a(e,t)||r()}e.exports=o,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports["default"]=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},,,,,function(e,t,n){var i=n(15);function s(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(9)["default"],s=n(25);function a(e){var t=s(e,"string");return"symbol"==i(t)?t:String(t)}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},,,function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},s=0;s<t.length;s++){var a=t[s],r=a[0],o=a[1],l=a[2],c=a[3],u={id:e+":"+s,css:o,media:l,sourceMap:c};i[r]?i[r].parts.push(u):n.push(i[r]={id:r,parts:[u]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var s="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},r=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",f="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,s){c=n,d=s||{};var r=i(e,t);return m(r),function(t){for(var n=[],s=0;s<r.length;s++){var o=r[s],l=a[o.id];l.refs--,n.push(l)}t?(r=i(e,t),m(r)):r=[];for(s=0;s<n.length;s++){l=n[s];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],i=a[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(g(n.parts[s]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(s=0;s<n.parts.length;s++)r.push(g(n.parts[s]));a[n.id]={id:n.id,refs:1,parts:r}}}}function v(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(f){var s=l++;i=o||(o=v()),t=b.bind(null,i,s,!1),n=b.bind(null,i,s,!0)}else i=v(),t=_.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,i){var s=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,s);else{var a=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function _(e,t){var n=t.css,i=t.media,s=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(h,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},function(e,t){function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(e){if(Array.isArray(e))return e}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(15);function s(e){if(Array.isArray(e))return i(e)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(9)["default"];function s(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t){function n(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,s,a,r,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){c=!0,s=e}finally{try{if(!l&&null!=n["return"]&&(r=n["return"](),Object(r)!==r))return}finally{if(c)throw s}}return o}}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(9)["default"];function s(){"use strict";e.exports=s=function(){return n},e.exports.__esModule=!0,e.exports["default"]=e.exports;var t,n={},a=Object.prototype,r=a.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var s=t&&t.prototype instanceof _?t:_,a=Object.create(s.prototype),r=new A(i||[]);return o(a,"_invoke",{value:T(e,n,r)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",b={};function _(){}function x(){}function w(){}var C={};h(C,c,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(O([])));S&&S!==a&&r.call(S,c)&&(C=S);var D=w.prototype=_.prototype=Object.create(C);function $(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){function n(s,a,o,l){var c=p(e[s],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}var s;o(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,s){n(e,i,t,s)}))}return s=s?s.then(a,a):a()}})}function T(e,n,i){var s=m;return function(a,r){if(s===g)throw new Error("Generator is already running");if(s===y){if("throw"===a)throw r;return{value:t,done:!0}}for(i.method=a,i.arg=r;;){var o=i.delegate;if(o){var l=j(o,i);if(l){if(l===b)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(s===m)throw s=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);s=g;var c=p(e,n,i);if("normal"===c.type){if(s=i.done?y:v,c.arg===b)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(s=y,i.method="throw",i.arg=c.arg)}}}function j(e,n){var i=n.method,s=e.iterator[i];if(s===t)return n.delegate=null,"throw"===i&&e.iterator["return"]&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),b;var a=p(s,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var r=a.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function O(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,a=function n(){for(;++s<e.length;)if(r.call(e,s))return n.value=e[s],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return x.prototype=w,o(D,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:x,configurable:!0}),x.displayName=h(w,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,d,"GeneratorFunction")),e.prototype=Object.create(D),e},n.awrap=function(e){return{__await:e}},$(M.prototype),h(M.prototype,u,(function(){return this})),n.AsyncIterator=M,n.async=function(e,t,i,s,a){void 0===a&&(a=Promise);var r=new M(f(e,t,i,s),a);return n.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},$(D),h(D,d,"Generator"),h(D,c,(function(){return this})),h(D,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(i,s){return o.type="throw",o.arg=e,n.next=i,s&&(n.method="next",n.arg=t),!!s}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return a.type=e,a.arg=t,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var s=i.arg;P(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:O(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),b}},n}e.exports=s,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){"use strict";function i(e){e.component("DsfIcon",e.defineLazyComponent((function(){return n(55)}))),e.component("DsfTextProxy",e.defineLazyComponent((function(){return n(56)}))),e.component("DsfTextContentEditable",e.defineLazyComponent((function(){return n(57)}))),e.component("DsfRepeatProxy",e.defineLazyComponent((function(){return n(58)}))),e.component("DsfUserInfoWaterMark",e.defineLazyComponent((function(){return n(61)}))),e.component("DsfFieldLabel",e.defineLazyComponent((function(){return n(59)}))),e.component("DsfEmptyData",e.defineLazyComponent((function(){return n(62)}))),e.component("DsfSlotRenderProxy",e.defineLazyComponent((function(){return n(60)}))),e.component("DsfDivEditor",e.defineLazyComponent((function(){return n(63)}))),e.component("SendFlowDialog",e.defineAsyncComponent((function(){return n.e(6).then(n.bind(null,111))}))),e.component("CodeSetDialog",e.defineAsyncComponent((function(){return n.e(6).then(n.bind(null,112))}))),e.component("ImportTemplateDownload",e.defineAsyncComponent((function(){return n.e(6).then(n.bind(null,113))})))}t["a"]={install:i}},,function(t,n){t.exports=e},,,function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n,e.exports.__esModule=!0,e.exports["default"]=e.exports},function(e,t,n){var i=n(16);function s(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,i(s.key),s)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=a,e.exports.__esModule=!0,e.exports["default"]=e.exports},,,,,,,,,,function(e,t,n){e.exports=n.p+"modules/platform/img/empty-image-default.png"},,function(e,t,n){e.exports=n.p+"modules/platform/img/banner-demo1.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_ppt_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_pdf_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_mp3_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_word_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_mp4_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_excel_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_png_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_df_icon.png"},function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i);t["default"]={name:"DsfIcon",functional:!0,props:{name:{type:String,default:function(){return""}}},render:function(e,t){var n=t._c||e,i=t.data.class;i?"string"==dsf.type(i)?i=[i]:"object"==dsf.type(i)&&(i=_.map(i,(function(e,t){return t}))):i=[];var a=[];t.data.staticClass&&("array"==dsf.type(t.data.staticClass)?a.push.apply(a,s()(t.data.staticClass)):a.push(t.data.staticClass));var r=t.props.name;return r=r?"".concat(r," icon-").concat(r):"",n("i",{key:t.data.key,attrs:t.data.attrs,staticStyle:t.data.staticStyle,staticClass:[].concat(a,["iconfont"]).join(" "),style:t.data.style,class:[r].concat(s()(i)),directives:t.data.directives,on:t._g(t.listeners)})}}},function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),a=n(3),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){var n=$(e.currentTarget).closest(".ds-datagrid");if(n.length>0){var i=n.get(0).__vue__;if(i){var s=null;if(i.operateColumn&&i.operateColumn.show){var a=n.find(".el-table__body:eq(0)"),r=a.find("tr:eq(".concat(t.props.local.$index,")"));s=$(r).find("div.operate-column[ctrl_type='dsf.buttonbar']")}else s=$(i.$el).find("div[ctrl_type='dsf.buttonbar'][row-hash='"+t.props.local.$hash+"']");if(s&&s.length>0){var o=s.get(0).__vue__,l=_.filter(o.buttons,(function(e){return e.linkBind==t.props.designId}));l.length>0&&o.triggerButtonClick(l[0]),e.stopPropagation(),e.preventDefault()}}}}function u(e,t,n){if(t){var i=dsf.global.Vue.filter(e);if(i)return i(n,t)}return n}function d(e,t){var n=e.data.attrs;if(e){var i=n.metadata_fullcode||e.data.caption;if(i)return i.replace(/\./g,"_")+(t?"__"+t:"")}return""}t["default"]={name:"DsfTextProxy",functional:!0,inject:{$vm:{default:null}},render:function(e,t){var n,i,a,o,h,p=t._c||e,m=t.injections;t.$vm=m.$vm;var v=t.data.model?t.data.model.value:"",g="innerText",y=!1,b=null,x=null,w=(null===t||void 0===t||null===(n=t.data)||void 0===n||null===(n=n.attrs)||void 0===n?void 0:n.isPre)||!1,C=(null===t||void 0===t||null===(i=t.data.attrs)||void 0===i?void 0:i.textProxyIcon)||"",k=!1,S="",D=(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.attrs)||{};if(C&&(C=C.replace(/^icon-/g,""),C&&(x=p("i",{staticClass:"proxy-conent proxy-icon iconfont ".concat("icon-"+C),class:[d(t,"icon")]}))),D.showLabel&&D.label&&(b=p("span",{staticClass:"proxy-conent proxy-label",class:[d(t,"label")]},[t._v(t._s(D.label+":"))])),"justify"==D.inputAlign&&(k=!0,g="innerHTML"),0===(null===(o=D.formatter)||void 0===o||null===(h=o.indexOf)||void 0===h?void 0:h.call(o,"html"))&&(g="innerHTML",y=!0),y)v=dsf.safe.xss(v),S=f(v);else{var $,M="HTML"==(null===D||void 0===D||null===($=D.metadata)||void 0===$||null===($=$.valueAttributes)||void 0===$||null===($=$[0])||void 0===$?void 0:$.textType);M?(v=dsf.safe.xss(v),S=f(v)):S=v}var T,j,I,P="";(dsf.isUnDef(v)||""===v)&&(v=(null===t||void 0===t||null===(T=t.data)||void 0===T||null===(T=T.attrs)||void 0===T?void 0:T.emptyPlaceholder)||"");dsf.isDef(v)&&""!==v&&(P=t._s(u("proxy",D.formatter,v)),P&&"text-meta-data"==(null===t||void 0===t||null===(j=t.props)||void 0===j||null===(j=j.metadata)||void 0===j?void 0:j.ckey)&&null!==(I=t.props)&&void 0!==I&&I.append&&(P+=t.props.append));!w&&P&&(P=P.replaceAll(/\n|\r\n/g,"")),k&&(P=t._s(u("proxy","htmlJustify",P)));var A=p("span",{staticClass:"proxy-conent",class:[d(t,"value"),w?"ds-text-pre":""],attrs:{title:u("proxyTitle",D.formatter,S)},domProps:r()({},g,P)}),O=t.data.class;O?dsf.isString(O)?O=[O]:dsf.isObject(O)&&(O=_.map(O,(function(e,t){return e?t:""}))):O=[];var N=t.listeners,L=p("span",l(l({},t.data),{},{attrs:{id:D.id},class:["proxy-text",k?"text-align-justify":""].concat(s()(t.data.class||[]),[!1===D.visible?"ds-hide":"",d(t)]),on:l({click:function(e){c(e,t)}},N)}),[x,b,A]);return L}};var h=null;function f(e){return h||(h=document.createElement("div")),h.innerHTML=e,h.innerText}},function(e,t,n){"use strict";n.r(t);var i=n(3),s=n.n(i);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["default"]={model:{prop:"text",event:"text-change"},name:"DsfTextContentEditable",ctrlCaption:"设计状态文本编辑",functional:!0,inject:{$designer:{default:null}},props:{tag:{type:String,default:"div"},text:{type:String,default:""},editable:{type:Boolean,default:!1},type:{type:String,default:"html"}},render:function(e,t){var n,i=t._c||e,s=t.props.text,a=t.props.type,o=t.props.editable;return o||s?i(t.props.tag,{staticClass:"ds-text-content".concat(t.data.staticClass?" "+t.data.staticClass:""),class:{editing:o},attrs:{tabindex:1,contenteditable:o},staticStyle:t.data.staticStyle,domProps:{innerHTML:s},on:r({paste:function(e){var n=e.currentTarget;setTimeout((function(){var e="text"===a?n.innerText:n.innerHTML;e=dsf.wordToHtml(e).then((function(n){e=n,t.listeners["text-change"]?t.listeners["text-change"](e):t.data.on["update:text"]&&t.data.on["update:text"](e)}))}))},focus:function(e){e.stopPropagation(),e.preventDefault()},input:function(e){var n,i;null===t||void 0===t||null===(n=t.data)||void 0===n||null===(n=n.on)||void 0===n||null===(i=n.input)||void 0===i||i.call(n,e)},blur:function(e){var n,i,s=t.props.type,a=e.target,r="text"===s?a.innerText:a.innerHTML;r=r.trim(),t.listeners["text-change"]?t.listeners["text-change"](r):t.data.on["update:text"]&&t.data.on["update:text"](r),null===t||void 0===t||null===(n=t.listeners)||void 0===n||null===(i=n.blur)||void 0===i||i.call(n,e),t.data.on["update:editable"]&&t.data.on["update:editable"](!1)}},(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.nativeOn)||{})}):t._e()}}},function(e,t,n){"use strict";function i(e){var t,n=null;return null!==e&&void 0!==e&&null!==(t=e.scopedSlots)&&void 0!==t&&t.default&&(n=e.scopedSlots.default()),n}function s(e){if(this.$vm&&!this.$vm.$controls[e]){var t=dsf.mix(!0,{},this.$vm.$controls[this.props.designId]);this.$vm.$set(this.$vm.$controls,e,t)}}n.r(t),t["default"]={name:"DsfRepeatProxy",functional:!0,inject:{$vm:{default:null}},props:{proxyProps:{type:Object,default:function(){return{}}},designId:{type:String,default:""},hash:{type:String,default:""}},render:function(e,t){t.$vm=t.injections.$vm,t.$list=t.injections.$list;var n=t.props.designId+"-"+t.props.hash;if(dsf.isEmptyObject(t.$vm.$controls[n])){var a=i(t);return a&&s.call(t,n),t._e()}a=i(t);return a||t._e()}}},function(e,t,n){"use strict";n.r(t);var i=n(7),s=n.n(i),a=n(3),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=0;function u(e,t){return e("el-popover",{staticClass:"ds_label-helper",attrs:{popperClass:"helper-popover",placement:"right",trigger:t.props.trigger},ref:t.popoverId,scopedSlots:{default:function(){return e("div",{staticClass:"data-caption-popover",domProps:{innerHTML:dsf.safe.xss(t.props.dataCaption)}})}}})}function d(e,t){var n=t.props,i=n.dataCaption,s=n.showIcon,a=t.props.owner||{},o=i&&!s&&!a.isDesign,l=a.$formItemLabelAlign||"right";"config"==l&&(l=dsf.config.setting_public_pc_form_label_align||"right");var c={staticClass:"ds-form-label",class:r()({"has-datacaption":o},"align-".concat(l),!0)};for(var d in t.data)c[d]=t.data[d];var m=e("label",c,[f(e,t,o),s&&i?h(e,t):null,i&&"popover"==p(t)&&!n.isDesign?u(e,t):null]);return m}function h(e,t){var n=t.props,i={};return n.showIcon&&m(t,i),e("i",l(l({},i),{},{staticClass:"iconfont icon-bangzhuzhongxin ds-control-helper"}))}function f(e,t){var n=t.scopedSlots,i=t.props,s=null!==n&&void 0!==n&&n.default?n.default():e();if(s&&s.length>0)for(var a=0;a<s.length;a++)!s[a].tag&&s[a].text&&(s[a].text=s[a].text.trim());var r={};return i.showIcon||m(t,r),e("span",r,[s])}function p(e){var t="popover";return"click"==e.props.trigger&&(t=e.props.mode),t}function m(e,t){var n=p(e);"dialog"==n?(t.on||(t.on={}),t.on.click=function(){var t,n;null===e||void 0===e||null===(t=e.props)||void 0===t||null===(t=t.owner)||void 0===t||null===(n=t.showHelper)||void 0===n||n.call(t)}):"popover"==n&&(t.directives=[{name:"popover",arg:e.popoverId}])}function v(e,t){var n=t.props,i=n.dataCaption,a=n.showIcon,r=t.props.owner||{},o=i&&!a&&!r.isDesign;return e("label",s()([{class:{"has-datacaption":o}},t.data]),[g(e,t,o),a&&i?y(e,t):e()])}function g(e,t,n){var i,s=null!==t&&void 0!==t&&null!==(i=t.scopedSlots)&&void 0!==i&&i.default?t.scopedSlots.default():e();return e("span",{on:{click:function(e){b(t,e)}}},[s])}function y(e,t){return e("i",{class:"iconfont icon-bangzhuzhongxin ds-control-helper",on:{click:function(e){b(t,e)}}})}function b(e,t){if(e.props.dataCaption){var n,i;t.stopPropagation(),t.preventDefault();var s=[dsf.unitSize(8,"rem"),dsf.unitSize(8,"rem"),dsf.unitSize(0,"rem"),dsf.unitSize(8,"rem")].join(" ");null===e||void 0===e||null===(n=e.props)||void 0===n||null===(n=n.owner)||void 0===n||null===(i=n.showHelper)||void 0===i||i.call(n,{template:'<div style="padding:'.concat(s,'" v-html="dsf.safe.xss(params.value)"></div>')})}}t["default"]={name:"DsfFieldLabel",functional:!0,inject:{$vm:{default:null},$page:{default:null}},props:{isDesign:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},owner:{type:Object,default:function(){return null}},mode:{type:String,default:"popover"},showIcon:{type:Boolean,default:!1},dataCaption:{type:String,default:""},trigger:{type:String,default:"click"}},render:function(e,t){return t.props.isMobile?v(e,t):(t.popoverId="popover-"+ ++c,d(e,t))}}},function(e,t,n){"use strict";n.r(t),t["default"]={name:"DsfSlotRenderProxy",props:{tag:{type:String,default:""},owner:{type:Object,default:function(){return null}},slotKey:{type:String,default:""},slotData:{type:Object,default:function(){return{}}}},update:function(){},render:function(e){var t,n,i=this.owner;if(!i)return e();var s=this.slotKey,a=this.slotData,r=(null===i||void 0===i||null===(t=i.$scopedSlots)||void 0===t||null===(n=t[s])||void 0===n?void 0:n.call(t,a))||null;if(r&&1==r.length&&!this.tag)return r;var o=this.tag||"div";return e(o,{staticClass:"ds-slot-proxy"},r)}}},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"userinfo-water-mark",style:e.waterMark})},s=[],a={name:"DsfUserInfoWaterMark",props:{text:{type:String,default:""},waterMarkOptions:{type:Object,default:function(){}}},data:function(){return{textString:"",observer:null,show:!0}},computed:{waterMark:function(){var e=Object.assign({fontSize:16,margin:[50,50]},this.waterMarkOptions),t=4;e.fontSize*=t,e.margin[0]*=t,e.margin[1]*=t;var n=dsf.safe.getWaterMark(this.textString,e),i=n.width,s=n.height,a=n.base64;return{"background-image":"url(".concat(a,")"),"background-size":"".concat(i/t,"px ").concat(s/t,"px")}}},beforeCreate:function(){},created:function(){dsf.client.lessThenIE("11")&&(this.show=!1)},beforeMount:function(){},mounted:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{createImage:function(){var e,t=this,n="\n";(null===(e=this.text.split("\\n"))||void 0===e?void 0:e.length)>1&&(n="\\n");var i=this.text.split(n);i=_.map(i,(function(e){return t.$replace(e)})),this.textString=i.join("\n")}},watch:{text:{handler:function(e){this.createImage()},immediate:!0}}},r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dsf.global.$isMobile?n("van-empty",{attrs:{image:e.image,description:e.description,"image-size":e.imageSize}}):n("div",{staticClass:"ds-empty-data"},[n("DsfIcon",{attrs:{name:e.icon}}),n("span",[e._v(e._s(e.text))])],1)},s=[],a={name:"DsfEmptyData",props:{text:{type:String,default:"暂无数据"},icon:{type:String,default:"no-data"},image:{type:String,default:n(44)},description:{type:String,default:"暂无数据"},imageSize:{type:[Number,String,Array],default:""}},data:function(){return{}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},methods:{},beforeDestroy:function(){},destroyed:function(){}},r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",staticClass:"dsf-div-editor",attrs:{placeholder:e.placeholder,contenteditable:"text"==e.filterStyle?"plaintext-only":"true"},on:{click:function(e){e.stopPropagation()},blur:e.onBlur,focus:e.onFocus,input:e.onInput,paste:e.onPaste}})},s=[],a={name:"DsfDivEditor",props:{tag:{type:String,default:"div"},value:{type:String,default:""},placeholder:{type:String,default:"请输入"},filterStyle:{type:String,default:null}},watch:{value:function(e){this.$el&&this.$el.innerHTML!==e&&(this.$el.innerHTML=e)}},created:function(){this.onInput=_.throttle(this._onInput,80)},mounted:function(){this.$el.innerHTML=this.value||""},methods:{_onInput:function(){this.__paste&&(this.__paste=!1,this.$el.innerHTML=h(this.$el.innerHTML));var e=this.$el.innerHTML,t=this.$el.innerText.replace(/[\n\r]/,""),n="text"==this.filterStyle?t:e,i=this.$el.querySelector("img,table,video,audio");i||this.$el.innerText&&"\n"!==this.$el.innerText||(n=""),this.$emit("html",e),this.$emit("text",t),this.$emit("input",n)},onPaste:function(){"style"==this.filterStyle&&(this.__paste=!0)},onBlur:function(e){var t=this.$el.innerHTML,n=this.$el.innerText.replace(/[\n\r]/,""),i="text"==this.filterStyle?n:t;this.$emit("change",i),this.$emit("blur",{value:i,html:t,text:n,target:this.$el,vm:this,event:e})},onFocus:function(e){var t=this.value;this.$emit("focus",{value:t,target:this.$el,vm:this,event:e})},focus:function(){var e=this;setTimeout((function(){e.$el.focus()}),0)},blur:function(){this.$el.blur()}}},r=document.createElement("div"),o=["img","video","audio"],l=["script","style"],c=["input","textarea","select"],u=["a","label","code","abbr","em","b","big","cite","i","q","small","span","sub","sup","strong","u","li","ins","del","dfn","kbd","var"],d={table:["style","align","cellpadding","cellspacing","frame","rules","summary","width","border"],thead:["align","char","charoff","valign"],tbody:["align","char","charoff","valign"],tfoot:["align","char","charoff","valign"],caption:["align"],col:["align","char","charoff","valign","span","width"],colgroup:["align","char","charoff","valign","span","width"],tr:["style","align","char","charoff","valign"],th:["style","abbr","align","axis","char","charoff","colspan","headers","rowspan","scope","valign","width"],td:["style","abbr","align","axis","char","charoff","colspan","headers","rowspan","scope","valign","width"]};function h(e){return r.innerHTML=e||"",f(r.childNodes)}function f(e){var t=_.map(e,(function(e){var t=e.nodeName.toLowerCase();return l.indexOf(t)>-1&&c.indexOf(t)>-1?"":o.indexOf(t)>-1?e.outerHTML:"#text"==t?e.textContent:e.childNodes?u.indexOf(t)>-1?f(e.childNodes):d[t]?"<".concat(t," ").concat(p(e,d[t]),">").concat(f(e.childNodes),"</").concat(t,">"):"<div>".concat(f(e.childNodes),"</div>"):e.innerText||""}));return t.join("")}function p(e,t){var n=[];return _.each(t,(function(t){var i=e.getAttribute(t);i&&("style"==t&&(i=i.replace(/(font|backgrount|(;|\s)color|border([\-\w]*)-color)[:_\-\d\w\s()#]*;?/g,"")),n.push("".concat(t,'="').concat(i,'"')))})),n.join(" ")}var m=a,v=n(0),g=Object(v["a"])(m,i,s,!1,null,null,null);t["default"]=g.exports},,function(e,t,n){e.exports=n.p+"modules/platform/img/nodata2.png"},,function(e,t,n){var i=n(310);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n(19).default;s("38437a18",i,!0,{sourceMap:!1,shadowMode:!1})},,,function(e,t,n){(function(){function t(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function n(e,t){return e.x*t.x+e.y*t.y}function i(e,i){var s=t(e)*t(i);if(0===s)return 0;var a=n(e,i)/s;return a>1&&(a=1),Math.acos(a)}function s(e,t){return e.x*t.y-t.x*e.y}function a(e,t){var n=i(e,t);return s(e,t)>0&&(n*=-1),180*n/Math.PI}var r=function(e){this.handlers=[],this.el=e};function o(e,t){var n=new r(e);return n.add(t),n}r.prototype.add=function(e){this.handlers.push(e)},r.prototype.del=function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)},r.prototype.dispatch=function(){for(var e=0,t=this.handlers.length;e<t;e++){var n=this.handlers[e];"function"===typeof n&&n.apply(this.el,arguments)}};var l=function(e,t){this.element="string"==typeof e?document.querySelector(e):e,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var n=function(){};this.rotate=o(this.element,t.rotate||n),this.touchStart=o(this.element,t.touchStart||n),this.multipointStart=o(this.element,t.multipointStart||n),this.multipointEnd=o(this.element,t.multipointEnd||n),this.pinch=o(this.element,t.pinch||n),this.swipe=o(this.element,t.swipe||n),this.tap=o(this.element,t.tap||n),this.doubleTap=o(this.element,t.doubleTap||n),this.longTap=o(this.element,t.longTap||n),this.singleTap=o(this.element,t.singleTap||n),this.pressMove=o(this.element,t.pressMove||n),this.twoFingerPressMove=o(this.element,t.twoFingerPressMove||n),this.touchMove=o(this.element,t.touchMove||n),this.touchEnd=o(this.element,t.touchEnd||n),this.touchCancel=o(this.element,t.touchCancel||n),this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}};l.prototype={start:function(e){if(e.touches){this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var n=this.preV,i=e.touches.length;if(i>1){this._cancelLongTap(),this._cancelSingleTap();var s={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};n.x=s.x,n.y=s.y,this.pinchStartLen=t(n),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}},move:function(e){if(e.touches){var n=this.preV,i=e.touches.length,s=e.touches[0].pageX,r=e.touches[0].pageY;if(this.isDoubleTap=!1,i>1){var o=e.touches[1].pageX,l=e.touches[1].pageY,c={x:e.touches[1].pageX-s,y:e.touches[1].pageY-r};null!==n.x&&(this.pinchStartLen>0&&(e.zoom=t(c)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=a(c,n),this.rotate.dispatch(e,this.element)),n.x=c.x,n.y=c.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(s-this.x2+o-this.sx2)/2,e.deltaY=(r-this.y2+l-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=o,this.sy2=l}else{if(null!==this.x2){e.deltaX=s-this.x2,e.deltaY=r-this.y2;var u=Math.abs(this.x1-this.x2),d=Math.abs(this.y1-this.y2);(u>10||d>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=s,this.y2=r,i>1&&e.preventDefault()}},end:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout((function(){t.swipe.dispatch(e,t.element)}),0)):(this.tapTimeout=setTimeout((function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)}),0),t.isDoubleTap||(t.singleTapTimeout=setTimeout((function(){t.singleTap.dispatch(e,t.element)}),250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}},cancelAll:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)},cancel:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)},_cancelLongTap:function(){clearTimeout(this.longTapTimeout)},_cancelSingleTap:function(){clearTimeout(this.singleTapTimeout)},_swipeDirection:function(e,t,n,i){return Math.abs(e-t)>=Math.abs(n-i)?e-t>0?"Left":"Right":n-i>0?"Up":"Down"},on:function(e,t){this[e]&&this[e].add(t)},off:function(e,t){this[e]&&this[e].del(t)},destroy:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}},e.exports=l})()},,,,,,,,,,,function(e,t,n){e.exports=n.p+"modules/platform/img/top.png"},,,function(e,t,n){e.exports=n.p+"modules/platform/img/db_cui.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_danger.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_ji.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_mi.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_te.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_tui.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/loginBg.png"},,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"modules/platform/img/banner-demo2.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(351)},function(e,t,n){var i=n(307);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n(19).default;s("d8144d48",i,!0,{sourceMap:!1,shadowMode:!1})},function(e,t,n){"use strict";n.r(t)},function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),a=n(3),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=e.props.type;return"auxiliary"==t&&(t="plain"),["ds-button"+(e.props.btnStyle?"--"+e.props.btnStyle:""),"mobile",e.props.type?t:"",e.props.size]}t["default"]={name:"DsfMobileButton",functional:!0,props:{noneLine:{type:Boolean,default:!1},type:{type:String,default:function(){return""}},icon:{type:String,default:function(){return""}},text:{type:String,default:function(){return""}},title:{type:String,default:function(){return""}},btnStyle:{type:String,default:function(){return""}},size:{type:String,default:""},iconPosition:{type:String,default:"left"}},render:function(e,t){var n=t._c||e,i=!1,a=!1,r=t.slots().default;t.data.staticClass&&t.data.staticClass.indexOf("ds-button--icon-text")>=0&&(i=!0),"icon-text"==t.props.btnStyle&&(i=!0);var o="";r&&r[0]&&r[0].text.trim()?(a=!1,o=r[0].text):t.props.text?(a=!1,o=t.props.text):a=!0;var u=t._u([{key:"default",fn:function(e){return o}}],!1,null);if(i){var d=t._e(),h=t._e();t.props.icon&&(d=n("i",{class:["iconfont","icon-"+t.props.icon]})),o&&(h=n("span",{},[o]));var f=t.data.class||[];return n("a",{attrs:l({},t.data.attrs),key:t.data.key,staticStyle:t.data.staticStyle,staticClass:t.data.staticClass,style:t.data.style,on:t.listeners,directives:t.data.directives,class:[].concat(s()(f),s()(c(t)),[a?"no-text":""])},[d,h])}var p=t.data.class;return p?"string"==dsf.type(p)?p=[p]:"object"==dsf.type(p)&&(p=_.map(p,(function(e,t){return t}))):p=[],n("van-button",{attrs:l({},t.data.attrs),props:{icon:t.props.icon,iconPrefix:"iconfont icon",plain:"plain"==t.props.type,size:t.props.size?t.props.size:"normal",tag:t.props.tag?t.props.tag:"button",iconPosition:t.props.iconPosition||"left"},key:t.data.key,staticStyle:t.data.staticStyle,staticClass:t.data.staticClass,style:t.data.style,directives:t.data.directives,class:[].concat(s()(c(t)),[a?"no-text":"",t.props.noneLine?"none-border":""],s()(p)),on:t.listeners,scopedSlots:u})}}},function(e,t,n){"use strict";n(67)},function(e,t,n){"use strict";n.r(t)},function(e,t,n){var i={"./404.png":312,"./arrow-left-def.png":313,"./arrow-right-def.png":314,"./banner-background.png":315,"./banner-demo1.png":46,"./banner-demo2.png":108,"./empty-image-default.png":44,"./fileTypeIcon/file_type_df_icon.png":54,"./fileTypeIcon/file_type_excel_icon.png":52,"./fileTypeIcon/file_type_gif_icon.png":316,"./fileTypeIcon/file_type_mp3_icon.png":49,"./fileTypeIcon/file_type_mp4_icon.png":51,"./fileTypeIcon/file_type_pdf_icon.png":48,"./fileTypeIcon/file_type_png_icon.png":53,"./fileTypeIcon/file_type_ppt_icon.png":47,"./fileTypeIcon/file_type_text_icon.png":317,"./fileTypeIcon/file_type_word_icon.png":50,"./home/db_cui.png":84,"./home/db_dai.png":318,"./home/db_danger.png":85,"./home/db_huan.png":319,"./home/db_ji.png":86,"./home/db_mi.png":87,"./home/db_te.png":88,"./home/db_tips.png":320,"./home/db_tui.png":89,"./home/db_waiting.png":321,"./home/db_warn.png":322,"./home/top.png":81,"./icon-cgx.png":323,"./icon-fjx.png":324,"./icon-hsz.png":325,"./icon-sjx.png":326,"./icon_more.png":327,"./loginBg.png":90,"./no-img.png":328,"./nodata2.png":65,"./pass.png":329,"./phoneBottom.png":330,"./phoneMiddle.png":331,"./phoneTop.png":332,"./switch.png":333,"./sync/Right-alignment.png":334,"./sync/icon-close.png":335,"./sync/left.png":336,"./sync/quanping.png":337,"./sync/right.png":338,"./sync/yunhang.png":339,"./water.png":340};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id=311},function(e,t,n){e.exports=n.p+"modules/platform/img/404.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/arrow-left-def.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/arrow-right-def.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/banner-background.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_gif_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/file_type_text_icon.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_dai.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_huan.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_tips.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_waiting.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/db_warn.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon-cgx.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon-fjx.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon-hsz.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon-sjx.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon_more.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/no-img.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/pass.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/phoneBottom.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/phoneMiddle.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/phoneTop.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/switch.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/Right-alignment.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/icon-close.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/left.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/quanping.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/right.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/yunhang.png"},function(e,t,n){e.exports=n.p+"modules/platform/img/water.png"},function(e,t,n){var i=n(342);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=n(19).default;s("0900c82e",i,!0,{sourceMap:!1,shadowMode:!1})},function(e,t,n){"use strict";n.r(t)},,,,,,,,,function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"DsfMobileDialog",(function(){return Z}));var s={};n.r(s),n.d(s,"DsfMobileLoading",(function(){return re})),n.d(s,"DsfMobilePicker",(function(){return oe})),n.d(s,"DsfMobileCascaderPicker",(function(){return le})),n.d(s,"DsfMobileButton",(function(){return ce})),n.d(s,"DsfMobileCalendar",(function(){return ue})),n.d(s,"DsfMobileCalendarTimeBox",(function(){return de})),n.d(s,"DsfMobileImage",(function(){return he})),n.d(s,"DsfMobileDataTimePicker",(function(){return fe})),n.d(s,"DsfMobileToDesigner",(function(){return pe}));var a={};n.r(a),n.d(a,"DsfMobilePage",(function(){return _e}));var r={};n.r(r),n.d(r,"DsfMobileButtonBar",(function(){return Me}));var o={};n.r(o),n.d(o,"DsfMobileNavTab",(function(){return Te}));var l={};n.r(l),n.d(l,"DsfMobileButtonNav",(function(){return je})),n.d(l,"DsfMobileNavBar",(function(){return Ie})),n.d(l,"DsfDemoBrowserNavBar",(function(){return Pe})),n.d(l,"DsfMobileBanner",(function(){return Ae})),n.d(l,"DsfMobileNavMenu",(function(){return Oe})),n.d(l,"DsfMobileNavMenuCell",(function(){return Ne})),n.d(l,"DsfMobileConvenientMenu",(function(){return Le})),n.d(l,"DsfMobileCalendarNav",(function(){return Ve})),n.d(l,"DsfMobileRollingNews",(function(){return He}));var c={};n.r(c),n.d(c,"DsfMobileHtml",(function(){return Fe}));var u={};n.r(u),n.d(u,"DsfMobileSuperSearch",(function(){return qe})),n.d(u,"DsfSuperSearchBtDown",(function(){return Ue})),n.d(u,"DsfSuperSearchBtSort",(function(){return We})),n.d(u,"DsfSuperSearchDownItem",(function(){return Je})),n.d(u,"DsfSuperSearchMorePopup",(function(){return Xe})),n.d(u,"DsfMobileDataGrid",(function(){return Ke})),n.d(u,"DsfMobileStaticList",(function(){return Ge}));var d={};n.r(d),n.d(d,"DsfMobileNewsInfo",(function(){return Qe})),n.d(d,"DsfMobileNewsDetail",(function(){return Ze}));var h={};n.r(h),n.d(h,"DsfMobileTextbox",(function(){return et})),n.d(h,"DsfMobileTextArea",(function(){return tt})),n.d(h,"DsfMobileAutoComplete",(function(){return nt})),n.d(h,"DsfMobileUeditor",(function(){return it})),n.d(h,"DsfMobileCarNumber",(function(){return st}));var f={};n.r(f),n.d(f,"DsfMobileSelect",(function(){return rt})),n.d(f,"DsfMobileRadioBox",(function(){return ot})),n.d(f,"DsfMobileCheckBox",(function(){return lt})),n.d(f,"DsfMobileSwitch",(function(){return ct})),n.d(f,"DsfMobileDataChoice",(function(){return ut})),n.d(f,"DsfMobileCascader",(function(){return dt})),n.d(f,"DsfMobileAreaSelect",(function(){return ht})),n.d(f,"DsfMobileOuaSelect",(function(){return ft})),n.d(f,"DsfMobileSignature",(function(){return pt}));var p={};n.r(p),n.d(p,"DsfMobileCol",(function(){return mt})),n.d(p,"DsfMobileRow",(function(){return vt})),n.d(p,"DsfMobileViewPart",(function(){return gt})),n.d(p,"DsfMobileFastFormLayout",(function(){return yt})),n.d(p,"DsfMobileSection",(function(){return bt})),n.d(p,"DsfMobileLazyBox",(function(){return _t})),n.d(p,"DsfMobilePaging",(function(){return xt})),n.d(p,"DsfMobileMapWrap",(function(){return wt}));var m={};n.r(m),n.d(m,"DsfMobileTreeInfo",(function(){return Ct})),n.d(m,"DsfMobileTree",(function(){return kt})),n.d(m,"DsfMobileTreeSelector",(function(){return St})),n.d(m,"DsfMobileCheckNode",(function(){return Dt})),n.d(m,"DsfMobileTreeInterface",(function(){return $t})),n.d(m,"DsfMobileIndexBar",(function(){return Mt}));var v={};n.r(v),n.d(v,"DsfMobileUpdateTime",(function(){return Tt})),n.d(v,"DsfMobileCreateTime",(function(){return jt})),n.d(v,"DsfMobileUpdateUserName",(function(){return It})),n.d(v,"DsfMobileCreateUserName",(function(){return Pt})),n.d(v,"DsfMobileCreateUserId",(function(){return At})),n.d(v,"DsfMobileUpdateUserId",(function(){return Ot})),n.d(v,"DsfMobileOrder",(function(){return Nt})),n.d(v,"DsfMobileDeletedStatus",(function(){return Lt}));var g={};n.r(g),n.d(g,"DsfMobileUploadFile",(function(){return Vt})),n.d(g,"DsfMobileUploadImg",(function(){return Ht})),n.d(g,"DsfMobileUploadPhoto",(function(){return Bt})),n.d(g,"mobileCropImage",(function(){return Et}));var y={};n.r(y),n.d(y,"DsfMobileDatePicker",(function(){return Yt})),n.d(y,"DsfMobileDateIntervalPicker",(function(){return Rt})),n.d(y,"DsfMobileTimePicker",(function(){return zt}));var b={};n.r(b),n.d(b,"DsfMobileSubTable",(function(){return Ft}));var x={};n.r(x),n.d(x,"DsfMobileFlowInfo",(function(){return qt})),n.d(x,"DsfMobileFlowProcess",(function(){return Ut})),n.d(x,"DsfMobileDisposeIdea",(function(){return Wt})),n.d(x,"DsfMobileChooseSendNode",(function(){return Jt})),n.d(x,"DsfMobileFormCommentBox",(function(){return Xt})),n.d(x,"DsfMobileChooseUsers",(function(){return Kt})),n.d(x,"DsfMobileReChooseUsers",(function(){return Gt})),n.d(x,"DsfMobileFlowAddComment",(function(){return Qt})),n.d(x,"DsfMobileAddOpinion",(function(){return Zt}));var w={};n.r(w),n.d(w,"DsfMobileSlideWarp",(function(){return en}));var C={};n.r(C),n.d(C,"DsfMobileUploadDesignImg",(function(){return tn}));var k={};n.r(k),n.d(k,"DsfMobileLabel",(function(){return ln})),n.d(k,"DsfMobileTitle",(function(){return pn})),n.d(k,"DsfMobileTitle1",(function(){return mn})),n.d(k,"DsfMobileTitle2",(function(){return vn})),n.d(k,"DsfMobileTitle3",(function(){return gn})),n.d(k,"DsfMobileTitle4",(function(){return yn})),n.d(k,"DsfMobileTitle5",(function(){return bn})),n.d(k,"DsfMobileTitle6",(function(){return _n}));var S={};n.r(S),n.d(S,"DsfMobilePlatformCardBox",(function(){return xn}));var D={};n.r(D),n.d(D,"DsfMobileVirtualTree",(function(){return wn}));var M={};n.r(M),n.d(M,"DsfMobileQrcode",(function(){return Cn}));var T={};n.r(T),n.d(T,"DsfMobileHomeTop",(function(){return An})),n.d(T,"DsfMobileNavMenuSetting",(function(){return On})),n.d(T,"DsfMobileHomeChangeRole",(function(){return Nn}));var j={};n.r(j),n.d(j,"DsfMobileAddress",(function(){return hs})),n.d(j,"DsfMobileUnitAddress",(function(){return fs}));var I={};n.r(I),n.d(I,"DsfMobileAdvancedSearch",(function(){return ps}));var P={};n.r(P),n.d(P,"DsfMobilePendingList",(function(){return ms}));var A={};n.r(A),n.d(A,"DsfMobileMyschedule",(function(){return vs})),n.d(A,"DsfMobileMyscheduleListItem",(function(){return gs})),n.d(A,"DsfMobileMyscheduleFigure",(function(){return ys})),n.d(A,"DsfMobileMyschedulePopupView",(function(){return bs})),n.d(A,"DsfMobileMyscheduleSearch",(function(){return _s}));var O={};n.r(O),n.d(O,"DsfMobileSendMember",(function(){return xs})),n.d(O,"DsfMobileSendMessage",(function(){return ws})),n.d(O,"DsfMobileSendStatus",(function(){return Cs})),n.d(O,"DsfMobileSendDetails",(function(){return ks})),n.d(O,"DsfMobileSearchMember",(function(){return Ss}));var N=n(2),L=n.n(N),V=[{path:"/iframeloader/:state?",name:"iframeloader",component:function(){return n.e(0).then(n.bind(null,985))},meta:{title:""},props:function(e){return{src:e.query.src}}},{path:"/mobile/error401",meta:{title:"会话已过期",needLogin:!1,waterMark:!1},component:function(){return n.e(27).then(n.bind(null,990))}},{path:"/mobile/deletedForm",meta:{title:"表单内容已删除",needLogin:!1,waterMark:!1},component:function(){return n.e(26).then(n.bind(null,991))}}],H=V,B=(n(306),n(8)),E=n.n(B),Y=n(4),R=n.n(Y),z=n(1),F=n.n(z),q={system_form_save:function(e){var t=e._self.$form;if(t){var n={isRefresh:!0===e.params[0],customParams:e.params[1]||"",savedClose:!0===e.params[2],successMsg:e.params[3]||"保存成功",errorMsg:e.params[4]||"保存失败"};t.formSave(n)}},system_interface_exec:function(e){var t=e.params,n=t[0],i=t[1],s=t[2],a=t[3],r=t[4],o=t[5],l=s?dsf.url.queryStringParse(s):{},c=dsf.layer.loading();e._self.$http[i](n,l).then((function(t){var n=t.data;n.success&&"20000"==n.state?(dsf.layer.message(a,!0),e._self.$dispatch("system-interface-exec-callback",n),e._self.$vm[o]&&e._self.$vm[o](n,e)):dsf.layer.message(n.message,!1)})).catch((function(e){dsf.layer.message(r,!1)})).finally((function(){dsf.layer.closeLoading(c)}))},system_form_next:function(e){return R()(F.a.mark((function t(){var n,i,s,a;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e._self.$vm,!n){t.next=9;break}if(i=e.params[0],s=e.params[1],a=e.params[2]||"",!i){t.next=8;break}return t.next=8,n[i]();case 8:n.$nextTick((function(){var e=n.$pagings;if(e.length<=0)dsf.layer.message("未页面中存在找到分页容器",!1);else{var t,i=_.filter(e,(function(e){return e.number==n.$pagingIndex})),r=null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.nextNumber,o=null;dsf.isDef(r)&&(o=_.filter(e,(function(e){return e.number==r}))),o&&o.length>0?n.$pagingIndex=r:a&&dsf.layer.message(a,!1)}n.$nextTick((function(){s&&n[s]()}))}));case 9:case"end":return t.stop()}}),t)})))()},system_form_pre:function(e){return R()(F.a.mark((function t(){var n,i,s,a;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e._self.$vm,!n){t.next=9;break}if(i=e.params[0],s=e.params[1],a=e.params[2]||"",!i){t.next=8;break}return t.next=8,n[i]();case 8:n.$nextTick((function(){var e=n.$pagings;if(e.length<=0)dsf.layer.message("未页面中存在找到分页容器",!1);else{_.filter(e,(function(e){return e.number==n.$pagingIndex}));var t,i=_.filter(e,(function(e){return e.nextNumber==n.$pagingIndex}));if(i&&i.length>0)n.$pagingIndex=null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.number;else a&&dsf.layer.message(a,!1)}n.$nextTick((function(){s&&n[s]()}))}));case 9:case"end":return t.stop()}}),t)})))()},system_form_delete:function(e){var t=e._self.$form;if(t&&t.$dataKey){var n={isRefresh:!0===e.params[0],successMsg:e.params[1]||"删除成功",errorMsg:e.params[2]||"删除失败"};if(t.$isPrototype)dsf.layer.message(n.successMsg);else{var i=t.$viewData;if(i){var s={namespace:e.owner.$vm.nameSpace,pageName:e.owner.$vm.pageName,isTree:!1,data:JSON.stringify([t.$dataKey])},a=dsf.layer.loading();e._self.$http.post("/meta/list/delete",s,!0).done((function(i){var s=i.success,r=(i.data,i.message);s?(e.owner.$message(n.successMsg,!0),e.owner&&setTimeout((function(){dsf.layer.closeLoading(a),t.$frame?n.isRefresh?t.$router.go(0):t.closeForm():n.isRefresh?t.$router.go(-1):t.$router.back(),setTimeout((function(){t._isDestroyed||t.$router.replace("/mobile/deletedForm")}),300)}),1e3)):(e.owner.$message(r||n.errorMsg,!1),dsf.layer.closeLoading(a))})).error((function(t){e.owner.$message((null===t||void 0===t?void 0:t.message)||"请求异常",!1),dsf.layer.closeLoading(a)}))}}}else dsf.layer.message("请操作正确的页面",!1)},system_form_copy:function(e){var t=e._self.$form,n=t.$dataKey;if(t&&n){if(t.$frame)delete t.$frame.params.id,delete t.$frame.params.isview,t.$frame.params["copyFormId"]=n;else{var i=dsf.mix({},t.$route.query);delete i.id,delete i.isview,i["copyFormId"]=n;var s=t.$route.path+"?"+dsf.url.queryStringStringify(i);t.$router.push(s)}t.$refreshView()}},system_scan:function(e){},system_open_window:function(e){var t=e.params[0]||"";t&&(t.startsWith("#")&&(t=t.substr(1)),t.startsWith("/")||(t="/"+t),e.owner.$router.push({path:t}))},system_batch_flow_send:function(e){n.e(16).then(n.bind(null,948)).then((function(t){t.default(e)}))},system_flow_openDialog:function(e){var t;if(e._self.$vm.$refs)for(var n=0,i=Object.entries(e._self.$vm.$refs);n<i.length;n++){var s=E()(i[n],2),a=(s[0],s[1]);"DsfMobileDataGrid"===a.ctrlName&&(t=a.multipleSelection)}if(t&&0===t.length)dsf.layer.message("请选择至少一条数据",!1);else{var r,o,l=E()(e.params,6),c=l[0],u=l[1],d=(l[2],l[3]),h=l[4],f=l[5];if(f){var p=f.split(","),m=E()(p,2);r=m[0],o=m[1]}var v=[];!t||t&&0===t.length?(e.data[h||"sPID"]||this.$route.query.sCurLinkID)&&v.push({sPID:e.data[h||"sPID"]||this.$route.query.sPID,sCurLinkID:e.data[d||"sCurLinkID"]||this.$route.query.sCurLinkID}):t.forEach((function(e){v.push({sPID:e[h||"sPID"],sCurLinkID:e[d||"sCurLinkID"]})})),this.$openDialog({title:c||"",width:r||"80%",height:o||"500px",params:{path:u||"dsfa/wf/opion"},dialogArgs:{data:v,rowData:e.data},hasFooter:!1,btns:[]})}}},U=dsf.buttons.addButton;U({caption:"二维码扫描",text:"二维码扫描",title:"二维码扫描",actionName:"system_scan",icon:"icon-ico",params:[{value:"",desc:"回调方法",default:""}],moduleName:"基础平台",groupName:"公共",handler:q.system_scan},"mobile"),U({caption:"打开页面",text:"打开页面",title:"打开页面",actionName:"system_open_window",icon:"icon-share",params:[{value:"",desc:"地址",default:"",selector:"url"}],moduleName:"基础平台",groupName:"公共",handler:q.system_open_window},"mobile"),U({caption:"保存",text:"保存",title:"保存",actionName:"system_form_save",icon:"icon-baocun",params:[{value:"",desc:"是否要刷新父页面",default:"true"},{value:"",desc:"保存时附加的参数多用于二次开发判断区分",default:""},{value:"",desc:"如果弹出窗口打开表单,保存后是否关闭窗口",default:"false"},{value:"",desc:"保存成功的提示信息",default:"保存成功"},{value:"",desc:"保存失败的提示信息",default:"保存失败"}],moduleName:"基础平台",groupName:"表单",handler:q.system_form_save},"mobile"),U({caption:"上一题",text:"上一题",title:"上一题",actionName:"system_form_pre",icon:"icon-left",params:[{value:"",desc:"点击按钮触发页码变化前的函数",default:""},{value:"",desc:"点击按钮触发页码变化后的函数",default:""},{value:"已经是第一题了",desc:"未找到上一题的提示",default:""}],moduleName:"基础平台",groupName:"表单",handler:q.system_form_pre},"mobile"),U({caption:"下一题",text:"下一题",title:"下一题",actionName:"system_form_next",icon:"icon-right",params:[{value:"",desc:"点击按钮触发页码变化前的函数",default:""},{value:"",desc:"点击按钮触发页码变化后的函数",default:""},{value:"已经是最后一题了",desc:"未找到下一题的提示",default:""}],moduleName:"基础平台",groupName:"表单",handler:q.system_form_next},"mobile"),U({caption:"删除",text:"删除",title:"删除",actionName:"system_form_delete",icon:"icon-shanchu",if:"!!@[url('id')]",secondConfirm:!0,secondConfirmText:"是否删除此表单数据？",params:[{value:"",desc:"是否要刷新父页面",default:"true"},{value:"",desc:"删除成功的提示信息",default:"删除成功"},{value:"",desc:"删除失败的提示信息",default:"删除失败"}],moduleName:"基础平台",groupName:"表单",handler:q.system_form_delete},"mobile"),U({caption:"再次提交",text:"再次提交",title:"再次提交",actionName:"system_form_copy",icon:"fasong2",params:[],if:"!!@[url('id')]",moduleName:"基础平台",groupName:"表单",handler:q.system_form_copy},"mobile"),U({caption:"发送",text:"发送",title:"发送",actionName:"system_flow_send",icon:"",params:[{value:{type:"code",code:"function handler(data, button, owner, self){\n          //data:表示当前按钮栏所在作用域的数据\n          //button:表示当前按钮对象\n          //owner:表示当前按钮组所在的组件\n          //self:表示按钮栏目组件\n          //this:当前按钮栏所在页面组件对象\n          // 以下是流程发送时候使用的属性 可按照需求增加\n          // sWFID, sObjectID, sObjectName, sPID, sCurLinkID, sCurNodeID\n          // sExInfos, sReceivers, sOpinion, sLineIDs, countDownTime\n          return {\n            sWFID: data.sWFID,\n            sObjectID: data.sObjectID,\n            sObjectName: data.sObjectName,\n            sPID: data.sPID,\n            sCurLinkID: data.sCurLinkID,\n            sCurNodeID: data.sCurNodeID\n          };\n        }"},desc:"",default:{}},{value:"",desc:"分环节发送时，二开显示隐藏相应节点",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.send},"mobile"),U({caption:"批量发送",text:"批量发送",title:"批量发送",actionName:"system_batch_flow_send",icon:"",params:[{value:"",desc:"tableName",default:"tableName 若有几张表格，则以','分割"},{value:"",desc:"ObjectID",default:"ObjectID 若有几张表格，则以','分割"},{value:"",desc:"ObjectName",default:"ObjectName 若有几张表格，则以','分割"}],moduleName:"基础平台",groupName:"流程",handler:q.system_batch_flow_send},"mobile"),U({caption:"弹出流程意见框",text:"弹出流程意见框",title:"弹出流程意见框",actionName:"system_flow_openDialog",icon:"icon-hao",params:[{value:"",desc:"模态框标题",default:"对话框"},{value:"",desc:"打开页面的地址",default:"无"},{value:"",desc:"id",default:"id"},{value:"",desc:"sCurLinkID",default:"sCurLinkID"},{value:"",desc:"sPID",default:"sPID"},{value:"",desc:"模态框宽,高（单位%或px  用,分割）",default:"80%,500px"},{value:"",desc:"模态框保存按钮会抛出的事件, 方便二次开发",default:"system-dialog-save"}],moduleName:"基础平台",groupName:"流程",handler:q.system_flow_openDialog},"mobile"),U({caption:"更换处理人",text:"更换处理人",title:"更换处理人",actionName:"system_flow_changeHandler",icon:"",moduleName:"基础平台",groupName:"流程",handler:dsf.flow.changeHandler,params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}]},"mobile"),U({caption:"销毁",text:"销毁",title:"销毁",actionName:"system_flow_destroy",icon:"",params:[{value:"",desc:"sPID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.destroy},"mobile"),U({caption:"强制办结",text:"强制办结",title:"强制办结",actionName:"system_flow_forceClose",icon:"",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.recovery},"mobile"),U({caption:"退回",text:"退回",title:"退回",actionName:"system_flow_sendBack",icon:"",if:"@[url('sPID')!=undefined]",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.sendBack},"mobile"),U({caption:"回收",text:"回收",title:"回收",actionName:"system_flow_recovery",icon:"",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.recovery},"mobile"),U({caption:"强制回收",text:"强制回收",title:"强制回收",actionName:"system_flow_forceRecovery",icon:"",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.recovery},"mobile"),U({caption:"填写处理意见",text:"填写处理意见",title:"填写处理意见",actionName:"system_flow_add_comment",icon:"",params:[{value:"@[url('sPID')]",desc:"sPID",default:""},{value:"@[url('sCurLinkID')]",desc:"sCurLinkID",default:""}],moduleName:"基础平台",groupName:"流程",handler:dsf.flow.addComment},"mobile"),U({caption:"接口调用",text:"接口调用",title:"接口调用",actionName:"system_interface_exec",icon:"icon-shuaxin1",params:[{value:"",desc:"接口地址",default:"无"},{value:"",desc:"提交类型",default:"post"},{value:"",desc:"提交参数",default:"无"},{value:"",desc:"调用成功后提示信息",default:"操作成功"},{value:"",desc:"调用失败后提示信息",default:"操作失败"},{value:"",desc:"调用成功后回调页面二次开发的函数名称",default:"无"}],moduleName:"基础平台",groupName:"公共",handler:q.system_interface_exec},"mobile");var W=n(3),J=n.n(W),X=n(70),K=n.n(X),G=function(e,t,n){var i,s;if(0!==(null===(i=dsf)||void 0===i||null===(i=i.client)||void 0===i||null===(i=i.type)||void 0===i||null===(s=i.indexOf)||void 0===s?void 0:s.call(i,"IE"))){var a=new CustomEvent(t,{detail:n});e.dispatchEvent(a)}},Q=function(){new K.a(document.body,{pointStart:function(){G(document.body,"pointStart")},multipointStart:function(){G(document.body,"multipointStart")},rotate:function(e){G(e.target,"rotate",e)},pinch:function(e){G(e.target,"pinch",e)},multipointEnd:function(){G(document.body,"multipointEnd")},pressMove:function(e){G(e.target,"pressMove",e)},tap:function(e){G(e.target,"tap",e)},doubleTap:function(e){G(e.target,"doubleTap",e)},longTap:function(e){G(e.target,"longTap",e)},swipe:function(e){G(e.target,"swipe",e)},singleTap:function(e){G(e.target,"singleTap",e)}})},Z=Vue.defineAsyncComponent((function(){return n.e(14).then(n.bind(null,1173))})),ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"ds-loading"},[e.loading?n("van-toast",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{position:"middle",type:"loading","forbid-click":""}}):e._e()],1)},te=[],ne={name:"DsfMobileLoading",components:{},data:function(){return{text:"加载中",loading:!1}},computed:{},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},ie=ne,se=n(0),ae=Object(se["a"])(ie,ee,te,!1,null,null,null),re=ae.exports,oe=Vue.defineLazyComponent((function(){return n(375)})),le=Vue.defineLazyComponent((function(){return n(356)})),ce=Vue.defineLazyComponent((function(){return n(308)})),ue=Vue.defineLazyComponent((function(){return n(354)})),de=Vue.defineLazyComponent((function(){return n(376)})),he=Vue.defineLazyComponent((function(){return n(377)})),fe=Vue.defineLazyComponent((function(){return n(378)})),pe=Vue.defineAsyncComponent((function(){return n.e(12).then(n.bind(null,949))})),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-page mobile",class:e.getCss,style:e.pageStyle,attrs:{"route-url":e.routeUrl}},[n("div",{ref:"head",staticClass:"ds-page-head ds-page-head-color"},[e.hasHeader?n("div",{ref:"headInner",staticClass:"head-inner",attrs:{"slot-name":e.slots[1].name,"page-title":e.title}},[e._t(e.slots[1].name)],2):e._e()]),n("div",{staticClass:"ds-page-content",style:[e.pageContentStyle,e.getBackgroundStyle]},[n("div",{directives:[{name:"mobile-scroll",rawName:"v-mobile-scroll"}],staticClass:"ds-page-center",class:e.pageCenterCss,style:e.conentStyle,attrs:{"slot-name":e.slots[0].name},on:{scroll:e.scrollHandler}},["circular-color-block"==e.styles?[e._m(0)]:e._e(),e._t(e.slots[0].name)],2)]),n("div",{ref:"foot",staticClass:"ds-page-foot ds-page-foot-color",class:{"bottom-safe-area":"foot"==e.$bottomSafeAreaModel},style:{"background-color":e.footerBackground}},[e.hasFooter?n("div",{ref:"footInner",staticClass:"foot-inner",style:e.footInnerStyle,attrs:{"slot-name":e.slots[2].name}},[e._t(e.slots[2].name)],2):e._e()]),n("div",{staticStyle:{display:"none"},domProps:{innerHTML:e._s(e.customCss)}}),!e.isDesign&&e.gotoIcon?n("dsf-mobile-to-designer",{attrs:{title:e.title,"goto-preview":e.gotoPreview}}):e._e()],1)},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"styles-circular-color-block content"},[n("div",{staticClass:"page-banner"})])}],ge=dsf.component({name:"DsfMobilePage",ctrlCaption:"页面",mixins:[$mixins.view],data:function(){return{gotoIcon:"1"==(dsf.config.setting_public_gotoicon||dsf.config.setting_public_gotoIcon),headHeight:0,footHeight:0,footInnerHeight:0,headInnerHeight:0,centerHeight:"auto",headerStyle:{},footerStyle:{},leftAndRIghtStyle:{},containerHeight:0,containerWidth:0}},props:{formItemLabelWidth:{type:Number,default:120},slots:{type:Array,default:function(){return[{name:"center",controls:[]},{name:"head",controls:[]},{name:"foot",controls:[]}]}},pageLevel:{type:Number,default:1},isKeepAlive:{type:Boolean,default:!1},topSafeArea:{type:Boolean,default:!0},bottomSafeArea:{type:[String,Boolean],default:"foot"},contentPadding:{type:Array,default:function(){return["0px","0px","0px","0px"]}},styles:{type:String,default:""},hideScrollbar:{type:Boolean,default:!1}},beforeCreate:function(){},computed:{isShowNavsBar:function(){var e;return!(null===this||void 0===this||null===(e=this.$vm)||void 0===e||!e.isShowNavsBar)},routeUrl:function(){return this.isDesign?["/mobile",this.context.B,this.context.M.replaceAll(".","/"),this.name].join("/")+"?"+dsf.url.queryStringStringify(this.queryString):this.$vm?["/mobile",this.$vm.nameSpace.replaceAll(".","/"),this.$vm.pageName].join("/")+"?"+dsf.url.queryStringStringify(this.queryString):""},$bottomSafeAreaModel:function(){var e=this.$bottomSafeArea;return e||""},$bottomSafeArea:function(){var e=this.isDesign;if(!e){var t=this.isShowNavsBar,n="";return t?"":(dsf.isBoolean(this.bottomSafeArea)?!0===this.bottomSafeArea&&(n="foot"):n=this.bottomSafeArea,n)}return""},$topSafeArea:function(){var e=this.isDesign;return!e},getCss:function(){return[].concat(L()(this.$getClass()),["1"===this.fit||!0===this.fit?"fit":""])},pageStyle:function(){var e=this.headHeight,t=this.footHeight;return this.isDesign||(e=e,t=t||0),{"padding-top":e+"px","padding-bottom":t+"px"}},pageContentStyle:function(){return{width:this.isDesign?"auto":"100%"!=this.pageWidth&&this.pageWidth?this.pageWidth:"auto",margin:"auto"}},conentStyle:function(){return{"padding-left":this.unitSize(this.contentPadding[3],"rem"),"padding-right":this.unitSize(this.contentPadding[1],"rem"),"padding-top":this.unitSize(this.contentPadding[0],"rem"),"padding-bottom":this.unitSize(this.contentPadding[2],"rem")}},pageCenterCss:function(){var e=!1,t=!1,n=this.isDesign,i=this.isBannerBackground,s=this.$bottomSafeAreaModel,a=this.hideScrollbar;return n||("center"==s&&(e=!0),t=a),[i?"banner-background":"",e?"bottom-safe-area":"",t?"no-scroll":""]},hasHeadInner:function(){return this.headInnerHeight>1},hasFootInner:function(){return this.footInnerHeight>1},footInnerStyle:function(){return{visibility:this.hasFootInner?"visible":"hidden"}}},created:function(){var e=this;this._debounceResize=_.debounce((function(){e.resize()}),50),this.isDesign&&dsf.isBoolean(this.bottomSafeArea)&&this.$emit("update:bottomSafeArea",this.bottomSafeArea?"foot":"")},destroyed:function(){},beforeDestroy:function(){this.resizeob&&(this.resizeob.unobserve(this.$refs.head),this.resizeob.unobserve(this.$refs.foot),this.resizeob.disconnect())},beforeMount:function(){},mounted:function(){this.isDesign&&(this.resizeob=new ResizeObserver(this.watchCenterHeight),this.resizeob.observe(this.$refs.head),this.resizeob.observe(this.$refs.foot),this.resize())},updated:function(){this._debounceResize()},methods:{scrollHandler:function(e){var t=this;if(!this.isDesign){var n={target:this,evt:e};this.$nextTick((function(){t.$eventBus.$emit("page-scroll",n)}))}},topSafeAreaAdapter:function(){dsf.ui.topSafeAreaAdapter(this.$el)},getContentHeight:function(){if(this.$el&&1==this.$el.nodeType){var e=this.getHeadAndFootHeight(),t=e.headHeight,n=e.footHeight;return this.$el.offsetHeight-(t+n)}},watchCenterHeight:function(){this.setCenterHeight()},getHeadAndFootHeight:function(){var e=this.headHeight,t=this.footHeight;return{headHeight:e,footHeight:t}},setCenterHeight:function(){var e=this.$refs.head?this.$refs.head:null,t=this.$refs.foot?this.$refs.foot:null,n=this.$refs.footInner?this.$refs.footInner:null,i=this.$refs.headInner?this.$refs.headInner:null;this.headHeight=e&&e.offsetHeight>1?e.offsetHeight:0,this.footHeight=t&&t.offsetHeight>1?t.offsetHeight:0,this.footInnerHeight=n&&n.offsetHeight>1?n.offsetHeight:0,this.headInnerHeight=i&&i.offsetHeight>1?i.offsetHeight:0},setContainerSize:function(){if(this.$el){var e=$(this.$el.parentNode);this.containerHeight=e.innerHeight(),this.containerWidth=e.innerWidth()}},resize:function(){var e=this;this.isDesign||this.topSafeAreaAdapter(),this.setContainerSize(),this.setCenterHeight(),this.$nextTick((function(){e.$vm&&e.$vm.$emit("page-resize")}))},gotoPreview:function(){var e="~/designer.html#/mobile/page";if(this.openDesignerUrl&&(e=this.openDesignerUrl),this.$vm){var t=this.$vm.nameSpace.split("."),n=t[0],i=t.slice(1).join("."),s=this.$vm.pageName,a=dsf.url.getWebPath("".concat(e,"?B=").concat(n,"&M=").concat(i,"&pname=").concat(s,"&title=").concat(this.title,"&templateType=2"));window.open(a,"_blank")}}}}),ye=ge,be=Object(se["a"])(ye,me,ve,!1,null,null,null),_e=be.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showBar,expression:"showBar"}],staticClass:"ds-control ds-button-bar mobile",class:e.getCss},[e.isDesign&&0==e.showButtonsReal.length?[n("div",{staticStyle:{"text-align":"center","background-color":"#fff",width:"100%",padding:"5px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v(" 未配置按钮 ")])]:e._e(),"justify-iconleft-buttonright"!=e.align?n("div",{staticClass:"bar-wrap"},[e._l(e.showButtonsReal,(function(t,i){return[n("DsfMobileButton",{key:i,staticClass:"ds-button-bar-item",style:e.getButtonStyle(t),attrs:{name:t.id,icon:e.getIcon(t),title:t.title,disabled:t.disabled,size:e.size,type:t.type,"btn-style":t.btnStyle,"icon-position":t.iconPosition},on:{click:function(n){return e.clickHandler(t,n)}}},[e._v(" "+e._s(t.text)+" ")])]})),e.moreButtonsReal.length>0?n("DsfMobileButton",{staticClass:"ds-button-bar-item",style:e.getButtonStyle(),attrs:{name:"_more_","btn-style":e.moreButtonStyle,type:"plain",size:e.size,icon:"icon-text"==e.moreButtonStyle?"gengduo1":""},on:{click:e.open}},[e._v(" "+e._s(e.moreButtonText)+" ")]):e._e()],2):"justify-iconleft-buttonright"==e.align?n("div",{directives:[{name:"show",rawName:"v-show",value:e.showButtonsReal&&e.showButtonsReal.length>0,expression:"showButtonsReal&&showButtonsReal.length>0"}],staticClass:"bar-wrap"},[e.hasIconButtons?n("div",{staticClass:"icon-button-bar"},[e._l(e.iconButtons,(function(t,i){return[n("DsfMobileButton",{key:i,staticClass:"ds-button-bar-item",style:e.getButtonStyle(t),attrs:{name:t.id,icon:e.getIcon(t),title:t.title,disabled:t.disabled,size:e.size,type:t.type,"icon-position":t.iconPosition,"btn-style":t.btnStyle},on:{click:function(n){return e.clickHandler(t,n)}}},[e._v(" "+e._s(t.text)+" ")])]})),e.moreButtonsReal.length>0&&"icon-text"==e.moreButtonStyle?n("DsfMobileButton",{staticClass:"ds-button-bar-item",style:e.getButtonStyle(),attrs:{name:"_more_","btn-style":e.moreButtonStyle,size:e.size,icon:"gengduo1"},on:{click:e.open}},[e._v(" "+e._s(e.moreButtonText)+" ")]):e._e()],2):e._e(),e.hasGeneralButtons?n("div",{staticClass:"normal-button-bar"},[e._l(e.generalButtons,(function(t,i){return[n("DsfMobileButton",{key:i,staticClass:"ds-button-bar-item",style:e.getGeneralButtonsStyle(t),attrs:{name:t.id,icon:e.getIcon(t),title:t.title,disabled:t.disabled,size:e.size,"icon-position":t.iconPosition,type:t.type,"btn-style":t.btnStyle},on:{click:function(n){return e.clickHandler(t,n)}}},[e._v(" "+e._s(t.text)+" ")])]})),e.moreButtonsReal.length>0&&"icon-text"!=e.moreButtonStyle?n("DsfMobileButton",{staticClass:"ds-button-bar-item",style:e.getGeneralButtonsStyle(),attrs:{name:"_more_","btn-style":e.moreButtonStyle,type:"plain",size:e.size,icon:""},on:{click:e.open}},[e._v(" "+e._s(e.moreButtonText)+" ")]):e._e()],2):e._e()]):e._e(),e.actionSheetShow?n("van-action-sheet",{attrs:{"get-container":"body"},on:{closed:e.closed},model:{value:e.moreOpen,callback:function(t){e.moreOpen=t},expression:"moreOpen"}},e._l(e.moreButtonsReal,(function(t,i){return n("button",{key:i,staticClass:"van-action-sheet__item",class:{"van-action-sheet__item--disabled":t.disabled},attrs:{type:"button"},on:{click:function(n){return e.clickHandler(t,n)}}},[n("span",{staticClass:"van-action-sheet__name"},[e._v(e._s(t.text))])])})),0):e._e()],2)},we=[];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=dsf.component({name:"DsfMobileButtonBar",ctrlCaption:"按钮组",mixins:[$mixins.control,$mixins.buttonBar],props:{styles:{type:String,default:"normal"}},data:function(){return{moreOpen:!1,actionSheetShow:!1,flowButtons:[],buttonHandler:dsf.buttons.getButtonHander,client:"mobile"}},computed:{actions:function(){return _.map(this.moreButtonsReal,(function(e){return{name:e.text,disabled:e.disabled}}))},showBar:function(){return!!this.isDesign||this.validButtons.length>0},validButtons:function(){var e=this;return _.filter(this.buttons,(function(t){return!!e.showAndHide(t)&&(e.disabledFactor(t),!0)}))},moreButtonsReal:function(){var e=this;return _.filter(this.validButtons,(function(t,n){return n>=e.maxNumber}))},showButtonsReal:function(){var e=this;return _.filter(this.validButtons,(function(t,n){return n<e.maxNumber}))},getCss:function(){return ke(ke({},this.$getClass()),{},J()({},"align-"+this.align,!0))},iconButtons:function(){return _.filter(this.showButtonsReal,(function(e){return"icon-text"==e.btnStyle}))},generalButtons:function(){return _.filter(this.showButtonsReal,(function(e){return""==e.btnStyle}))},hasIconButtons:function(){if(this.iconButtons.length||this.moreButtonsReal.length>0&&"icon-text"==this.moreButtonStyle)return!0;var e=_.filter(this.showButtonsReal,(function(e){return"icon-text"==e.btnStyle}));return e.length>0},hasGeneralButtons:function(){if(this.moreButtonsReal.length>0&&"icon-text"==this.moreButtonStyle)return!0;var e=_.filter(this.showButtonsReal,(function(e){return""==e.btnStyle}));return e.length>0}},beforeCreate:function(){},created:function(){},methods:{getButtonStyle:function(e,t){var n={};if("justify-horizontal"==this.align)if(this.showButtonsReal.length>1){var i="calc(100% / ".concat(this.showButtonsReal.length+(this.moreButtonsReal.length>0?1:0)," - ").concat(this.pxToRem("5px"),")");n["min-width"]=i,n["max-width"]=i,n["width"]=i}else n["min-width"]="100%";return"justify-vertical"==this.align&&(n["min-width"]="100%"),null!==e&&void 0!==e&&e.background_color&&(n.backgroundColor=e.background_color,n.borderColor=e.background_color),n},getGeneralButtonsStyle:function(e){var t={},n=!1;this.moreButtonsReal.length>0&&"icon-text"!=this.moreButtonStyle&&(n=!0);var i="calc(100% / ".concat(this.generalButtons.length+(n?1:0)," - ").concat(this.pxToRem("5px"),")");return t["min-width"]=i,t["max-width"]=i,t["width"]=i,t},reloadData:function(){this.$forceUpdate()},disabledFactor:function(e){var t=!1;if(!this.isDesign&&!this.$isPreView){if(e.disabledFactor){var n=this.$expressParams(this.local);t=!1!==this.$eval(e.disabledFactor,n)}else t=!!dsf.isDef(e.disabled)&&e.disabled;this.disabledButton&&(t=this.disabledButton(e,t,data))}e.disabled=t},showAndHide:function(e){var t=!0;if(!this.isDesign&&!this.$isPreView){var n=this.$expressParams(this.local);if(e.if){var i=this.$expressParams(this.local);t=!1!==this.$eval(e.if,i)}else{var s,a;t=!e.syncRead||!(null!==this&&void 0!==this&&null!==(s=this.owner)&&void 0!==s&&s.readOnly||null!==this&&void 0!==this&&null!==(a=this.$vm)&&void 0!==a&&null!==(a=a.$data)&&void 0!==a&&a.$forceReadOnly)}t&&e.isSystem&&(e.actionName.indexOf("system_flow")>-1||e.actionName.indexOf("system_batch_flow")>-1)&&this.$form&&(t=this.hideFlowBtn(e)),!1===e.visible&&(t=!1),this.renderButton&&(t=this.renderButton(e,t,n))}return t},clickHandler:function(e,t,n){var i=this;return R()(F.a.mark((function s(){var a;return F.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=$mixins.buttonBar.methods.clickHandler,s.next=3,a.call(i,e,t,n);case 3:i.moreOpen=!1,t.stopPropagation();case 5:case"end":return s.stop()}}),s)})))()},getIcon:function(e){var t=e.icon;return t&&t.startsWith("icon-")?t.replace("icon-",""):t},triggerButtonClick:function(e){this.clickHandler(e)},open:function(){var e=this;this.actionSheetShow=!0,this.$nextTick((function(){e.moreOpen=!0}))},closed:function(){this.actionSheetShow=!1,this.moreOpen=!1},onSelect:function(){}},beforeDestroy:function(){this.actionSheetShow=!1,this.moreOpen=!1},destroyed:function(){}}),De=Se,$e=Object(se["a"])(De,xe,we,!1,null,null,null),Me=$e.exports,Te=dsf.defineAsyncComponent("DsfMobileNavTab",(function(){return n.e(28).then(n.bind(null,1174))})),je=dsf.defineLazyComponent("DsfMobileButtonNav",(function(){return n(379)})),Ie=dsf.defineLazyComponent("DsfMobileNavBar",(function(){return n(380)})),Pe=dsf.defineAsyncComponent("DsfDemoBrowserNavBar",(function(){return n.e(22).then(n.bind(null,1175))})),Ae=dsf.defineAsyncComponent("DsfMobileBanner",(function(){return n.e(22).then(n.bind(null,1176))})),Oe=dsf.defineAsyncComponent("DsfMobileNavMenu",(function(){return n.e(22).then(n.bind(null,1177))})),Ne=dsf.defineAsyncComponent("DsfMobileNavMenuCell",(function(){return n.e(22).then(n.bind(null,1178))})),Le=dsf.defineAsyncComponent("DsfMobileConvenientMenu",(function(){return n.e(22).then(n.bind(null,974))})),Ve=dsf.defineAsyncComponent("DsfMobileCalendarNav",(function(){return n.e(22).then(n.bind(null,1179))})),He=dsf.defineAsyncComponent("DsfMobileRollingNews",(function(){return n.e(22).then(n.bind(null,1180))})),Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-html"},[e.isDesign?n("div",{staticStyle:{"text-align":"center","background-color":"#fff",padding:"3px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v("html片段")]):n("div",{staticStyle:{"text-align":"center","background-color":"#fff",padding:"20px 0px","font-style":"italic",color:"#c0c0c0"}},[e._v(" html组件因为绑定数据原因只能在正式运行下查看 ")])])},Ee=[],Ye=dsf.component({name:"DsfMobileHtml",ctrlCaption:"Html",mixins:[$mixins.control],props:{html:{type:String,default:""}}}),Re=Ye,ze=Object(se["a"])(Re,Be,Ee,!1,null,null,null),Fe=ze.exports,qe=Vue.defineAsyncComponent((function(){return n.e(29).then(n.bind(null,1181))})),Ue=Vue.defineAsyncComponent((function(){return n.e(29).then(n.bind(null,1182))})),We=Vue.defineAsyncComponent((function(){return n.e(29).then(n.bind(null,1183))})),Je=Vue.defineAsyncComponent((function(){return n.e(29).then(n.bind(null,965))})),Xe=Vue.defineAsyncComponent((function(){return n.e(29).then(n.bind(null,1184))})),Ke=dsf.defineAsyncComponent("DsfMobileDataGrid",(function(){return dsf.requestAsyncComponents([qe,Ue,We,Je,Xe]).then((function(e){return n.e(13).then(n.bind(null,1185))}))})),Ge=dsf.defineAsyncComponent("DsfMobileStaticList",(function(){return n.e(25).then(n.bind(null,1186))})),Qe=dsf.defineAsyncComponent("DsfMobileNewsInfo",(function(){return n.e(23).then(n.bind(null,1187))})),Ze=dsf.defineAsyncComponent("DsfMobileNewsDetail",(function(){return n.e(23).then(n.bind(null,1188))})),et=dsf.defineAsyncComponent("DsfMobileTextbox",(function(){return n.e(17).then(n.bind(null,1189))})),tt=dsf.defineAsyncComponent("DsfMobileTextArea",(function(){return n.e(17).then(n.bind(null,1190))})),nt=dsf.defineLazyComponent("DsfMobileAutoComplete",(function(){return n(381)})),it=dsf.defineAsyncComponent("DsfMobileUeditor",(function(){return n.e(17).then(n.bind(null,1191))})),st=dsf.defineAsyncComponent("DsfMobileCarNumber",(function(){return n.e(17).then(n.bind(null,1192))}));function at(){return n.e(17).then(n.bind(null,1193))}var rt=dsf.defineAsyncComponent("DsfMobileSelect",(function(){return n.e(17).then(n.bind(null,1194))})),ot=dsf.defineAsyncComponent("DsfMobileRadioBox",(function(){return n.e(17).then(n.bind(null,1195))})),lt=dsf.defineAsyncComponent("DsfMobileCheckBox",(function(){return n.e(17).then(n.bind(null,1196))})),ct=dsf.defineAsyncComponent("DsfMobileSwitch",(function(){return n.e(17).then(n.bind(null,1197))})),ut=dsf.defineAsyncComponent("DsfMobileDataChoice",at),dt=dsf.defineAsyncComponent("DsfMobileCascader",(function(){return n.e(17).then(n.bind(null,1198))})),ht=dsf.defineAsyncComponent("DsfMobileAreaSelect",(function(){return n.e(17).then(n.bind(null,1199))})),ft=dsf.defineAsyncComponent("DsfMobileOuaSelect",(function(){return dsf.requestAsyncComponents(ut).then((function(){return n.e(17).then(n.bind(null,1284))}))})),pt=dsf.defineAsyncComponent("DsfMobileSignature",(function(){return n.e(17).then(n.bind(null,1200))})),mt=dsf.defineAsyncComponent("DsfMobileCol",(function(){return n.e(19).then(n.bind(null,933))})),vt=dsf.defineAsyncComponent("DsfMobileRow",(function(){return dsf.requestAsyncComponents(mt).then((function(){return n.e(19).then(n.bind(null,1201))}))})),gt=dsf.defineAsyncComponent("DsfMobileViewPart",(function(){return n.e(19).then(n.bind(null,1202))})),yt=dsf.defineAsyncComponent("DsfMobileFastFormLayout",(function(){return n.e(19).then(n.bind(null,1203))})),bt=dsf.defineAsyncComponent("DsfMobileSection",(function(){return n.e(19).then(n.bind(null,1204))})),_t=dsf.defineAsyncComponent("DsfMobileLazyBox",(function(){return n.e(19).then(n.bind(null,1205))})),xt=dsf.defineAsyncComponent("DsfMobilePaging",(function(){return n.e(19).then(n.bind(null,1206))})),wt=dsf.defineAsyncComponent("DsfMobileMapWrap",(function(){return n.e(19).then(n.bind(null,1207))})),Ct=dsf.defineAsyncComponent("DsfMobileTreeInfo",(function(){return n.e(30).then(n.bind(null,1208))})),kt=dsf.defineAsyncComponent("DsfMobileTree",(function(){return n.e(30).then(n.bind(null,1209))})),St=dsf.defineAsyncComponent("DsfMobileTreeSelector",(function(){return n.e(30).then(n.bind(null,1210))})),Dt=dsf.defineAsyncComponent("DsfMobileCheckNode",(function(){return dsf.requestAsyncComponents(St).then((function(){return n.e(30).then(n.bind(null,1285))}))})),$t=dsf.defineAsyncComponent("DsfMobileTreeInterface",(function(){return n.e(30).then(n.bind(null,1211))})),Mt=dsf.defineAsyncComponent("DsfMobileIndexBar",(function(){return n.e(30).then(n.bind(null,1212))})),Tt=dsf.defineAsyncComponent("DsfMobileUpdateTime",(function(){return n.e(17).then(n.bind(null,1213))})),jt=dsf.defineAsyncComponent("DsfMobileCreateTime",(function(){return n.e(17).then(n.bind(null,1214))})),It=dsf.defineAsyncComponent("DsfMobileUpdateUserName",(function(){return n.e(17).then(n.bind(null,1215))})),Pt=dsf.defineAsyncComponent("DsfMobileCreateUserName",(function(){return n.e(17).then(n.bind(null,1216))})),At=dsf.defineAsyncComponent("DsfMobileCreateUserId",(function(){return n.e(17).then(n.bind(null,1217))})),Ot=dsf.defineAsyncComponent("DsfMobileUpdateUserId",(function(){return n.e(17).then(n.bind(null,1218))})),Nt=dsf.defineAsyncComponent("DsfMobileOrder",(function(){return n.e(17).then(n.bind(null,1219))})),Lt=dsf.defineAsyncComponent("DsfMobileDeletedStatus",(function(){return n.e(17).then(n.bind(null,1220))})),Vt=dsf.defineAsyncComponent("DsfMobileUploadFile",(function(){return n.e(31).then(n.bind(null,1221))})),Ht=dsf.defineAsyncComponent("DsfMobileUploadImg",(function(){return n.e(31).then(n.bind(null,1222))})),Bt=dsf.defineAsyncComponent("DsfMobileUploadPhoto",(function(){return n.e(31).then(n.bind(null,1223))})),Et=Vue.defineAsyncComponent((function(){return n.e(31).then(n.bind(null,975))})),Yt=dsf.defineAsyncComponent("DsfMobileDatePicker",(function(){return n.e(17).then(n.bind(null,1224))})),Rt=dsf.defineAsyncComponent("DsfMobileDateIntervalPicker",(function(){return n.e(17).then(n.bind(null,1225))})),zt=dsf.defineAsyncComponent("DsfMobileTimePicker",(function(){return n.e(17).then(n.bind(null,1226))})),Ft=dsf.defineAsyncComponent("DsfMobileSubTable",(function(){return n.e(28).then(n.bind(null,1227))})),qt=dsf.defineAsyncComponent("DsfMobileFlowInfo",(function(){return n.e(15).then(n.bind(null,1228))})),Ut=dsf.defineAsyncComponent("DsfMobileFlowProcess",(function(){return n.e(15).then(n.bind(null,1229))})),Wt=dsf.defineAsyncComponent("DsfMobileDisposeIdea",(function(){return n.e(15).then(n.bind(null,1230))})),Jt=dsf.defineAsyncComponent("DsfMobileChooseSendNode",(function(){return n.e(15).then(n.bind(null,1231))})),Xt=dsf.defineAsyncComponent("DsfMobileFormCommentBox",(function(){return n.e(15).then(n.bind(null,1232))})),Kt=Vue.defineAsyncComponent((function(){return n.e(15).then(n.bind(null,1233))})),Gt=Vue.defineAsyncComponent((function(){return n.e(15).then(n.bind(null,1234))})),Qt=Vue.defineAsyncComponent((function(){return n.e(15).then(n.bind(null,1235))})),Zt=Vue.defineAsyncComponent((function(){return n.e(15).then(n.bind(null,1236))})),en=dsf.defineLazyComponent("DsfMobileSlideWarp",(function(){return n(382)})),tn=dsf.defineLazyComponent("DsfMobileUploadDesignImg",(function(){return n.e(31).then(n.bind(null,1237))})),nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-label-box mobile ds-no-padding",class:e.getCss,style:e.getStyle,on:{dblclick:e.beginEdit}},[e.isDesign?[n("label",{staticClass:"ds_label"},[e.editting?n("el-input",{ref:"contenteditable",style:{color:e.realColor},attrs:{type:"textarea",autosize:"",placeholder:"请输入内容",resize:"none"},on:{blur:e.endEdit},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):n("span",{staticClass:"ds_label-text",class:{ellipsis:e.oneLine},style:{color:e.realColor},attrs:{title:e.value}},[e._v(e._s(e.value||"无内容"))])],1)]:n("label",{staticClass:"ds_label"},[n("span",{staticClass:"ds_label-text",class:{ellipsis:e.oneLine},style:{color:e.realColor},attrs:{title:e.value}},[e._v(e._s(e.value))])])],2)},sn=[],an=dsf.component({name:"DsfMobileLabel",mixins:[$mixins.text],inheritAttrs:!1,ctrlCaption:"文本",props:{value:{type:[String,Number],default:"文本标签"},isBold:{type:Boolean,default:!1},textAlign:{type:String,default:""},fontType:{type:[Number,String],default:""},height:{type:String,default:""},oneLine:{type:Boolean,default:!1}},data:function(){return{editting:!1,$required:!1}},computed:{getCss:function(){var e=this.$getClass();return this.isBold&&e.push("ds-bold"),this.fontType&&e.push("ds-font"+this.fontType),e.push("text-"+this.$textAlign,this.$required?"ds_required":""),e},$textAlign:{get:function(){var e=this.textAlign||"left";return e.startsWith("text-")&&(e=e.replace("text-","")),e},set:function(e){var t=e||"left";t.startsWith("text-")&&(t=t.replace("text-","")),this.$emit("update:textAlign",t)}},getStyle:function(){var e=this,t={};return this.isDesign||(t.padding=_.map(this.padding,(function(t){return e.unitSize(t,"rem")})).join(" ")),this.height&&(t["line-height"]=this.unitSize(this.height,"rem")),t}},methods:{beginEdit:function(){var e=this;this.isDesign&&(this.editting=!0,this.__startValue=this.value,this.$nextTick().then((function(){setTimeout((function(){e.$refs.contenteditable.focus()}),100)})))},endEdit:function(e){if(this.isDesign){this.editting=!1;var t=e.target.value;this.__startValue!=t&&this.$designer.recordPageChange()}}}}),rn=an,on=Object(se["a"])(rn,nn,sn,!1,null,null,null),ln=on.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-label-box mobile ds-no-padding",class:e.getCss,style:e.getStyle,on:{dblclick:e.beginEdit}},[e.isDesign?[e.editting?n("el-input",{ref:"contenteditable",class:e.getLabelCss,style:{color:e.realColor},attrs:{type:"textarea",autosize:"",placeholder:"请输入内容",resize:"none"},on:{blur:e.endEdit},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):n("label",{staticClass:"ds_label",class:e.getLabelCss},[n("span",{staticClass:"ds_label-text",style:{color:e.realColor}},[e._v(e._s(e.value||"无内容"))])])]:n("label",{staticClass:"ds_label",class:e.getLabelCss},[n("span",{staticClass:"ds_label-text",style:{color:e.realColor}},[e._v(e._s(e.value))])]),n("div",{staticClass:"ds-label-box-right"},[e._t("default",(function(){return[""!=e.rightIcon?n("i",{staticClass:"ds-label-box-right-icon iconfont",class:[e.getIcon(e.rightIcon)],style:e.rightIconStyle}):e._e()]}))],2)],2)},un=[],dn=dsf.component({name:"DsfMobileTitle",mixins:[$mixins.text],inheritAttrs:!1,ctrlCaption:"标题",props:{value:{type:[String,Number],default:"标题"},fontType:{type:Number,default:1},showColorLump:{type:Boolean,default:!1},showUnderline:{type:Boolean,default:!1},showWeight:{type:Boolean,default:!1},textAlign:{type:String,default:""},rightIcon:{type:String,default:""},rightIconColor:{type:String,default:"#888"},rightIconBold:{type:Boolean,default:!1},padding:{type:Array,default:function(){return[8,8,8,8]}}},data:function(){return{editting:!1,$required:!1}},computed:{getStyle:function(){var e=this,t={};return this.isDesign||(t.padding=_.map(this.padding,(function(t){return e.unitSize(t,"rem")})).join(" ")),t},getCss:function(){var e=this.$getClass();return e.push("text-"+this.$textAlign,this.showColorLump?"ds-showColorLump":"","ds_font_"+this.fontFamily,this.$required?"ds_required":""),e},getLabelCss:function(){return["ds-font"+this.fontType,this.showUnderline?"underline":"",this.showWeight?"title":""]},rightIconStyle:function(){return{color:this.$compileColor(this.rightIconColor),"font-weight":this.rightIconBold?"bold":"normal"}},$textAlign:{get:function(){var e=this.textAlign||"left";return e.startsWith("text-")&&(e=e.replace("text-","")),e},set:function(e){var t=e||"left";t.startsWith("text-")&&(t=t.replace("text-","")),this.$emit("update:textAlign",t)}}},methods:{beginEdit:function(){var e=this;this.editting=!0,this.__startValue=this.value,this.$nextTick().then((function(){e.$refs.contenteditable&&setTimeout((function(){e.$refs.contenteditable.focus()}),100)}))},endEdit:function(e){if(this.isDesign){this.editting=!1;var t=e.target.value;this.__startValue!=t&&this.$designer.recordPageChange()}},getIcon:function(e){return e&&""!=e?e.indexOf("icon-")?"icon-"+e:e:""}}}),hn=dn,fn=Object(se["a"])(hn,cn,un,!1,null,null,null),pn=fn.exports,mn=dsf.component({name:"DsfMobileTitle1",mixins:[pn],ctrlCaption:"标题1",props:{value:{type:[String,Number],default:"标题1"},fontType:{type:Number,default:1}}}),vn=dsf.component({name:"DsfMobileTitle2",mixins:[pn],ctrlCaption:"标题2",props:{value:{type:[String,Number],default:"标题2"},fontType:{type:Number,default:2}}}),gn=dsf.component({name:"DsfMobileTitle3",mixins:[pn],ctrlCaption:"标题3",props:{value:{type:[String,Number],default:"标题3"},fontType:{type:Number,default:3}}}),yn=dsf.component({name:"DsfMobileTitle4",mixins:[pn],ctrlCaption:"标题4",props:{value:{type:[String,Number],default:"标题4"},fontType:{type:Number,default:4}}}),bn=dsf.component({name:"DsfMobileTitle5",mixins:[pn],ctrlCaption:"标题5",props:{value:{type:[String,Number],default:"标题5"},fontType:{type:Number,default:5}}}),_n=dsf.component({name:"DsfMobileTitle6",mixins:[pn],ctrlCaption:"标题6",props:{value:{type:[String,Number],default:"标题6"},fontType:{type:Number,default:6}}}),xn=dsf.defineLazyComponent("DsfMobilePlatformCardBox",(function(){return n(383)})),wn=dsf.defineAsyncComponent("DsfMobileVirtualTree",(function(){return n.e(30).then(n.bind(null,1238))})),Cn=dsf.defineAsyncComponent("DsfMobileQrcode",(function(){return n.e(24).then(n.bind(null,1239))})),kn=n(30),Sn={b:["style","class"],span:["style","class"],font:["style","class"],div:["style","class"],br:["style","class"],p:["style","class"],h1:["style","class"],h2:["style","class"],h3:["style","class"],h4:["style","class"],h5:["style","class"],h6:["style","class"],pre:["style","class"],svg:["class","viewBox","xmlns","width","height","style"],img:["style","class"],ul:["style","class"],li:["style","class"],ol:["style","class"]},Dn={1:"success",2:"warning",0:"fail"},$n={openWindow:function(e){if("string"==dsf.type(e)){var t="";t=e,e={},e.url=t}var n={openerVm:this._isVue?this:null,url:"",dialogArgs:null};if(e=dsf.mix(n,e),e.url.startsWith("http://")||e.url.startsWith("https://"))window.location.href=e.url;else{e.url.startsWith("#/")&&(e.url=e.url.substr(1)),e.url.startsWith("/")||(e.url="/"+e.url);var i=dsf.url.parse(e.url);dsf.global.$windowArgs||(dsf.global.$windowArgs={}),dsf.global.$windowArgs[i.pathname]=n.dialogArgs||{};var s=dsf.getVueAppRoot(),a=this.$router||(null===s||void 0===s?void 0:s.$options.router)||e.router;a.push({path:e.url,query:e.query||{}})}},openDialog:function(e){var t,n,i,s="DsfMobileViewPart",a=this._isVue?this:null,r=null;e.template||(e.params&&e.params.path&&!e.content&&(e.content=s),e.content==s&&(e.params.showModel="full",e.params.isOpenDialog=!0,e.params.forceUpdate=!1),e.content&&"string"!==dsf.type(e.content)&&e.content.name&&(r={name:e.content.name+"DialogCopy",inject:{$dialog:{default:null}},mixins:[e.content]},e.content=r.name));var o=[];o="dialog"==e.type?[":type=type",'@closed="cancel"',':before-close="confirmBeforeClose"',":width=$width",':show-confirm-button="showConfirmButton"',':show-cancel-button="showCancelButton"',':confirm-button-text="confirmButtonText"',':cancel-button-text="cancelButtonText"',':show-close="showClose"',':className="className"']:[":type=type",":class=\"{'has-button-bar':btns.length>0}\"",':has-header="hasHeader"',':has-footer="hasFooter"',':width="$width"',':height="$height"','@close="close"','@closed="cancel"',':round="round"',':position="position"',':show-close="showClose"',':className="className"'];var l=e.position||"bottom",c=e.btnPosition,u=dsf.getVueAppRoot(),d=this.$router||(null===(t=u)||void 0===t?void 0:t.$options.router)||e.router,h=this.$store||(null===(n=u)||void 0===n?void 0:n.$options.store)||e.store,f=this.$i18n||(null===(i=u)||void 0===i?void 0:i.$options.i18n)||e.i18n,p=a?a.$service:{},m=d?d.apps[0]:u,v={router:d,store:h,i18n:f,provide:function(){return{$isMobile:!0,$serviceInfo:p}},data:function(){return{type:e.type||"popup",dialogVisible:!0,title:e.title||"对话框",content:e.content,width:e.width||"auto",height:e.height||"auto",destroyOnClose:!0,params:e.params||{},overflow:e.overflow||"auto",btns:e.btns||[],events:e.event,fullscreen:e.fullscreen,openerVm:a,dialogArgs:e.dialogArgs||null,showClose:!dsf.isDef(e.showClose)||e.showClose,position:l,btnPosition:c,round:!!e.round,hasHeader:!1!==e.hasHeader,hasFooter:!1!==e.hasFooter,showConfirmButton:e.showConfirmButton,showCancelButton:e.showCancelButton,confirmButtonText:e.confirmButtonText,cancelButtonText:e.cancelButtonText,beforeClosed:e.closed||dsf.noop,customBtn:e.customBtn||null,className:e.className,autoCloseConfig:dsf.mix(!0,{},e.autoCloseConfig||{},{routerChange:"close"})}},destroyed:function(){for(var t in this._data)this._data[t]=null;dsf.array.remove((null===m||void 0===m?void 0:m.$dialogAll)||[],this),e=null,a=null,u=null,d=null,h=null,f=null,p=null},computed:{$width:function(){var e=this.type;return"popup"==e?"bottom"==this.position||"top"==this.position?"100vw":this.width:"auto"!=this.width&&this.width?dsf.pxToRem(this.width):dsf.pxToRem(320)},$height:function(){var e=this.type;return"popup"==e?"left"==this.position||"right"==this.position?"100vh":this.height:dsf.pxToRem(this.height)}},methods:{dialogSure:function(){e.yes(this.$refs.content),this.close()},clickHandler:function(e){var t=this;return R()(F.a.mark((function n(){var i;return F.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=!0,!e||!e.handler){n.next=5;break}return n.next=4,e.handler(t.$refs.content,t.$refs);case 4:i=n.sent;case 5:return!1!==i&&t.close(),n.abrupt("return",i);case 7:case"end":return n.stop()}}),n)})))()},close:function(){"function"==dsf.type(this.beforeClosed)&&this.beforeClosed(),this.dialogVisible=!1},cancel:function(){var e=this;e.destroy()},confirmBeforeClose:function(e,t){var n=this;return R()(F.a.mark((function i(){var s;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.clickHandler("confirm"==e?n.btns[0]:n.btns[1]);case 2:s=i.sent,!1!==s&&"function"==dsf.type(n.beforeClosed)&&n.beforeClosed(),t(!1!==s);case 5:case"end":return i.stop()}}),i)})))()},destroy:function(){var t=this;y&&(y=null),window.setTimeout((function(){e=null,a=null,p=null,t.$destroy()}),0)}},template:'\n        <DsfMobileDialog\n          :title="dsf.safe.xss(title)"\n          ref="instance"\n          :visible.sync="dialogVisible"\n          '.concat(o.join(" "),'\n          :dialog-args="dialogArgs"\n          :opener-vm="openerVm"\n          :dialog-sure="dialogSure"\n        >\n          <template v-slot:cancel>\n            <button @click="close" class="van-picker__cancel">').concat(e.showCancelButton?e.cancelButtonText:"取消",'</button>\n          </template>\n          <template v-slot:title>\n            <span v-html="dsf.safe.xss(title)"></span>\n            <button v-if="customBtn" class="custom-btn van-picker__confirm" @click="clickHandler(customBtn)">{{customBtn.text}}</button>\n          </template>\n          <template v-if="btnPosition !== \'bottom\'" v-slot:buttons>\n            <button v-show="!btn.class || (btn.class && btn.class.indexOf(\'hide\') === -1)" v-for="(btn,index) in btns" class="van-picker__confirm" @click="clickHandler(btn)">{{btn.text}}</button>\n          </template>\n          <template v-if="btnPosition === \'bottom\'" v-slot:buttonBar>\n            <DsfMobileButton\n              v-if="!btn.class || (btn.class && btn.class.indexOf(\'hide\') === -1)"\n              v-for="(btn,$index) in btns"\n              :key="$index"\n              class="ds-button-bar-item"\n              :class="btn.class"\n              :title="btn.text"\n              :type="btn.type"\n              :btn-style="btn.btnStyle"\n              @click="clickHandler(btn, $event)"\n            >\n              {{ btn.text }}\n            </DsfMobileButton>\n          </template>\n          <template v-slot:dialog-buttons>\n            <van-button v-if="!btn.class || (btn.class && btn.class.indexOf(\'hide\') === -1)" v-for="(btn,index) in btns" :class="btn.class ? btn.class : \'van-dialog__confirm\'" @click="clickHandler(btn)">{{btn.text}}</van-button>\n          </template>\n          <template v-slot:default>\n            <div v-if="type==\'popup\'" :style="{\'position\':\'absolute\',\'top\':\'0\', right: 0, left: 0, bottom: 0, \'overflow\':(overflow||\'auto\')}">\n              ').concat(e.template?e.template:'<component :is="content" v-bind="params" ref="content" v-on="events" @dialog-yes="dialogSure"></component>',"\n            </div>\n            <div v-else-if=\"type=='dialog'\" :style=\"{'height':$height,'overflow':(overflow||'auto')}\">\n              ").concat(e.template?e.template:'<component :is="content" v-bind="params" ref="content" v-on="events" @dialog-yes="dialogSure"></component>',"\n            </div>\n          </template>\n        </DsfMobileDialog>")};r&&(v.components=J()({},e.content,r));var g=Vue.extend(v),y=(new g).$mount();return document.body.appendChild(y.$el),m&&(dsf.isUnDef(m.$dialogAll)&&(m.$dialogAll=[]),m.$dialogAll.push(y)),y},message:function(e,t){if(dsf.isUnDef(t))Object(kn["Toast"])(e);else{var n={message:"",className:"toast-layer-message"};dsf.config.message.success;dsf.isString(e)&&(n.message=e),dsf.isBoolean(t)?n.type=Dn[!1!==t?1:0]:n.type=Dn[1==t?1:0],n.message&&Object(kn["Toast"])(n)}},alert:function(e){var t;return dsf.isString(e)&&(e={message:e}),null!==(t=e)&&void 0!==t&&t.message&&(e.message=dsf.safe.xss(e.message,{overrideWhiteList:Sn})),kn["Dialog"].alert(e)},confirm:function(e){var t;return dsf.isString(e)&&(e={message:e}),null!==(t=e)&&void 0!==t&&t.message&&(e.message=dsf.safe.xss(e.message,{overrideWhiteList:Sn})),kn["Dialog"].confirm(e)},loading:function(e,t){return kn["Toast"].loading({message:e||"加载中...",forbidClick:!0,duration:0,onClose:t||dsf.noop})},closeLoading:function(e){var t,n,i;null!==e&&void 0!==e&&null!==(t=e.$el)&&void 0!==t&&null!==(t=t.classList)&&void 0!==t&&null!==(n=t.contains)&&void 0!==n&&n.call(t,"van-toast--loading")&&(null===e||void 0===e||null===(i=e.clear)||void 0===i||i.call(e))},imagePreview:function(e){if(e){var t,n=0;if(dsf.isArray(e))t=e;else{if(!dsf.isObject(e)||!e.images)return void dsf.error("imagePreview() 参数错误");t=e.images,n=e.startPosition||0}e=dsf.mix(!0,{images:t,startPosition:n},e),Object(kn["ImagePreview"])(e)}else dsf.error("imagePreview() 参数不能为空")}};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}dsf.mix(dsf.layer,{mobile:$n});var jn=Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn(Tn({},s),r),c),h),f),y),k),a),p),b),u),d),g),i),m),o),v),l),x),C),S),D),w),M);function In(e){Q();var t=dsf.createDsfVueInstall("platform",jn);t(e)}var Pn=In,An=dsf.defineAsyncComponent("DsfMobileHomeTop",(function(){return n.e(18).then(n.bind(null,1240))})),On=dsf.defineAsyncComponent("DsfMobileNavMenuSetting",(function(){return n.e(18).then(n.bind(null,1241))})),Nn=dsf.defineAsyncComponent("DsfMobileHomeChangeRole",(function(){return n.e(18).then(n.bind(null,1242))}));function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hn=Vn({},T),Bn=dsf.createDsfVueInstall("platform",Hn),En={install:Bn},Yn=dsf.defineAsyncComponent("DsfMobileMeUserInfo",(function(){return n.e(21).then(n.bind(null,1017))})),Rn=dsf.defineAsyncComponent("DsfMobileMeMenus",(function(){return n.e(21).then(n.bind(null,1018))})),zn=dsf.defineAsyncComponent("DsfMobileMe",(function(){return n.e(21).then(n.bind(null,1019))}));function Fn(e){e.component("DsfMobileMeUserInfo",Yn),e.component("DsfMobileMeMenus",Rn),e.component("DsfMobileMe",zn)}var qn={install:Fn},Un=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ds-control mobile ds-internal-mail",class:{"ds-no-padding":!e.isDesign}},[i("div",{staticClass:"ds-internal-mail-wrap"},[e._l(e.InternalMailMenu,(function(t,s){return[i("div",{key:"DsfInternalMailMenu"+s,staticClass:"ds-internal-mail-menu",class:s===e.InternalMailMenu.length-1?"no-border-bottom":"",style:{height:Number(e.rowLineHeight)+"px"},on:{click:function(t){return e.InternalMailMenuClick(s)}}},[i("img",{attrs:{src:n(311)("./"+t.icon+".png")}}),i("DsfIcon",{style:t&&t.iconstyle||"",attrs:{name:t&&t.icon||""}}),i("div",{staticClass:"ds-internal-mail-menu-content",style:{height:Number(e.rowLineHeight)+"px"}},[i("p",[e._v(e._s(t&&t.name||""))]),i("p",{staticClass:"ds-internal-mail-row-modulenum",style:{color:e.handleNumColor}},[e._v(" "+e._s(t&&t.modulenum||0)+" ")]),i("DsfIcon",{attrs:{name:"arrow-right"}})],1)],1)]}))],2),i("van-button",{on:{click:e.SendMail}},[e._v("写邮件")])],1)},Wn=[],Jn=dsf.component({name:"DsfMobileInternalMailSetting",ctrlCaption:"内部邮件管理",mixins:[$mixins.control],props:{numRequestPort:{type:String,default:"/email/mobile/yjsf/getCountOfEmailType"},rowLineHeight:{type:String,default:"60"},handleNumColor:{type:String,default:"#999999"},maillistPath:{type:String,default:"/mobile/email/mobile/"},inboxPath:{type:String,default:""},outboxPath:{type:String,default:""},draftsPath:{type:String,default:""},recyclebinPath:{type:String,default:""},newMailPath:{type:String,default:"/mobile/email/mobile/mobile-newmail"}},data:function(){return{InternalMailMenu:[{id:1,icon:"icon-sjx",name:"收件箱",modulenum:0,iconstyle:{color:"red",marginRight:"12px"}},{id:2,icon:"icon-fjx",name:"发件箱",modulenum:0,iconstyle:{color:"#409eff",marginRight:"12px"}},{id:3,icon:"icon-cgx",name:"草稿箱",modulenum:0,iconstyle:{color:"#FFA429",marginRight:"12px"}},{id:4,icon:"icon-hsz",name:"回收站",modulenum:0,iconstyle:{color:"red",marginRight:"12px"}}]}},watch:{$route:{handler:function(e){e.path.indexOf("mobile-mobileemail")>-1&&this.RenderData()}}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var e=this,t=this;this.$eventBus.$off("writeMail"),this.$eventBus.$on("writeMail",(function(e){e&&t.RenderData()})),this.$nextTick((function(){e.RenderData()}))},methods:{RenderData:function(){var e=this;this.isDesign||this.$http.get(this.numRequestPort,{}).done((function(t){var n=t.success,i=t.data;t.message;if(n){var s=function(t){e.$set(e.InternalMailMenu[["recv","sent","draft","recover"].findIndex((function(e){return e===t}))],"modulenum",i[t])};for(var a in i)s(a)}})).error((function(e){}))},InternalMailMenuClick:function(e){if(!this.isDesign){var t=["recv_list","send_list","draftlist","recover_list"],n=["mobile-recvlist","mobile-sendlist","mobile-draftlist","mobile-recoverlist"],i=[this.inboxPath,this.outboxPath,this.draftsPath,this.recyclebinPath],s=i[e]||this.maillistPath;s&&this.$router.push("".concat(s+n[e],"?pageType=").concat(t[e]))}},SendMail:function(){this.isDesign||this.$router.push(this.newMailPath)}},beforeDestroy:function(){},destroyed:function(){}}),Xn=Jn,Kn=Object(se["a"])(Xn,Un,Wn,!1,null,null,null),Gn=Kn.exports,Qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-details-mail",class:{"ds-no-padding":!e.isDesign},style:e.controlStyle},[n("div",{staticClass:"ds-details-mail-top"},[n("div",{staticClass:"ds-details-mail-info"},[n("div",{staticClass:"ds-details-mail-infoitem ds-details-mail-infoitem-title",style:{minHeight:Number(e.rowHeight)+"px"}},[e._m(0),e.details.yjzt?[e.details.yjzt.length<200?n("p",{staticClass:"ds-details-mail-infoitem-yjzt"},[e._v(" "+e._s(e.details.yjzt)+" ")]):n("p",[e._v(e._s(e.details.yjzt.substr(0,200))+"...")])]:e._e()],2),n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(1),n("p",[e._v(e._s(e.details.jjcdText))])]),n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(2),n("div",{staticClass:"ds-details-mail-sender"},[e.isDesign?[n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("发件人1")])]),n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("发件人2")])]),n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("发件人3")])])]:e._l(e.fjr,(function(t,i){return n("div",{key:"ds-details-mail-sender_"+i,staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("van-image",{attrs:{fit:"cover",src:t.uphoto},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)})],1),n("p",[e._v(e._s(t.name))])])})),e.fj.length>0&&!e.showmore?n("div",{staticClass:"ds-details-mail-fj"},[n("DsfIcon",{attrs:{name:"fujian"}}),n("p",[e._v(e._s(e.fj.length))])],1):e._e()],2)]),[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showmore,expression:"showmore"}],staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(3),n("div",{ref:"mailSender",staticClass:"ds-details-mail-sender mail-sender-person"},[e.isDesign?[n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("收件人1")])]),n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("收件人2")])]),n("div",{staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("DsfIcon",{attrs:{name:"icon_user"}})],1),n("p",[e._v("收件人3")])])]:[e._l(e.jsr,(function(t,i){return[e.jsr.length>0&&i<2?n("div",{key:"ds-details-mail-receive_"+i,staticClass:"ds-details-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("van-image",{attrs:{fit:"cover",src:t.uphoto},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)})],1),n("p",[e._v(e._s(t.name))])]):e._e()]})),e.jsr.length>1?n("div",{staticClass:"mail-sender-overflow-div",on:{click:function(t){return e.ClickHandle("showsjr")}}},[n("p",[e._v("+"+e._s(e.morenums-1))]),n("van-icon",{attrs:{name:"arrow"}}),n("van-icon",{attrs:{name:"arrow"}})],1):e._e()]],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showmore,expression:"showmore"}],staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(4),n("div",{staticClass:"ds-details-mail-sender mail-sender-person"},[e.details.isSendSms?n("van-radio-group",{attrs:{direction:"horizontal",disabled:!0},on:{change:e.changeSendSms},model:{value:e.details.isSendSms.value,callback:function(t){e.$set(e.details.isSendSms,"value",t)},expression:"details.isSendSms.value"}},[n("van-radio",{attrs:{name:"0"}},[e._v("否")]),n("van-radio",{attrs:{name:"1"}},[e._v("是")])],1):e._e()],1)]),e.fj.length>0?n("div",{staticClass:"ds-details-mail-file-list ds-form-item ds-upload upload-file"},[n("p",{staticClass:"fjtext"},[e._v("附    件")]),n("dsf-mobile-upload-file",{attrs:{label:"","read-only":e.fjReadOnly},on:{"file-preview":e.filePreview},model:{value:e.details.fj,callback:function(t){e.$set(e.details,"fj",t)},expression:"details.fj"}})],1):e._e()]],2),n("div",{staticClass:"ds-details-mail-richtext"},[e.isDesign?n("p",{style:{lineHeight:(isNaN(Number(e.mailbodyLineHeight))?Number(e.mailbodyLineHeight):String(Number(e.mailbodyLineHeight)))+"px"}},[e._v(" 邮件正文 ")]):n("p",{domProps:{innerHTML:e._s(e.dsf.safe.xss(e.details.content))}})])]),n("div",{staticClass:"ds-details-mail-bottom",class:e.ButtonsClassArray[e.ButtonsIndex]},[0===e.ButtonsIndex?[n("div",{staticClass:"ds-details-mail-zhuanfa",on:{click:function(t){return e.ClickHandle("forward")}}},[n("DsfIcon",{attrs:{name:"zhuanfa"}}),n("p",[e._v("转发")])],1)]:e._e(),e._l(e.Buttons,(function(t,i){return[0!=e.ButtonsIndex||0!=i?n("van-button",{key:"ds-details-mail-bottom-button_$"+i,attrs:{type:"plain"},on:{click:function(n){return e.ClickHandle(t.clickHandleModel)}}},[e._v(" "+e._s(t.label)+" ")]):e._e()]}))],2),n("dsf-mobile-data-choice",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"selDataChoice",staticClass:"ds-no-padding",attrs:{"dialog-url":e.openUrl,"from-data-chioce":!0,"dialog-title":"选择发送对象","allow-post":!1,"show-label":!1,"open-default-selected":!0},on:{selected:e.forwardAddsend},model:{value:e.dataChoice,callback:function(t){e.dataChoice=t},expression:"dataChoice"}}),n("SelectUser",{ref:"selectUserPopup",attrs:{lazyLoad:!0,mailDetail:!0,handle:!1,tree:e.selectUsers},on:{updateSelectUser:e.ClickHandle}})],1)},Zn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("标题"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("紧急程度"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name w3"},[e._v("发件人"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name w3"},[e._v("收件人"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name w3"},[e._v("短信提醒"),n("span")])}],ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-selected-user-popup"},[n("van-popup",{attrs:{round:"",position:"bottom"},on:{close:e.refreshPopup},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[n("div",{staticClass:"user-popup-title"},[n("p",[e._v("发送对象"),e.total?n("span",[e._v("（"+e._s(e.total)+"人）")]):e._e()]),n("div",{staticClass:"user-popup-title-close",on:{click:function(t){return e.ClickHandle("showPopup",!1)}}},[n("DsfIcon",{attrs:{name:"guanbi2"}})],1)]),n("div",{staticClass:"user-popup-lists",class:{"user-popup-lists-margin-bottom":!e.handle}},[n("van-list",{attrs:{finished:e.vlist.finished,"immediate-check":!1,offset:20},on:{load:e.load},model:{value:e.vlist.loading,callback:function(t){e.$set(e.vlist,"loading",t)},expression:"vlist.loading"}},[e._l(e.lists,(function(t,i){return n("div",{key:"dsf-selected-unit_$"+i},["user"!=t.type&&t.children&&(t.children.length>0||t.childrennum>0)?[n("div",{staticClass:"user-popup-content-unitname",class:{"unitname-no-margin":0===t.children.length}},[n("p",[e._v(e._s(t.name)+" "),n("span",[e._v("("+e._s(t.childrennum)+"人)")])])]),t.children&&t.children.length>0?[e._l(t.children,(function(t,s){return["user"===t.type?n("div",{key:"dsf-selected-unit-childrens_$"+s,staticClass:"user-popup-item inline-block"},[n("van-image",{attrs:{fit:"cover",src:"/oua2/getUserPhoto?type=relativePath&userId="+t.id},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)}),n("p",[e._v(e._s(t.name))]),e.handle?n("DsfIcon",{attrs:{name:"guanbi2"},on:{click:function(t){return e.ClickHandle("deleteUser",i,s)}}}):e._e()],1):e._e()]}))]:e._e()]:[n("div",{staticClass:"user-popup-item inline-block"},[n("van-image",{attrs:{fit:"cover",src:"/oua2/getUserPhoto?type=relativePath&userId="+t.id},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)}),n("p",[e._v(e._s(t.name))]),e.handle?n("DsfIcon",{attrs:{name:"guanbi2"},on:{click:function(t){return e.ClickHandle("deleteUser",i)}}}):e._e()],1)]],2)})),n("div",{staticStyle:{clear:"both"}})],2)],1),e.handle?n("div",{staticClass:"user-popup-btn"},[e.handle?[n("van-button",{on:{click:function(t){return e.ClickHandle("showPopup",!1)}}},[e._v("取消")]),n("van-button",{on:{click:function(t){return e.ClickHandle("confirm",!1)}}},[e._v("确定")])]:[n("van-button",{staticClass:"close-btn",on:{click:function(t){return e.ClickHandle("showPopup",!1)}}},[e._v("关闭")])]],2):e._e()])],1)},ti=[];function ni(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ii(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw a}}}}function ii(e,t){if(e){if("string"===typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,t):void 0}}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var ai=dsf.component({name:"DsfMobileSelectedUserPopup",ctrlCaption:"已选人员弹窗",mixins:[$mixins.control],props:{handle:{type:Boolean,default:!0},tree:{type:Array,default:function(){return[]}},mailDetail:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1}},data:function(){return{popupShow:!1,lists:[],listsLength:0,total:0,showelse:!1,elsetotal:0,vlist:{loading:!1,finished:!1},deleteOpt:[]}},computed:{user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))}},methods:{load:function(){var e=this,t=this.mailDetail?100:50,n=_.cloneDeep(this.tree);dsf.deepForEach(n,(function(n){var i=_.cloneDeep(n);if(!i.add)if(e.mailDetail&&!i.pname)e.lists.some((function(e){return e.id===i.id&&e.pid===i.pid}))||(void 0!=i.pname&&(i.childrennum=i.total||1,i.children=[]),e.lists.push(i),e.listsLength+=1,t-=1,n.add=!0);else if(!e.lists.some((function(e){return e.id===i.id&&e.pid===i.pid})))if("user"!=i.type)i.childrennum=Array.isArray(i.children)?i.children.length:1,i.children=[],n.add=!0;else{i.pname&&!e.lists.some((function(e){return e.id===i.pid}))&&e.lists.push({id:i.pid,pid:"",name:i.pname,children:[]});var s=e.lists.findIndex((function(e){return e.id===i.pid}));s>-1&&(e.lists[s].children.some((function(e){return e.id===i.id&&e.pid===i.pid}))||(e.lists[s].children.push(i),t-=1,i.pname&&(e.lists[s].childrennum=e.lists[s].children.length)),e.listsLength+=1),n.add=!0}if(0===t)return-1})),this.$emit("update:tree",n),this.vlist.loading=!1,this.vlist.finished=this.listsLength===this.total},ClickHandle:function(e){var t=arguments,n=this;return R()(F.a.mark((function i(){var s,a;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.length>1&&void 0!==t[1]?t[1]:null,a=t.length>2&&void 0!==t[2]?t[2]:null,i.t0=e,i.next="showPopup"===i.t0?5:"deleteUser"===i.t0?12:"confirm"===i.t0?15:17;break;case 5:if(!s){i.next=10;break}return i.next=8,n.numberHandler();case 8:return i.next=10,n.load();case 10:return n.popupShow=s,i.abrupt("break",17);case 12:return n.total--,null===a?(n.deleteOpt.push(n.lists[s]),n.lists.splice(s,1)):(n.deleteOpt.push(n.lists[s].children[a]),n.lists[s].selectnums--,n.lists[s].childrennum&&n.lists[s].childrennum--,n.lists[s].children.splice(a,1),n.lists[s].children.some((function(e){return"user"===e.type}))||n.lists.splice(s,1)),i.abrupt("break",17);case 15:return n.$emit("updateHandler","updateSelectUser",n.deleteOpt),i.abrupt("break",17);case 17:case"end":return i.stop()}}),i)})))()},refreshPopup:function(){this.lists=[],this.listsLength=0},numberHandler:function(){var e=this,t=new Map,n=this,i=function e(i){if(Array.isArray(i)){var s,a=ni(i);try{for(a.s();!(s=a.n()).done;){var r=s.value;n.mailDetail?void 0===r.pname?t.has(r.id)?t.set("".concat(r.id,"_").concat(dsf.uuid()),r.total||1):t.set(r.id,r.total||1):t.has(r.globalId)||t.set(r.globalId,r.total||1):("user"===r.type&&!t.has(r.globalId)&&r.globalId&&t.set(r.globalId,r.total||1),"user"!=r.type&&Array.isArray(r.children)&&r.children.length>0&&e(r.children),Object.keys(r).length<=4&&t.set("".concat(r.id,"_").concat(dsf.uuid()),r.total||1))}}catch(o){a.e(o)}finally{a.f()}}};i(this.tree),this.total=Array.from(t.values()).reduce((function(e,t){return e+t})),this.lists.length&&(this.listsLength=0,dsf.deepForEach(this.lists,(function(t){"user"===t.type&&(e.listsLength+=1)})))}}}),ri=ai,oi=Object(se["a"])(ri,ei,ti,!1,null,null,null),li=oi.exports,ci=["png","jpg","jpeg","bmp","gif"],ui=dsf.component({name:"DsfMobileDetailsMail",ctrlCaption:"邮件详情",components:{SelectUser:li},mixins:[$mixins.control],props:{rowHeight:{type:[Number,String],default:46},mailbodyLineHeight:{type:[Number,String],default:24},selectpersonPath:{type:String,default:"/mobile/email/mobile/mobile-selectperson"},newMailPath:{type:String,default:"/mobile/email/mobile/mobile-newmail"}},data:function(){return{showmore:!0,Buttons:[],ButtonsEnum:[[{clickHandleModel:"forward",label:"转发"},{clickHandleModel:"replyAll",label:"回复全部"},{clickHandleModel:"replySend",label:"回复发件人"}],[{clickHandleModel:"back",label:"撤回"},{clickHandleModel:"addsend",label:"增发"}],{clickHandleModel:"edit",label:"编辑"},{clickHandleModel:"reply",label:"恢复"}],ButtonsClassArray:["button-recall-addsend","button-forward-replyAll-replySend","button-send","button-reply"],ButtonsIndex:1,details:{},fjr:[],jsr:[],showVanpopup:!1,handleModel:null,fj:[],selectUsers:[],overflowDiv:!1,morenums:0,openUrl:"",dataChoice:[],fjReadOnly:!0}},computed:{controlStyle:function(){this.padding;var e=this.isDesign,t={};return e&&(t.padding="10px 0"),t},user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))}},activated:function(){this.RenderData()},mounted:function(){var e,t=this,n=this;this.$eventBus.$on("selectedPerson",(function(e){var t=setTimeout(R()(F.a.mark((function i(){return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:clearTimeout(t),n.forwardAddsend(e,1);case 2:case"end":return i.stop()}}),i)}))),100)})),null!==this&&void 0!==this&&null!==(e=this.queryString)&&void 0!==e&&e.pageType&&(this.ButtonsIndex=["recv_list","send_list","draftlist","recover_list"].findIndex((function(e){var n;return e===(null===t||void 0===t||null===(n=t.queryString)||void 0===n?void 0:n.pageType)}))),Array.isArray(this.ButtonsEnum[this.ButtonsIndex])?this.ButtonsEnum[this.ButtonsIndex].forEach((function(e){return t.Buttons.push(e)})):this.Buttons.push(this.ButtonsEnum[this.ButtonsIndex]),this.RenderData()},methods:{forwardAddsend:function(e,t){var n,i=[];if(["forward","addsend"].includes(this.handleModel)){var s,a,r;if("forward"===this.handleModel?n="email/web/yjsf/forward":"addsend"===this.handleModel&&(n="email/web/yjsf/plusSend"),t)e=JSON.parse(e),e=(null===(r=e)||void 0===r?void 0:r.checked)||[],dsf.deepForEach(e,(function(e){if(i.some((function(t){return t.userId===e.id||t.userId===e.pid})))return 1;Array.isArray(e.children)&&e.children.length!=e.total?_.forEach(e.children,(function(t){i.push({text:e.name,value:e.id,type:t.type,globalId:t.globalId,total:t.total||1,phone:t.phone||"",pid:t.pid,pname:e.name||""})})):i.push({text:e.name,value:e.id,type:e.type,globalId:e.globalId,total:e.total||1,phone:e.phone||"",pid:e.pid,pname:e.pname||""})}));else e.args.length&&_.forEach(e.args,(function(e,t){i.push({text:e.name,value:e.id,type:e.type,globalId:e.globalId,total:e.total||1,phone:e.phone||"",pid:e.pid,pname:e.pname||""})}));this.jsr=this.selectUsers,this.postReuqest(n,{users:JSON.stringify(i),emailId:null===(s=this.details)||void 0===s?void 0:s.yjxxId,yjsfId:null===(a=this.details)||void 0===a?void 0:a.yjsfId,isSendSms:!1})}},changeSendSms:function(e){var t=[{text:"否",value:"0"},{text:"是",value:"1"}];this.email_yjxx.is_send_sms=t[e]},filePreview:function(e){var t=e.args,n=JSON.parse(this.details.fj),i=null,s=ci.find((function(e){return e===t.suffix.toLocaleLowerCase()}));if(s){var a=_.findIndex(n,(function(e){return e.id==t.id})),r=_.map(_.filter(n,(function(e){return _.includes(ci,e.suffix.toLocaleLowerCase())})),(function(e){return e.relativePath}));window.vant.ImagePreview({images:r,startPosition:a})}else i="/mobile/email/mobile/mobile-fileview?path="+dsf.config.setting_public_file_host+t.relativePath,this.$router.push(i)},ClickHandle:function(){var e,t,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,r=null;switch(this.handleModel=i,i){case"previewFj":var o=ci.find((function(e){return e===s.suffix.toLocaleLowerCase()}));if(o){var l=_.findIndex(a,(function(e){return e.id==s.id})),c=_.map(_.filter(a,(function(e){return _.includes(ci,e.suffix.toLocaleLowerCase())})),(function(e){return e.relativePath}));window.vant.ImagePreview({images:c,startPosition:l})}else r="/mobile/email/mobile/mobile-fileview?path="+dsf.config.setting_public_file_host+s.relativePath;break;case"forward":window.sessionStorage.setItem("selectedPerson",!0),this.openUrl=this.selectpersonPath+"?t="+dsf.date.now().getTime(),this.$refs.selDataChoice.popupShow=!0;break;case"replyAll":r=this.newMailPath+"?status=reply&sign=fjr&replyAll=1&yjsfId="+this.details.yjsfId+"&yjxxId="+this.details.yjxxId;break;case"replySend":r=this.newMailPath+"?status=reply&sign=fjr&replyAll=0&yjsfId="+this.details.yjsfId+"&yjxxId="+this.details.yjxxId;break;case"back":this.mailHandle("确认撤回邮件 “ ".concat(this.details.yjzt," ” ？"),"email/web/yjsf/revocation",{id:null===(e=this.details)||void 0===e?void 0:e.yjsfId});break;case"addsend":this.$store.commit("mobileMailChecked/updateChecked",[]);var u=this.jsr.map((function(e){return e.id}));window.sessionStorage.setItem("selectedPerson",!0),window.sessionStorage.setItem("selectedPersonIds",JSON.stringify(u)),this.selectUsers=this.jsr,this.openUrl=this.selectpersonPath+"?t="+dsf.date.now().getTime(),this.$refs.selDataChoice.popupShow=!0;break;case"edit":window.sessionStorage.setItem("editMail",JSON.stringify(this.details)),r=this.newMailPath;break;case"reply":this.mailHandle("确认恢复邮件 “ ".concat(this.details.yjzt," ” ？"),"email/web/yjsf/recover",{yjsfId:null===(t=this.details)||void 0===t?void 0:t.yjsfId,status:0});break;case"showsjr":this.$refs.selectUserPopup.ClickHandle("showPopup",!0);break;case"showmore":this.$nextTick((function(){var e;Array.prototype.slice.call(null===(e=n.$refs.mailSender)||void 0===e?void 0:e.children).filter((function(e){return"ds-details-mail-sender-item"===e.className}));n.morenums=n.jsr.length||0,n.overflowDiv=n.$refs.mailSender.scrollHeight>n.$refs.mailSender.clientHeight}));break}r&&this.$router.push(r)},mailHandle:function(e,t){var n=arguments,i=this;return R()(F.a.mark((function s(){var a,r,o,l,c;return F.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=n.length>2&&void 0!==n[2]?n[2]:{},r=n.length>3&&void 0!==n[3]&&n[3],o=i,l=!1,s.next=6,o.dsf.layer.confirm({message:e}).then((function(){r?l=!0:i.postReuqest(t,a)})).catch((function(e){}));case 6:r&&(c=JSON.parse(JSON.stringify(a)),c.isSendSms=l,i.postReuqest(t,c));case 7:case"end":return s.stop()}}),s)})))()},postReuqest:function(e,t){var n=this,i=this,s=dsf.layer.loading();this.$http.post(e,t).done((function(e){var t=e.success,a=(e.data,e.message);if(dsf.layer.closeLoading(s),dsf.layer.message(a,t),t)var r=setTimeout((function(){clearTimeout(r),i.$router.go(-1),n.$eventBus.$emit("handleSuccess",!0)}),1500)})).error((function(e){dsf.layer.closeLoading(s)}))},RenderData:function(){var e,t,n=this;if(!this.isDesign&&null!==this&&void 0!==this&&null!==(e=this.queryString)&&void 0!==e&&e.id){var i={yjsfId:(null===this||void 0===this||null===(t=this.queryString)||void 0===t?void 0:t.id)||""};this.jsr=[],this.selectUsers=[];var s=[],a=[],r=[],o=dsf.layer.loading();this.$http.get("email/mobile/yjsf/queryEmailDetail",i).done((function(e){var t=e.success,i=e.data;e.message;if(t){var o,l,c,u,d,h,f,p;if(n.details=i,null!==(o=n.details)&&void 0!==o&&o.content)null===(p=n.details)||void 0===p?void 0:p.content;if(null!==(l=n.details)&&void 0!==l&&l.sendUserName&&(a=n.details.sendUserName.split(",")),null!==(c=n.details)&&void 0!==c&&c.sendUserId&&(s=n.details.sendUserId.split(","),a.length===s.length&&s.forEach((function(e,t){n.$set(n.fjr,t,{id:e,name:a[t],uphoto:"/oua2/getUserPhoto?type=relativePath&userId=".concat(e),_id:e,_checked:1})}))),null!==(u=n.details)&&void 0!==u&&u.jsrText&&(r=n.details.jsrText.split(",")),null!==(d=n.details)&&void 0!==d&&d.jsrId&&(s=n.details.jsrId.split(","),r.length===s.length&&s.forEach((function(e,t){n.selectUsers.push({id:e,name:r[t],type:"user"}),n.$set(n.jsr,t,{id:e,name:r[t],uphoto:"/oua2/getUserPhoto?type=relativePath&userId=".concat(e),_id:e,_checked:1})}))),n.morenums=s.length||0,null!==(h=n.details)&&void 0!==h&&h.fj){var m=JSON.parse(n.details.fj);n.fj=[],m.forEach((function(e){n.fj.some((function(t){return t.id===e.id}))||n.fj.push(e)}))}"0"===String(null===(f=n.details)||void 0===f?void 0:f.yjsfStatusValue)&&n.$eventBus.$emit("refreshList",!0)}})).error((function(e){})).finally((function(){dsf.layer.closeLoading(o)}))}}},beforeDestroy:function(){this.$store.commit("mobileMailChecked/updateChecked",[]),this.$eventBus.$off("selectedPerson")},destroyed:function(){}}),di=ui,hi=Object(se["a"])(di,Qn,Zn,!1,null,null,null),fi=hi.exports,pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-mail-menu",class:{"ds-no-padding":!e.isDesign}})},mi=[],vi=dsf.component({name:"DsfMobileMailMenu",ctrlCaption:"邮件目录",mixins:[$mixins.control],props:{InternalMailMenu:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},methods:{},beforeDestroy:function(){},destroyed:function(){}}),gi=vi,yi=Object(se["a"])(gi,pi,mi,!1,null,null,null),bi=yi.exports,_i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-mail-list recv-lists",class:{"ds-no-padding":!e.isDesign}},["recv_list"===e.pageType?[n("van-tabs",{model:{value:e.vantabsActive,callback:function(t){e.vantabsActive=t},expression:"vantabsActive"}},[n("van-tab",{attrs:{title:"未读"}},[n("MailLists",{attrs:{active:e.vantabsActive,status:0,pageName:e.pageType,userInput:e.userInput,searchPlaceholder:e.searchPlaceholder,touchDelay:e.touchDelay},on:{updateData:e.updateData}})],1),n("van-tab",{attrs:{title:"已读"}},[n("MailLists",{attrs:{active:e.vantabsActive,status:1,pageName:e.pageType,userInput:e.userInput,searchPlaceholder:e.searchPlaceholder,touchDelay:e.touchDelay},on:{updateData:e.updateData}})],1)],1)]:[n("MailLists",{attrs:{isDesign:e.isDesign,searchPlaceholder:e.searchPlaceholder,touchDelay:e.touchDelay,pageName:e.pageType,debounceDelay:e.debounceDelay}})]],2)},xi=[],wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-mail-list",class:{"ds-no-padding":!e.isDesign,"recv-lists":"recv_list"===e.pageName}},[n("div",{class:{recv_list:"recv_list"===e.pageName}},[n("van-search",{ref:"search",attrs:{background:"#f6f6f6",shape:"round",placeholder:e.searchPlaceholder},on:{input:e.vinput,clear:e.clear},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}})],1),n("van-pull-refresh",{staticClass:"ds-mail-list-warp",on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[e.lists&&e.lists.length?n("van-list",{attrs:{finished:e.listLoadFinished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:e.onLoadMore},model:{value:e.listloading,callback:function(t){e.listloading=t},expression:"listloading"}},e._l(e.lists,(function(t,i){return n("div",{key:"dsf-mail-list-row_"+i,staticClass:"ds-mail-list-row",on:{click:function(n){return e.ClickHandle("listclick",t)},touchstart:function(t){return e.TouchHandler("start")},touchend:function(t){return e.TouchHandler("end")}}},[e.deleteMail?[n("div",{staticClass:"dsf-mail-list-row-checkedicon"},[t.checked?n("van-icon",{attrs:{size:"22",name:"checked",color:"#1a66b1"}}):n("van-icon",{attrs:{size:"22",name:"circle"}})],1)]:e._e(),n("div",{staticClass:"ds-mail-list-row-image"},[n("van-image",{attrs:{fit:"cover",src:t.userPhotoSrc},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)})],1),n("div",{staticClass:"ds-mail-list-rowitem"},[n("div",{staticClass:"ds-mail-list-rowitem-top"},["recv_list"===e.pageName||"draftlist"===e.pageName?n("p",[e._v(e._s(t&&t.ds_create_user_name||""))]):n("p",[e._v(e._s(t&&t.ryxx_text||t&&t.jsr_text||""))]),n("p",[e._v(e._s(t&&t.create_time||t&&t.hssj||t&&t.update_time||t&&t.fssj))])]),n("div",{staticClass:"ds-mail-list-rowitem-bottom"},[t&&"未读"===t.yjzt_text?n("p",{staticStyle:{color:"red"}},[e._v("["+e._s(t&&t.yjzt_text)+"]")]):t&&t.yjzt_text?n("p",[e._v("["+e._s(t&&t.yjzt_text)+"]")]):e._e(),n("p",[e._v(e._s(t&&t.yjzt||""))])])])],2)})),0):n("dsf-empty-data",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{description:"暂无数据"}})],1),"recover_list"!=e.pageName||e.deleteMail?n("div",{staticClass:"ds-mail-list-bottom",class:"recv_list"===e.pageName&&0===e.status?"two-button":""},[e.deleteMail?[n("div",{staticClass:"ds-mail-list-delete"},[n("div",{staticClass:"ds-mail-list-deleteicon",on:{click:function(t){return e.ClickHandle("check","all")}}},[e.checkAll?n("van-icon",{attrs:{size:"22",name:"checked",color:"#1a66b1"}}):e.minusCheck?n("van-icon",{attrs:{size:"22",name:"minus",color:"#ffffff"}}):n("van-icon",{attrs:{size:"22",name:"circle"}}),n("p",[e._v("全选")])],1),n("div",{staticClass:"ds-mail-list-deletebtns"},[n("van-button",{on:{click:function(t){return e.ClickHandle("delete","quit")}}},[e._v("取消")]),n("van-button",{on:{click:function(t){return e.ClickHandle("delete","confirm")}}},[e._v("删除")])],1)])]:[n("van-button",{on:{click:function(t){return e.ClickHandle("sendmail")}}},[e._v("写邮件")]),"recv_list"===e.pageName&&0===e.status?n("van-button",{on:{click:function(t){return e.ClickHandle("onekeyRead")}}},[e._v("一键已读")]):e._e()]],2):e._e()],1)},Ci=[],ki=dsf.component({name:"DsfMobileMLists",inject:["detailpath","newmpath"],props:{active:{type:Number,default:0},status:{type:Number,default:1},pageName:{type:String,default:""},userInput:{type:String,default:""},touchDelay:{type:String,default:"2000"},searchPlaceholder:{type:String,default:"搜索"},debounceDelay:{type:String,default:"1000"},isDesign:{type:Boolean,default:!1}},data:function(){return{searchStr:"",lists:[],pageNum:1,isLoading:!0,listloading:!1,listLoadFinished:!1,timer:null,touchTimer:null,deleteMail:!1,checkAll:!1,minusCheck:!1,pageSize:10,checklist:[]}},computed:{user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))}},watch:{userInput:{handler:function(e){e!=this.searchStr&&(this.searchStr=e,this.vinput())}},active:{handler:function(e){this.status}},$route:{handler:function(e){var t=["/mobile/email/mobile/mobile-recvlist","/mobile/email/mobile/mobile-sendlist","/mobile/email/mobile/mobile-draftlist","/mobile/email/mobile/mobile-recoverlist"];_.indexOf(t,e.path)>-1&&this.RenderData(!1,!0)}}},created:function(){},beforeMount:function(){},mounted:function(){this.RenderData()},methods:{vinput:function(){Array.prototype.slice.call(arguments);this.$emit("updateData",{keyname:"userInput",value:this.searchStr}),this.debounce((function(){this.RenderData(!1,!0)}),Number(this.debounceDelay))()},clear:function(){this.listLoadFinished=!1,this.RenderData(!1,!0)},ClickHandle:function(e){var t=arguments,n=this;return R()(F.a.mark((function i(){var s,a,r;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=t.length>1&&void 0!==t[1]?t[1]:null,!n.isDesign){i.next=3;break}return i.abrupt("return");case 3:i.t0=e,i.next="sendmail"===i.t0?6:"listclick"===i.t0?8:"onekeyRead"===i.t0?10:"delete"===i.t0?12:"check"===i.t0?14:17;break;case 6:return a=n.newmpath,i.abrupt("break",17);case 8:return n.deleteMail?n.ClickHandle("check",s):a="".concat(n.detailpath,"?id=").concat(s.id||s._id||s.email_yjsf_id||"","&pageType=").concat(n.pageName||""),i.abrupt("break",17);case 10:return dsf.layer.confirm({message:"确认已读所有邮件？"}).then((function(){n.$http.post("email/mobile/yjsf/batchReadEmail",{}).done((function(e){var t=e.success,i=(e.data,e.message);t&&(dsf.layer.message(i,"success"),n.onRefresh())})).error((function(e){}))})).catch((function(e){})),i.abrupt("break",17);case 12:return"confirm"===s?n.deleteMailHandler():(n.lists.some((function(e){return e.checked}))&&(n.checkAll=!0,n.ClickHandle("check","all")),n.deleteMail=!1),i.abrupt("break",17);case 14:return"all"===s?(n.checkAll=!n.checkAll,n.lists.forEach((function(e,t){e.checked=n.checkAll,n.$set(n.lists,t,e)}))):(r=n.lists.findIndex((function(e){return e._id===s._id})),r>=0&&(s.checked=!s.checked,n.$set(n.lists,r,s)),n.checkAll=!n.lists.some((function(e){return!e.checked})),n.checkAll||(n.checklist=n.lists.filter((function(e){return e.checked})))),n.minusCheck=n.lists.some((function(e){return e.checked}))&&n.lists.filter((function(e){return!e.checked})).length>0,i.abrupt("break",17);case 17:a&&n.$router.push(a);case 18:case"end":return i.stop()}}),i)})))()},TouchHandler:function(e){if(("end"===e||this.touchModel)&&clearTimeout(this.touchTimer),"start"===e){var t=this;this.touchTimer=setTimeout((function(){t.deleteMail=!0}),Number(this.touchDelay)||2e3)}},deleteMailHandler:function(){var e=this;this.lists.some((function(e){return e.checked}))?dsf.layer.confirm({message:this.checkAll?"确认删除所有邮件？":"确认删除已选邮件？"}).then(R()(F.a.mark((function t(){var n,i,s,a,r,o;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.lists.filter((function(e){return e.checked})).map((function(e){return e._id})).join(","),i="recover_list"===e.pageName?"email/mobile/yjsf/batchDeleteEmail":"email/mobile/yjsf/batchRecoverEmail",s={yjsfIds:e.checkAll?"":n,isAll:e.checkAll},a=["recv_list","send_list","draftlist"],"recover_list"!=e.pageName&&(s.status=1,r=a.findIndex((function(t){return t===e.pageName})),s.type=0===r?e.status:r+1),o=o=dsf.layer.loading(),t.next=8,e.$http.post(i,s).done((function(t){var n=t.success,i=(t.data,t.message);if(dsf.layer.message(i,n),n){e.deleteMail=!1;var s=setTimeout((function(){clearTimeout(s),e.RenderData(!1,!0)}),2e3)}})).error((function(e){}));case 8:dsf.layer.closeLoading(o);case 9:case"end":return t.stop()}}),t)})))).catch((function(e){})):dsf.layer.message("请勾选需要删除的邮件！",!1)},onRefresh:function(){this.RenderData(!1,!0)},onLoadMore:function(){this.RenderData(!0,!1)},RenderData:function(){var e=arguments,t=this;return R()(F.a.mark((function n(){var i,s,a,r;return F.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],!t.isDesign){n.next=4;break}return n.abrupt("return");case 4:if(s&&(t.pageNum=1),i&&(t.pageNum+=1),t.pageName){n.next=8;break}return n.abrupt("return");case 8:return a={pageSize:Number((null===t||void 0===t?void 0:t.pageSize)||10),pageNum:t.pageNum,pageName:t.pageName||"",namespace:"email.yjsf"},t.searchStr&&(a.query=JSON.stringify({searchValue:t.searchStr})),"recv_list"===t.pageName&&(a.state=t.status),r=null,i||(r=dsf.layer.loading()),n.next=15,t.$http.get("email/meta/list/data",a).done((function(e){var n=e.success,a=e.data;e.message;if(n){i&&!s||(t.lists=[]);var r=[];a.forEach((function(e){if(!t.lists.some((function(t){return t._id===e._id}))){for(var n in e)"_id"!=n&&(r=n.split("."),e[r[1]]=e[n]);if(e.ds_create_user_id&&(e.userPhotoSrc="/oua2/getUserPhoto?type=relativePath&userId=".concat(e.ds_create_user_id)),t.checkAll)e.checked=!0;else if(t.checklist.length>0){var s=t.checklist.findIndex((function(t){return t._id==e._id}));s>-1&&(e.checked=!0)}t.lists.push(e)}t.isLoading=!1,i&&(t.listloading=!1)})),!a.length||a.length<t.pageSize?t.listLoadFinished=!0:t.listLoadFinished=!1}})).error((function(e){}));case 15:dsf.layer.closeLoading(r);case 16:case"end":return n.stop()}}),n)})))()},debounce:function(e,t){var n=this;return function(){null!==n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){e.apply(n,arguments)}),t)}}},beforeDestroy:function(){},destroyed:function(){}}),Si=ki,Di=Object(se["a"])(Si,wi,Ci,!1,null,null,null),$i=Di.exports,Mi=dsf.component({name:"DsfMobileMailList",components:{MailLists:$i},ctrlCaption:"邮件列表",mixins:[$mixins.control],provide:function(){return{detailpath:this.mailDetailPath,newmpath:this.newMailPath}},props:{searchPlaceholder:{type:String,default:"搜索"},touchDelay:{type:String,default:"2000"},mailDetailPath:{type:String,default:"/mobile/email/mobile/mobile-maildetails"},newMailPath:{type:String,default:"/mobile/email/mobile/mobile-newmail"},debounceDelay:{type:String,default:"1000"}},data:function(){return{vantabsActive:0,readStatus:1,pageType:"",userInput:""}},created:function(){var e,t;null!==this&&void 0!==this&&null!==(e=this.queryString)&&void 0!==e&&e.pageType&&(this.pageType=null===this||void 0===this||null===(t=this.queryString)||void 0===t?void 0:t.pageType)},mounted:function(){},methods:{updateData:function(e){this[e.keyname]=e.value}}}),Ti=Mi,ji=Object(se["a"])(Ti,_i,xi,!1,null,null,null),Ii=ji.exports,Pi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-select-contact",class:{"ds-no-padding":!e.isDesign}},[n("van-search",{ref:"search",attrs:{shape:"round",placeholder:e.searchPlaceholder},on:{input:e.VansearchInput},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),e.searching?e._e():n("div",{staticClass:"ds-select-contact-alltab"},[n("p",{class:0===e.tabs.length?"font-theme-main":"",on:{click:function(t){return e.ClickHandle("tabsall")}}},[e._v("全部")]),n("div",{staticClass:"ds-select-contact-tab"},e._l(e.tabs,(function(t,i){return n("div",{key:"ds-select-contact-tabs_$"+i,staticClass:"ds-select-contact-tabitem",class:i===e.tabs.length-1?"font-theme-main":"",on:{click:function(n){return e.ClickHandle("tabsItem",i,t)}}},[n("DsfIcon",{attrs:{name:"arrow-right"}}),n("p",[e._v(e._s(t&&t._name))])],1)})),0)]),n("div",{staticClass:"ds-select-contact-select-user"},[e.searching?e._e():n("div",{staticClass:"ds-select-contact-select-all",on:{click:function(t){return e.ClickHandle("selectAll")}}},[e.minusSelect?n("van-icon",{attrs:{size:"22",name:"minus",color:"#ffffff"}}):e.selectAll?n("van-icon",{attrs:{size:"22",name:"checked",color:"#1a66b1"}}):n("van-icon",{attrs:{size:"22",name:"circle"}}),n("p",{staticClass:"checkbox_label"},[e._v("全选")])],1),n("div",{staticClass:"ds-select-contact-select-user-lists"},[e.lists&&e.lists.length>0?[n("van-list",{attrs:{finished:e.finished,"immediate-check":!1},on:{load:e.loadLists},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.lists,(function(t,i){return n("van-cell",{key:"ds-select-contact-user-lists_$"+i,staticClass:"ds-select-contact-select-item",class:"user"===t.type?"ds-select-contact-select-item_user":""},["disabled"!=t.status?["user"===t.type&&"check"===t.status||"user"!=t.type&&t.selectnums===t.total?n("van-icon",{attrs:{size:"22",name:"checked",color:"#1a66b1"},on:{click:function(n){return e.ClickHandle("selectItem",t,i)}}}):"user"!=t.type&&t.selectnums&&t.selectnums!=t.total?n("van-icon",{attrs:{size:"22",name:"minus",color:"#ffffff"},on:{click:function(n){return e.ClickHandle("selectItem",t,i)}}}):n("van-icon",{attrs:{size:"22",name:"circle"},on:{click:function(n){return e.ClickHandle("selectItem",t,i)}}})]:n("van-icon",{attrs:{size:"22",name:"checked",color:"#ebedf0"}}),n("div",{staticClass:"ds-select-contact-select-item-right",on:{click:function(n){return e.ClickHandle("listclick",t,i)}}},["user"===t.type?[n("van-image",{attrs:{fit:"cover",src:t.imgsrc},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"user_item"},[n("p",[e._v(e._s(t&&t._name||""))]),n("p",[e._v(e._s(t&&t.phone||""))])])]:[n("p",{staticClass:"checkbox_label"},[e._v(e._s(t&&t._name||""))])],"user"!=t.type&&t.total>0?[n("p",{staticClass:"checknum"},[e._v(e._s(t.selectnums||0)+"/"+e._s(t.total))]),n("DsfIcon",{attrs:{name:"arrow-right"}})]:e._e()],2)],2)})),1)]:n("dsf-empty-data",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],attrs:{description:"暂无数据"}})],2)]),n("div",{staticClass:"ds-select-contact-bottom"},[n("div",{staticClass:"ds-select-contact-bottom-left"}),n("div",{staticClass:"ds-select-contact-bottom-button",on:{click:function(t){return e.ClickHandle("confirm")}}},[n("p",[e._v("确定")]),e.selectedUserTotal>0?n("p",[e._v("("+e._s(e.selectedUserTotal)+")")]):e._e()])]),n("van-popup",{style:{height:"30%"},attrs:{closeable:"","close-icon-position":"top-left",position:"bottom"},model:{value:e.vanpopupShow,callback:function(t){e.vanpopupShow=t},expression:"vanpopupShow"}},[n("div",{staticClass:"ds-select-contact-vanp-warp"},e._l(e.selected,(function(t,i){return n("div",{key:"ds-select-contact-vanp-item_"+i,staticClass:"ds-select-contact-vanp-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("van-image",{attrs:{fit:"cover",src:"/oua2/getUserPhoto?type=relativePath&userId="+t._id},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)})],1),n("p",[e._v(e._s(t&&t._name))]),n("DsfIcon",{attrs:{name:"guanbi2"},on:{click:function(n){return e.DeleteSelected(t)}}})],1)})),0)])],1)},Ai=[],Oi=n(33),Ni=n.n(Oi),Li=n(34),Vi=n.n(Li);function Hi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bi(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw a}}}}function Bi(e,t){if(e){if("string"===typeof e)return Ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Yi=function(){function e(){Ni()(this,e);var t=Array.prototype.slice.call(arguments),n=this;t[0].forEach((function(e,i){n[e]=t[1][i]})),this.status="user"==this.type||Array.isArray(this.children)&&0!==this.total?t[2]:"disabled",this.imgsrc=null!==this&&void 0!==this&&this.id?"/oua2/getUserPhoto?type=relativePath&userId=".concat(null===this||void 0===this?void 0:this.id):"","user"!=this.type&&(this.selectnums=0)}return Vi()(e,[{key:"changeStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"disabled"!=this.status&&(this.status=null!=e?e:"check"===this.status?"uncheck":"check","uncheck"===this.status&&this.computedSelectnums(0))}},{key:"computedSelectnums",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("dataEchoHandle"===t)this.selectnums+=e;else if("user"!=this.type)if(t){var n=null!==t&&void 0!==t&&t.all?t.all.filter((function(e){return e.pid===(null===t||void 0===t?void 0:t.id)})):[];this.selectnums=0;var i,s=Hi(n);try{for(s.s();!(i=s.n()).done;){var a=i.value;"user"!==a.type||"check"!==a.status&&"disabled"!==a.status?"user"!=a.type&&a.selectnums>0&&(this.selectnums+=a.selectnums):this.selectnums+=1}}catch(r){s.e(r)}finally{s.f()}this.selectnums===this.total&&(this.status="check")}else this.selectnums=null!=e?e:"check"===this.status?this.total:0;"user"!=this.type&&this.selectnums>this.total&&(this.selectnums=this.total)}}]),e}(),Ri=dsf.component({name:"DsfMobileSelectContact",ctrlCaption:"选择联系人",mixins:[$mixins.control],props:{dataUrl:{type:String,default:"email/web/yjxx/getUnitUserTree"},dataSign:{type:String,default:"tab1"},searchPlaceholder:{type:String,default:"搜索"}},data:function(){return{tabs:[],searchStr:"",lists:[],currentLev:0,selectAll:!1,selected:[],selectedUserTotal:0,vanpopupShow:!1,timer:null,searching:!1,selectedids:[],OtherPageIds:[],selectedPerson:[],minusSelect:!1,AllPersons:[],addsend:!1,loading:!1,finished:!1,listsChildrenNode:[]}},watch:{storeChecked:{handler:function(e){var t=this,n=_.cloneDeep(e);this.selectedUserTotal=0,_.forEach(n,(function(e){t.selectedUserTotal+="user"===e.type?1:e.children.length})),this.selectedUserTotal+=this.others.length},deep:!0}},computed:{user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))},storeChecked:function(){return this.$store.state.mobileMailChecked.checked},others:function(){return this.$store.state.mobileMailChecked.otherpageid}},mounted:function(){var e=this;this.storeChecked.length>0&&(this.selectedUserTotal=0,_.forEach(this.storeChecked,(function(t){e.selectedUserTotal+="user"===t.type?1:t.children.length}))),window.sessionStorage.getItem("selectedPersonIds")&&(this.selectedids=JSON.parse(window.sessionStorage.getItem("selectedPersonIds")),this.OtherPageIds=_.cloneDeep(this.others?this.others:this.selectedids)),window.sessionStorage.getItem("selectedPerson")?this.addsend=!0:this.addsend=!1,this.RenderData()},methods:{loadLists:function(){var e=this,t=dsf.layer.loading(),n=this.listsChildrenNode.slice(this.lists.length,this.lists.length+50);n.forEach((function(t){return e.lists.push(t)})),this.loading=this.lists.length===this.listsChildrenNode.length,this.finished=this.lists.length===this.listsChildrenNode.length,dsf.layer.closeLoading(t)},init:function(e){var t=arguments,n=this;return R()(F.a.mark((function i(){var s,a,r,o,l,c,u,d,h,f,p,m,v,g,y;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.length>1&&void 0!==t[1]?t[1]:"AllPersons",a=t.length>2&&void 0!==t[2]?t[2]:null,r=null!=a?a.id:null,o=n,l=new Map,i.t0=s,i.next="AllPersons"===i.t0?6:"handlerFatherNode"===i.t0?10:"handlerChildrenNode"===i.t0?16:"handlerFatherAndChildrenNode"===i.t0?39:42;break;case 6:return c=new Map,u=function(){var e=R()(F.a.mark((function e(t){var n,i,s;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Hi(t),e.prev=1,s=F.a.mark((function e(){var t,n,s,a;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=i.value,t.globalId&&(t.data_sign=o.dataSign,n=new Yi(Object.keys(t),Object.values(t),"uncheck"),(o.selectedids.includes(t.globalId)||o.selectedids.includes(t.id))&&(s=o.OtherPageIds.findIndex((function(e){return t.globalId&&t.globalId===e||t.id&&t.id===e})),s>-1&&o.OtherPageIds.splice(s,1),n.changeStatus(o.addsend?"disabled":"check"),n.computedSelectnums(),a=function e(t){var i=t.globalId.replace(".".concat(t.id),"");if(i!=t.id&&l.has(i)){var s=l.get(i);s.computedSelectnums("user"===n.type?1:n.total,"dataEchoHandle"),e(s)}},a(n)),n.pid&&"check"===c.get(n.pid)&&(n.changeStatus("check"),"user"!=n.type&&n.computedSelectnums(n.total)),"check"===n.status&&c.set(n.id,n.status),l.set(n.globalId,n),Array.isArray(n.children)&&u(n.children));case 2:case"end":return e.stop()}}),e)})),n.s();case 4:if((i=n.n()).done){e.next=8;break}return e.delegateYield(s(),"t0",6);case 6:e.next=4;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e["catch"](1),n.e(e.t1);case 13:return e.prev=13,n.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),u(e),i.abrupt("break",42);case 10:if(d=null===r?null:n.AllPersons.findIndex((function(e){return e.id===r})),!(null!=d&&d>-1)){i.next=15;break}return i.next=14,n.AllPersons[d].computedSelectnums(null,{all:n.AllPersons,id:n.AllPersons[d].id,selectall:n.selectAll});case 14:n.AllPersons[d].pid&&(h=n.AllPersons.find((function(e){return e.id===n.AllPersons[d].pid})),h&&n.init(n.AllPersons,"handlerFatherNode",h));case 15:return i.abrupt("break",42);case 16:f=n.AllPersons.filter((function(e){return e.pid===r})),p=Hi(f),i.prev=18,p.s();case 20:if((m=p.n()).done){i.next=30;break}if(v=m.value,"disabled"!==v.status){i.next=24;break}return i.abrupt("continue",28);case 24:g=n.selectedids.includes(null===a||void 0===a?void 0:a._id)?"disabled":null!==a&&void 0!==a&&a.status?a.status:n.selectAll?"check":"uncheck",v.changeStatus(g),v.computedSelectnums(),"user"!=v.type&&Array.isArray(v.children)&&n.init(n.AllPersons,"handlerChildrenNode",v);case 28:i.next=20;break;case 30:i.next=35;break;case 32:i.prev=32,i.t1=i["catch"](18),p.e(i.t1);case 35:return i.prev=35,p.f(),i.finish(35);case 38:return i.abrupt("break",42);case 39:return a&&(y=n.AllPersons.find((function(e){return e.id===a.id})),y.status=n.selectAll?"check":"uncheck",n.init(n.AllPersons,"handlerFatherNode",y)),n.listsChildrenNode.forEach((function(e){e.status=n.selectedids.includes(e._id)?"disabled":n.selectAll?"check":"uncheck",e.children&&n.init(n.AllPersons,"handlerChildrenNode",e)})),i.abrupt("break",42);case 42:if(!["AllPersons"].includes(s)){i.next=44;break}return i.abrupt("return",Array.from(l.values()));case 44:case"end":return i.stop()}}),i,null,[[18,32,35,38]])})))()},VansearchInput:function(){this.searching=""!==this.searchStr,this.debounce(R()(F.a.mark((function e(){var t=this;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.tabs=[],this.lists=[],this.searchStr?this.lists=this.AllPersons.filter((function(e){return String(e.name).indexOf(t.searchStr)>-1})):this.lists=this.AllPersons.filter((function(e){return!e.pid}));case 3:case"end":return e.stop()}}),e,this)}))),0)()},ClickHandle:function(e){var t=arguments,n=this;return R()(F.a.mark((function i(){var s,a,r,o,l,c,u;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:s=t.length>1&&void 0!==t[1]?t[1]:null,a=t.length>2&&void 0!==t[2]?t[2]:null,i.t0=e,i.next="tabsall"===i.t0?5:"tabsItem"===i.t0?9:"selectAll"===i.t0?11:"selectItem"===i.t0?15:"listclick"===i.t0?20:"confirm"===i.t0?24:37;break;case 5:return n.searchStr="",n.tabs=[],n.pagination(a),i.abrupt("break",37);case 9:return s!=n.tabs.length-1&&(n.searchStr="",n.tabs.splice(Number(s)+1,n.tabs.length),n.pagination(a)),i.abrupt("break",37);case 11:n.selectAll=!n.selectAll,r=Hi(n.lists);try{for(r.s();!(o=r.n()).done;)l=o.value,l.changeStatus(n.selectedids.includes(l._id)?"disabled":null),l.computedSelectnums()}catch(d){r.e(d)}finally{r.f()}return i.abrupt("break",37);case 15:if("disabled"!==n.lists[a].status){i.next=17;break}return i.abrupt("break",37);case 17:return n.lists[a].changeStatus(),"check"===n.lists[a].status&&n.lists[a].computedSelectnums(),i.abrupt("break",37);case 20:if("disabled"!==s.status){i.next=22;break}return i.abrupt("break",37);case 22:return"user"!=s.type&&s.children&&s.children.length?(n.searchStr="",n.pagination(s),n.tabs.push(s)):n.ClickHandle("selectItem",s,a),i.abrupt("break",37);case 24:if(c=dsf.layer.loading(),!(n.storeChecked.length>0)){i.next=29;break}i.t1=_.cloneDeep({checked:n.storeChecked,treeList:n.storeChecked}),i.next=32;break;case 29:return i.next=31,n.checkedHandler(!1);case 31:i.t1=i.sent;case 32:return u=i.t1,n.$eventBus.$emit("selectedPerson",JSON.stringify(u)),dsf.layer.closeLoading(c),n.$router.go(-1),i.abrupt("break",37);case 37:["tabsall","tabsItem","listclick","selectAll","selectItem"].includes(e)&&n.$nextTick(R()(F.a.mark((function t(){var n;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.handlerSelectAllAndMinusSelect(),!["selectAll","selectItem"].includes(e)){t.next=18;break}if(n=this.searching||0===this.tabs.length?null:this.tabs[this.tabs.length-1],this.searching&&null===n&&(n=this.AllPersons.find((function(e){return e.id===s.pid}))),"selectAll"!==e){t.next=12;break}return n&&n.changeStatus(this.selectAll?"check":"uncheck"),t.next=8,this.init(this.AllPersons,"handlerChildrenNode",n);case 8:return t.next=10,this.init(this.AllPersons,"handlerFatherAndChildrenNode",n||null);case 10:t.next=17;break;case 12:return t.next=14,this.init(this.AllPersons,"handlerFatherNode",n||null);case 14:if("user"==s.type||!Array.isArray(s.children)){t.next=17;break}return t.next=17,this.init(this.AllPersons,"handlerChildrenNode",s);case 17:this.checkedHandler(!0);case 18:case"end":return t.stop()}}),t,this)}))));case 38:case"end":return i.stop()}}),i)})))()},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.AllPersons.filter((function(t){return null!==e&&void 0!==e&&e.id?t.pid===e.id:null===t.pid}));t.length>50?(this.pagination(),this.lists=t.slice(0,50),this.loading=!1,this.finished=!1):this.lists=t,this.listsChildrenNode=t},handlerSelectAllAndMinusSelect:function(){this.selectAll=!this.lists.some((function(e){return"user"===e.type&&"uncheck"===e.status||"user"!=e.type&&e.selectnums!=e.total})),this.minusSelect=!this.selectAll&&(this.lists.some((function(e){return"user"===e.type&&"uncheck"!=e.status&&"disabled"!=e.status}))||this.lists.some((function(e){return"user"!=e.type&&"disabled"!=e.status&&(e.selectnums!=e.total&&e.selectnums>0||e.selectnums===e.total)})))},computedSelectedTotal:function(){this.selectedUserTotal=0;var e=this.AllPersons.filter((function(e){return!e.pid}));if(Array.isArray(e)){var t,n=Hi(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;"user"===i.type&&"check"===i.status?this.selectedUserTotal+=1:"user"!=i.type&&(this.selectedUserTotal+=i.selectnums)}}catch(s){n.e(s)}finally{n.f()}}this.checkedHandler(!0)},checkedHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map,n=0;while(n<this.AllPersons.length){var i=_.cloneDeep(this.AllPersons[n]);if("user"!=i.type&&Array.isArray(i.children)&&i.children)t.has(i.id)||(i.children=[],t.set(i.id,i));else if("check"===i.status&&t.has(i.pid)){var s=t.get(i.pid);s.children.push(i),t.set(i.pid,s)}n++}var a=Array.from(t.values()).filter((function(e){return Array.isArray(e.children)&&e.children.length>0}));if(!e)return{checked:a,treeList:a,data_sign:this.dataSign};this.commitChecked(a)},commitChecked:function(e){var t=this;e=_.cloneDeep(e);var n=_.cloneDeep(this.storeChecked);_.forEach(n,(function(n){n.data_sign!=t.dataSign&&e.push(n)})),this.$store.commit("mobileMailChecked/updateChecked",e),this.selectedUserTotal+=this.OtherPageIds.length},RenderData:function(){var e=this;return R()(F.a.mark((function t(){var n,i,s,a;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.dataUrl,i=e.isDesign,n&&!i){t.next=3;break}return t.abrupt("return");case 3:s=e.$replace(e.dataUrl,e.local||{}),e,a=dsf.layer.loading(),e.$http.get(s).done(function(){var t=R()(F.a.mark((function t(n){var i,s;return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=n.success,s=n.data,n.message,!i){t.next=10;break}return t.next=4,e.init(Array.isArray(s)?s:[s],"AllPersons");case 4:e.AllPersons=t.sent,e.others&&e.checkedHandler(!0),e.$store.commit("mobileMailChecked/updateOtherpageid",e.OtherPageIds),e.selectedids.length>0&&0===e.selectedUserTotal&&e.computedSelectedTotal(),e.pagination(),e.handlerSelectAllAndMinusSelect();case 10:dsf.layer.closeLoading(a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).error((function(e){dsf.layer.closeLoading(a)}));case 7:case"end":return t.stop()}}),t)})))()},debounce:function(e,t){var n=this;return function(){null!==n.timer&&clearTimeout(n.timer),n.timer=setTimeout((function(){e.apply(n,arguments)}),t)}}},beforeDestroy:function(){window.sessionStorage.removeItem("selectedPersonIds"),window.sessionStorage.removeItem("selectedPerson"),this.$eventBus.$off("selectedPerson")},destroyed:function(){}}),zi=Ri,Fi=Object(se["a"])(zi,Pi,Ai,!1,null,null,null),qi=Fi.exports,Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-write-mail ds-details-mail",class:{"ds-no-padding":!e.isDesign}},[n("div",{staticClass:"ds-details-mail-top"},[n("div",{staticClass:"ds-details-mail-info"},[n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(0),n("div",{ref:"mailSender",staticClass:"ds-write-mail-send-list",on:{click:function(t){return e.ClickHandle("checkMoreSelectedUser")}}},[e._l(e.email_yjxx.jsr,(function(t,i){return[i<10?n("div",{key:t._id,staticClass:"ds-write-mail-sender-item"},[n("div",{staticClass:"ds-sender-item-photo"},[n("van-image",{attrs:{fit:"cover",src:"/oua2/getUserPhoto?type=relativePath&userId="+(t.id||t.userId)},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{width:"100%",height:"100%",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)})],1),n("p",[e._v(e._s(t.name||t.userName||t.text))]),n("DsfIcon",{attrs:{name:"guanbi2"},on:{click:function(t){return t.stopPropagation(),e.ClickHandle("deleteJsr",i)}}})],1):e._e()]}))],2),e.email_yjxx.jsr&&e.email_yjxx.jsr.length>1?n("div",{staticClass:"overflow-div",style:{height:Number(e.rowHeight)+"px"},on:{click:function(t){return e.ClickHandle("checkMoreSelectedUser")}}},[n("DsfIcon",{attrs:{name:"gengduomore12"}})],1):e._e(),n("DsfIcon",{attrs:{name:"icon_tianjia"},on:{click:function(t){return e.ClickHandle("addSendPerson")}}}),n("dsf-mobile-data-choice",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"selDataChoice",staticClass:"ds-no-padding",attrs:{"dialog-url":e.openUrl,"from-data-chioce":!0,"dialog-title":"选择发送对象","allow-post":!1,"show-label":!1,"open-default-selected":!0},on:{selected:e.choiceSelected},model:{value:e.email_yjxx.jsr,callback:function(t){e.$set(e.email_yjxx,"jsr",t)},expression:"email_yjxx.jsr"}})],1),n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(1),n("van-field",{attrs:{placeholder:"请输入标题",maxlength:"100"},model:{value:e.email_yjxx.yjzt,callback:function(t){e.$set(e.email_yjxx,"yjzt",t)},expression:"email_yjxx.yjzt"}})],1),n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(2),n("div",{staticClass:"ds-write-mail-send-list",on:{click:function(t){return e.ClickHandle("jjcd")}}},[n("p",[e._v(e._s(e.email_yjxx.jjcd.text))])]),n("DsfIcon",{attrs:{name:"arrow-right"}})],1),n("div",{staticClass:"ds-details-mail-infoitem",style:{height:Number(e.rowHeight)+"px"}},[e._m(3),n("div",{staticClass:"ds-write-mail-send-list"},[n("van-radio-group",{attrs:{direction:"horizontal"},on:{change:e.changeSendSms},model:{value:e.email_yjxx.is_send_sms.value,callback:function(t){e.$set(e.email_yjxx.is_send_sms,"value",t)},expression:"email_yjxx.is_send_sms.value"}},[n("van-radio",{attrs:{name:"0"}},[e._v("否")]),n("van-radio",{attrs:{name:"1"}},[e._v("是")])],1)],1)]),n("div",{staticClass:"ds-details-mail-file-list ds-form-item ds-upload upload-file"},[n("p",{staticClass:"fjtext"},[e._v("附    件")]),n("dsf-mobile-upload-file",{attrs:{label:"","max-count":"5","request-url":e.requestUrl},on:{"file-preview":e.filePreview},model:{value:e.fileListCopy,callback:function(t){e.fileListCopy=t},expression:"fileListCopy"}})],1)]),n("div",{staticClass:"ds-details-mail-richtext"},[n("van-field",{attrs:{autosize:"",type:"textarea","show-word-limit":"",maxlength:"1000"},scopedSlots:e._u([{key:"input",fn:function(){return[n("div",{ref:"contenteditableDiv",staticClass:"ds-editor",attrs:{placeholder:"请输入邮件正文",contenteditable:"true"},domProps:{innerHTML:e._s(e.dsf.safe.xss(e.email_yjxx.yjnr))}})]},proxy:!0}]),model:{value:e.email_yjxx.yjnr,callback:function(t){e.$set(e.email_yjxx,"yjnr",t)},expression:"email_yjxx.yjnr"}})],1)]),n("div",{staticClass:"ds-details-mail-bottom",class:e.replyMail?"":"two-button"},[e.replyMail?e._e():n("van-button",{on:{click:function(t){return e.ClickHandle("send","temporaryStorage")}}},[e._v(" 暂存 ")]),n("van-button",{attrs:{loading:e.sendmail,"oading-text":"发送中..."},on:{click:function(t){return e.ClickHandle("send")}}},[e._v(" 发送 ")])],1),n("van-action-sheet",{attrs:{actions:e.vanActions,round:!1,"cancel-text":"取消","close-on-click-action":""},on:{select:e.onVanactionsheetSelect},model:{value:e.showVanactionsheet,callback:function(t){e.showVanactionsheet=t},expression:"showVanactionsheet"}}),n("details-person-more",{ref:"detailsPerson",attrs:{"filter-person":e.filterPerson,"ready-cancel":e.readyCancel},on:{"close-back":e.closeBack,"handle-event":e.handleEvent}})],1)},Wi=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("收件人"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("标题"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("紧急程度"),n("span")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ds-details-mail-infoitem-name"},[e._v("短信提醒"),n("span")])}],Ji=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-action-sheet",{staticClass:"details-person-more",attrs:{title:"发送对象"},on:{close:e.onCancel},model:{value:e.showSelect,callback:function(t){e.showSelect=t},expression:"showSelect"}},[n("div",{staticClass:"person-more-content"},[e.filterPerson?n("div",{staticClass:"person-more-wraper"},e._l(e.filterPerson,(function(t,i){return n("div",{staticClass:"person-more-cell",attrs:{Key:i}},[t.filter((function(t){return-1===e.readyCancel.findIndex((function(e){return e===t}))})).length>0?n("div",{staticClass:"person-more-cell-title"},[e._v(" "+e._s(t[0].UnitName||t[0].pname||t[0].name)+" "),n("span",[e._v(" （"+e._s(t.filter((function(t){return-1===e.readyCancel.findIndex((function(e){return e===t}))})).length)+"人） ")])]):e._e(),n("div",{staticClass:"person-more-cell-box"},[e.operability?e._l(t.filter((function(t){return-1===e.readyCancel.findIndex((function(e){return e===t}))})),(function(t){return n("div",{key:(t.id||t._id)+"_"+i,staticClass:"person-more-cell-item"},[n("van-image",{attrs:{round:"",fit:"cover","lazy-load":"",src:"/oua2/getUserPhoto?type=relativePath&userId="+(t.id||t._id)},on:{click:function(n){return e.getAllName(t)}},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("van-image",{attrs:{round:"",fit:"cover",src:e.user_default_src}})]},proxy:!0}],null,!0)}),n("span",{on:{click:function(n){return e.getAllName(t)}}},[e._v(e._s(t._name||t.name))]),e.operability?n("van-icon",{attrs:{name:"cross"},on:{click:function(n){return e.detailsEvent(t)}}}):e._e()],1)})):e._e()],2)])})),0):e._e(),e.operability?n("div",{staticClass:"btns-box"},[n("van-button",{attrs:{block:""},on:{click:e.onCancel}},[e._v("取 消")]),n("van-button",{attrs:{type:"primary",block:""},on:{click:e.detailsEvent}},[e._v(" 确 定 ")])],1):e._e()])])},Xi=[],Ki={name:"DetailsPersonMore",props:{readyCancel:{type:Array,default:function(){return[]}},filterPerson:{type:[Object,Array],default:function(){return null}}},data:function(){return{showSelect:!1,operability:!0}},computed:{user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))}},created:function(){},methods:{detailsEvent:function(e){this.$emit("handle-event",e)},onCancel:function(){this.showSelect=!1,this.$emit("close-back")},getAllName:function(e){dsf.layer.alert({className:"show-more-alert",message:e._name||e.name,closeOnClickOverlay:!0,showConfirmButton:!1})}}},Gi=Ki,Qi=Object(se["a"])(Gi,Ji,Xi,!1,null,null,null),Zi=Qi.exports;function es(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ts(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(o)throw a}}}}function ts(e,t){if(e){if("string"===typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,t):void 0}}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?is(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var as=["png","jpg","jpeg","bmp","gif"],rs=dsf.component({name:"DsfMobileWriteMail",ctrlCaption:"写邮件",components:{DetailsPersonMore:Zi},mixins:[$mixins.control],props:{rowHeight:{type:[Number,String],default:46},selectpersonPath:{type:String,default:"/mobile/email/mobile/mobile-selectperson"}},data:function(){return{fileList:[],fileListCopy:[],showVanactionsheet:!1,vanActions:[{name:"普通",value:"0"},{name:"平急",value:"1"},{name:"加急",value:"2"},{name:"特急",value:"3"},{name:"特提",value:"4"}],showVanpopup:!1,email_yjxx:{jsr:[],yjzt:"",jsr_info:"",yjnr:"",fj:null,jjcd:{text:"普通",value:"0"},is_send_sms:{text:"否",value:"0"}},handleModel:null,replyMail:!1,uploadSuccessFile:[],addtype:"add",yjsfId:null,yjxxId:null,selectedPerson:[],popupShow:!0,overflowDiv:!1,SelectUserHandle:!0,sendmail:!1,popupTreeList:[],mailDetail:!1,openUrl:"",requestUrl:"/file/upload",readyCancel:[],filterPerson:{}}},watch:{"email_yjxx.jsr":{handler:function(e){var t=this;this.filterPerson={},e.forEach((function(e){var n=t.filterPerson[e.deptId||e.pid||e.unitId]||[];e._id||(e._id=e.id),e._checked=1,n.push(e),t.filterPerson[e.deptId||e.pid||e.unitId]=n}))},deep:!0}},computed:{user_default_src:function(){return this.$replace(dsf.config.setting_public_user_default_header.replace(/^\/\//,"/"))},$content:function(){return this.slots&&this.slots.length>0?this.slots[0]:{}},others:function(){return this.$store.state.mobileMailChecked.otherpageid}},mounted:function(){var e,t=this,n=this,i=null;if("reply"==(null===(e=this.queryString)||void 0===e?void 0:e.status)&&(this.addtype="reply",this.replyMail=!0,this.mailDetail=!0,this.getReplyInfo(),n.$nextTick((function(){n.computedOverflow()}))),window.sessionStorage.getItem("editMail")){var s,a,r,o;this.addtype="edit",this.mailDetail=!0,i=JSON.parse(window.sessionStorage.getItem("editMail")),this.yjsfId=i.yjsfId||null,this.yjxxId=i.yjxxId||null;var l={id:(null===(s=i)||void 0===s?void 0:s.yjxxId)||"",yjsfId:(null===(a=i)||void 0===a?void 0:a.yjsfId)||"",yjxxId:(null===(r=i)||void 0===r?void 0:r.yjxxId)||"",data:JSON.stringify({_id:(null===(o=i)||void 0===o?void 0:o.yjxxId)||""}),pageName:"edit",namespace:"email.yjxx"};this.$http.get("email/meta/data",l).done((function(e){var i=e.success,s=e.data;e.message;if(i){var a=[];for(var r in s){if("email_yjxx.jsr_info"===r&&s[r])try{var o=JSON.parse(s[r]);_.forEach(o,(function(e,n){0===n&&(t.selectedPerson=[],t.popupTreeList=[]),e.name=e.text,e.id=e.value,t.selectedPerson.push(e),t.popupTreeList.push(e)}))}catch(l){}a=r.split("."),"email_yjxx.fj"===r&&s[r]?(t.email_yjxx.fj=JSON.stringify(s[r]),t.fileListCopy=s[r]):void 0!=t.email_yjxx[a[1]]&&("email_yjxx.jsr_info"===r?(s[r]=JSON.parse(s[r]),Array.isArray(s[r])?s[r].forEach((function(e){t.email_yjxx.jsr.push(ss(ss({},e),{},{name:e.text,id:e.value}))})):t.email_yjxx.jsr.push(ss(ss({},s[r]),{},{name:s[r].text,id:s[r].value}))):"email_yjxx.jsr"!=r&&(t.email_yjxx[a[1]]=s[r]))}n.$nextTick((function(){n.computedOverflow()}))}})).error((function(e){}))}this.$eventBus.$on("selectedPerson",function(){var e=R()(F.a.mark((function e(t){var i;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.mailDetail=!1,"addSendPerson"!==n.handleModel){e.next=16;break}return n.email_yjxx.jsr=[],e.prev=3,n.$refs.selectUserPopup.refreshPopup(),i=JSON.parse(t),e.next=8,n.selectedHandler(i);case 8:return e.next=10,n.dataHandler("email_yjxx","jsr");case 10:n.$nextTick((function(){n.computedOverflow()})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()),this.$nextTick((function(){t.RenderData()}))},methods:{closeBack:function(){this.readyCancel=[],this.$refs.detailsPerson.showSelect=!1},handleEvent:function(e){e.id?this.readyCancel.push(e):(this.readyCancel.forEach((function(e){return e._checked?e._checked=0:e.checked=0})),this.email_yjxx.jsr=this.email_yjxx.jsr.filter((function(e){return null!==e&&void 0!==e&&e._checked?1===e._checked:2===e.checked})),this.$refs.detailsPerson.showSelect=!1)},choiceSelected:function(e){this.email_yjxx.jsr=e.args,this.overflowDiv=this.email_yjxx.jsr.length>3},getReplyInfo:function(){var e=this,t=dsf.layer.loading();this.$http.get("email/mobile/yjsf/getReplyInfo",ss({},this.$route.query)).done((function(t){if(t.success){var n,i=t.data;e.yjsfId=(null===(n=e.queryString)||void 0===n?void 0:n.yjsfId)||null,e.email_yjxx.yjzt="回复：".concat(i.title),e.email_yjxx.yjnr='<div>\n              <br/>\n              <br/>\n              <br/>\n              <br/>\n              <div contenteditable="false">\n                <span style="color: #999">——————邮件信息——————</span>\n                <div>\n                  <span style="font-weight: 600">发件人：</span>\n                  <span>'.concat(i.sendUserName,'</span>\n                </div>\n                <div>\n                  <span style="font-weight: 600">发送日期：</span>\n                  <span>').concat(i.sendTime,'</span>\n                </div>\n                <div>\n                  <span style="font-weight: 600">收件人：</span>\n                  <span>').concat(i.jsrText,'</span>\n                </div>\n                <div>\n                  <span style="font-weight: 600">主题：</span>\n                  <span>').concat(i.title,'</span>\n                </div>\n                <div>\n                  <p style="font-weight: 600">内容：</p>\n                  <span >').concat(i.content,"</span>\n                </div>\n              </div>\n            </div>");var s=[];_.forEach(i.replyUsers,(function(t){var n;null!==(n=e.queryString)&&void 0!==n&&n.sign&&"all"===e.queryString.sign&&_.includes(i.sendUserName,t.userName),t.id=t.userId,t.name=t.userName,delete t.userName,delete t.userId,s.push(t)})),e.email_yjxx.jsr=s,e.selectedPerson=s,e.popupTreeList=s}})).error((function(e){dsf.layer.message((null===e||void 0===e?void 0:e.message)||"请求异常",!1)})).always((function(){dsf.layer.closeLoading(t)}))},changeSendSms:function(e){var t=[{text:"否",value:"0"},{text:"是",value:"1"}];this.email_yjxx.is_send_sms=t[e]},dataHandler:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n){case"email_yjxx":if(i&&null!==(e=this[n])&&void 0!==e&&e[i]){var s,a=es(this.selectedPerson);try{for(a.s();!(s=a.n()).done;){var r=s.value;if(Array.isArray(r.children)&&r.children.length!=r.total)_.forEach(r.children,(function(e){var s=_.cloneDeep(e);s.userId=e.id,s.userName=e.name,t[n][i].push(s)}));else{var o=_.cloneDeep(r);o.userId=r.id,o.userName=r.name,this[n][i].push(o)}}}catch(l){a.e(l)}finally{a.f()}}break}},selectedHandler:function(e){var t=this,n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n=t.filterMismatchData(t[e]),n},i=_.cloneDeep(e.checked);if(dsf.deepForEach(i,(function(e,t,n,i){i&&(e.pname=i.name)})),0===this.selectedPerson.length)this.selectedPerson=i;else{var s=n("selectedPerson");this.selectedPerson=s.concat(i)}if(0===this.popupTreeList.length)this.popupTreeList=i;else{var a=n("popupTreeList");this.popupTreeList=a.concat(i)}},filterMismatchData:function(e){e=_.cloneDeep(e);var t=null,n=this,i=e.filter((function(e){return t=Object.keys(e),e.id&&n.others.includes(e.id)&&3===t.length||n.others.includes(e.globalId)}));return i},computedOverflow:function(){var e=this;return R()(F.a.mark((function t(){return F.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Array.isArray(e.selectedPerson)&&0===e.selectedPerson.length?(e.SelectUserHandle=!1,e.email_yjxx.jsr.forEach((function(t){e.selectedPerson.push({id:t.id,name:t.name,selected:!0,type:t.type})}))):e.SelectUserHandle=!0,e.overflowDivFunc();case 2:case"end":return t.stop()}}),t)})))()},overflowDivFunc:function(){var e=this,t=setTimeout((function(){var n,i;clearTimeout(t),e.overflowDiv=(null===(n=e.$refs.mailSender)||void 0===n?void 0:n.scrollHeight)>(null===(i=e.$refs.mailSender)||void 0===i?void 0:i.clientHeight)}),500)},filePreview:function(e){var t=e.args,n=JSON.parse(this.fileListCopy),i=null,s=as.find((function(e){return e===t.suffix.toLocaleLowerCase()}));if(s){var a=_.findIndex(n,(function(e){return e.id==t.id})),r=_.map(_.filter(n,(function(e){return _.includes(as,e.suffix.toLocaleLowerCase())})),(function(e){return e.relativePath}));window.vant.ImagePreview({images:r,startPosition:a})}else i="/mobile/email/mobile/mobile-fileview?path="+dsf.config.setting_public_file_host+t.relativePath,this.$router.push(i)},ClickHandle:function(e){var t=arguments,n=this;return R()(F.a.mark((function i(){var s,a,r,o,l,c,u,d,h,f,p,m,v,g,y,b,x;return F.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t.length>1&&void 0!==t[1]?t[1]:null,r=n,n.handleModel=e,i.t0=e,i.next="deleteJsr"===i.t0?6:"checkMoreSelectedUser"===i.t0?21:"addSendPerson"===i.t0?25:"deleteFile"===i.t0?32:"jjcd"===i.t0?36:"send"===i.t0?38:""===i.t0?61:"updateSelectUser"===i.t0?62:71;break;case 6:if(o=JSON.parse(JSON.stringify(n.email_yjxx.jsr[a])),null===o||void 0===o||!o.globalid){i.next=14;break}return i.next=10,n.deleteHandler(o.globalid,"selectedPerson");case 10:return i.next=12,n.deleteHandler(o.globalid,"popupTreeList");case 12:i.next=18;break;case 14:return i.next=16,n.deleteHandler(o.id,"selectedPerson","id");case 16:return i.next=18,n.deleteHandler(o.id,"popupTreeList","id");case 18:return n.email_yjxx.jsr.splice(a,1),n.overflowDivFunc(),i.abrupt("break",71);case 21:if(null!==(s=n.email_yjxx)&&void 0!==s&&s.jsr&&Array.isArray(n.email_yjxx.jsr)&&0!==n.email_yjxx.jsr.length){i.next=23;break}return i.abrupt("break",71);case 23:return n.$refs.detailsPerson.showSelect=!0,i.abrupt("break",71);case 25:l=[],c=es(n.selectedPerson);try{for(c.s();!(u=c.n()).done;)if(d=u.value,Array.isArray(d.children)&&d.children.length!=d.total){h=es(d.children);try{for(h.s();!(f=h.n()).done;)p=f.value,l.push(p.globalId||p.id)}catch(w){h.e(w)}finally{h.f()}}else l.push(d.globalId||d.id)}catch(w){c.e(w)}finally{c.f()}return window.sessionStorage.setItem("selectedPersonIds",JSON.stringify(l)),n.openUrl=n.selectpersonPath+"?t="+dsf.date.now().getTime(),n.$refs.selDataChoice.popupShow=!0,i.abrupt("break",71);case 32:return n.uploadSuccessFile.splice(a,1),n.fileList.splice(a,1),n.email_yjxx.fj=JSON.stringify(n.uploadSuccessFile),i.abrupt("break",71);case 36:return n.showVanactionsheet=!0,i.abrupt("break",71);case 38:if(n.email_yjxx.yjnr=n.$refs.contenteditableDiv.innerHTML,!(n.email_yjxx.jsr.length>0&&n.email_yjxx.yjzt)){i.next=59;break}for(g in v={},n.email_yjxx)v["email_yjxx.".concat(g)]=JSON.parse(JSON.stringify(n.email_yjxx[g]));return v.actionType=a?"save":"send",v.isNewEmail="add"===n.addtype||"reply"===n.addtype||"reply"==(null===(m=n.queryString)||void 0===m?void 0:m.status)?1:0,v.yjsfId="add"===n.addtype?"":n.yjsfId,v["email_yjxx.jsr"]=_.map(n.email_yjxx.jsr,(function(e){return{text:e.name||e.userName||e.text,value:e.id||e.userId||e.value}})),v["email_yjxx.jsr_info"]=_.map(n.email_yjxx.jsr,(function(e){return{text:e.name||e.userName||e.text,value:e.id||e.userId||e.value,type:e.type,globalId:e.globalId,total:e.total||1,phone:e.phone||"",pid:e.pid,pname:e.pname||""}})),v["email_yjxx.jsr_info"]=JSON.stringify(v["email_yjxx.jsr_info"]),v["email_yjxx.fj"]=n.fileListCopy.length?n.fileListCopy:"","edit"===n.addtype&&n.yjxxId&&(v._id=n.yjxxId),y={namespace:"email.yjxx",pageName:"edit",data:JSON.stringify(v)},b=dsf.layer.loading(),"temporaryStorage"!=a&&(n.sendmail=!0),i.next=55,n.$http.post("email/meta/persistData",y).done((function(e){var t=e.success,i=(e.data,e.message);if(dsf.layer.message(i,t),t){var s=setTimeout((function(){clearTimeout(s),n.$eventBus.$emit("writeMail",!0),"edit"===y.pageName?r.$router.go(-2):r.$router.back()}),1500);n.email_yjxx={jsr:[],yjzt:"",jsr_info:"",yjnr:"",fj:null,jjcd:{text:"普通",value:"0"},is_send_sms:{text:"否",value:"0"}}}})).error((function(e){dsf.layer.message(e,success)}));case 55:dsf.layer.closeLoading(b),n.sendmail=!1,i.next=60;break;case 59:0!==n.email_yjxx.jsr.length&&n.email_yjxx.yjzt||dsf.layer.message(0===n.email_yjxx.jsr.length?"请选择收件人！":"请输入标题！",!1);case 60:return i.abrupt("break",71);case 61:return i.abrupt("break",71);case 62:return x=a.map((function(e){return e.globalId})),i.next=65,n.removeSelectNode(x);case 65:return n.email_yjxx.jsr=[],i.next=68,n.dataHandler("email_yjxx","jsr");case 68:return n.$refs.selectUserPopup.ClickHandle("showPopup",!1),n.overflowDivFunc(),i.abrupt("break",71);case 71:case"end":return i.stop()}}),i)})))()},removeSelectNode:function(e){var t=this;return R()(F.a.mark((function n(){var i,s,a;return F.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=es(e),n.prev=1,i.s();case 3:if((s=i.n()).done){n.next=11;break}return a=s.value,n.next=7,t.deleteHandler(a,"selectedPerson");case 7:return n.next=9,t.deleteHandler(a,"popupTreeList");case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])})))()},deleteHandler:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"globalId",s=es(this[t].entries());try{for(s.s();!(n=s.n()).done;){var a=E()(n.value,2),r=a[0],o=a[1];if(e===o[i]){this[t].splice(r,1);break}if(Array.isArray(o.children)&&o.children.length>0){var l,c=es(o.children.entries());try{for(c.s();!(l=c.n()).done;){var u=E()(l.value,2),d=u[0],h=u[1];if(e===h[i]){this[t][r].children.splice(d,1),0===this[t][r].children.length&&this[t].splice(r,1);break}}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){s.e(f)}finally{s.f()}},deleteUpdateSelectedPerson:function(e){var t=function t(n){var i=Array.isArray(n.children)&&n.children.length>0;n.id===e.userId||n.id===e.id?(delete n.selected,"unit"===n.type&&n.selectnums&&delete n.selectnums):i&&n.children.forEach((function(e){return t(e)}))};this.selectedPerson.forEach((function(e){return t(e)}))},onVanactionsheetSelect:function(e){this.email_yjxx.jjcd=JSON.parse(JSON.stringify({text:e.name,value:e.value}))},afterRead:function(e,t){var n=this;if(!this.isDesign){e.length||(e=[e]);var i=this.uploadSuccessFile.length-e.length;_.forEach(e,(function(e,t){n.uploadMultipleFile(e,t,i)}))}},uploadMultipleFile:function(e,t,n){var i=this,s=dsf.layer.loading({text:"上传中..."}),a=new FormData;a.append("file",e.file),this.$http.post("email/file/upload",a,{headers:{"Content-Type":"multipart/form-data"}}).done((function(t){t.success&&2e4==t.state&&(e.status="",e.data=t.data[0],i.uploadSuccessFile.push(t.data[0]),i.$nextTick((function(){i.email_yjxx.fj=JSON.stringify(i.uploadSuccessFile)})))})).error((function(e){i.uploadSuccessFile.splice(i.uploadSuccessFile.length-1,1),dsf.layer.message(e.message,!1)})).always((function(){dsf.layer.closeLoading(s)}))},RenderData:function(){if(!this.isDesign){var e=this.$replace("email/dict/getList/4e1ddc43b1af47778ac90ea1ad09be09",{});this.$http.get(e).done((function(e){e.success,e.data,e.message})).error((function(e){}))}}},beforeDestroy:function(){window.sessionStorage.removeItem("replyMail"),window.sessionStorage.removeItem("editMail"),this.$store.commit("mobileMailChecked/updateChecked",[]),this.$store.commit("mobileMailChecked/updateOtherpageid",null),this.$eventBus.$off("selectedPerson")},destroyed:function(){}}),os=rs,ls=Object(se["a"])(os,Ui,Wi,!1,null,null,null),cs=ls.exports;function us(e){e.component(Gn.name,Gn),e.component(fi.name,fi),e.component(bi.name,bi),e.component(Ii.name,Ii),e.component(qi.name,qi),e.component(cs.name,cs)}var ds={install:us},hs=dsf.defineAsyncComponent("DsfMobileAddress",(function(){return n.e(24).then(n.bind(null,1243))})),fs=dsf.defineAsyncComponent("DsfMobileUnitAddress",(function(){return n.e(24).then(n.bind(null,1244))})),ps=dsf.defineAsyncComponent("DsfMobileAdvancedSearch",(function(){return n.e(24).then(n.bind(null,1245))})),ms=dsf.defineAsyncComponent("DsfMobilePendingList",(function(){return n.e(24).then(n.bind(null,1246))})),vs=dsf.defineAsyncComponent("DsfMobileMyschedule",(function(){return n.e(24).then(n.bind(null,1247))})),gs=dsf.defineAsyncComponent("DsfMobileMyscheduleListItem",(function(){return n.e(24).then(n.bind(null,1248))})),ys=dsf.defineAsyncComponent("DsfMobileMyscheduleFigure",(function(){return n.e(24).then(n.bind(null,1249))})),bs=dsf.defineAsyncComponent("DsfMobileMyschedulePopupView",(function(){return n.e(24).then(n.bind(null,1250))})),_s=dsf.defineAsyncComponent("DsfMobileMyscheduleSearch",(function(){return n.e(24).then(n.bind(null,1251))})),xs=dsf.defineAsyncComponent("DsfMobileSendMember",(function(){return n.e(24).then(n.bind(null,966))})),ws=dsf.defineAsyncComponent("DsfMobileSendMessage",(function(){return n.e(24).then(n.bind(null,976))})),Cs=dsf.defineAsyncComponent("DsfMobileSendStatus",(function(){return n.e(24).then(n.bind(null,1252))})),ks=dsf.defineAsyncComponent("DsfMobileSendDetails",(function(){return n.e(24).then(n.bind(null,1253))})),Ss=dsf.defineAsyncComponent("DsfMobileSearchMember",(function(){return n.e(24).then(n.bind(null,1254))}));function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(Object(n),!0).forEach((function(t){J()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ms=$s($s($s($s($s({},j),I),P),A),O),Ts=dsf.createDsfVueInstall("platform",Ms),js={install:Ts},Is=function(e,t){e.appendChild(t)},Ps={install:function(e){e.directive("mobileLoading",{bind:function(e,i){var s=new t({el:document.createElement("div"),data:{text:e.getAttribute("load-text")||"加载中"}});e.instance=s,e.mask=s.$el,n(e,e.mask,i)},update:function(e,t){t.oldValue!==t.value&&n(e,e.mask,t)},unbind:function(e,t){e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),e.instance&&e.instance.$destroy()}});var t=e.extend(re),n=function(t,n,i){Is(t,n),i.value?e.nextTick((function(){t.instance.loading=!0;var e=dsf.getCss(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative")})):t.instance.loading=!1}}},As=0,Os={install:function(e){e.directive("mobileScroll",{bind:function(e,t,n,i){if(n.context&&!n.context.isDesign){var s=++As;e.setAttribute("scroll-id",s)}}})}},Ns="top-safe-area",Ls={install:function(e){e.directive("mobileTopSafe",{bind:function(e,t,n,i){dsf.ui.topSafeArea&&e.setAttribute(Ns,1)},unbind:function(e,t,n,i){e.removeAttribute(Ns)}})}},Vs={install:function(e){e.use(Ps),e.use(Os),e.use(Ls)}},Hs=n(28),Bs=Vue.defineAsyncComponent((function(){return n.e(20).then(n.bind(null,970))})),Es=dsf.defineAsyncComponent("DsfMobilePlatformForgotPassword",(function(){return n.e(20).then(n.bind(null,1020))})),Ys=dsf.defineAsyncComponent("DsfMobilePlatformAlterPassword",(function(){return n.e(20).then(n.bind(null,1021))})),Rs={install:function(e){e.component("DsfMobilePlatformLogin",Bs),e.component("DsfMobilePlatformForgotPassword",Es),e.component("DsfMobilePlatformAlterPassword",Ys)}},zs=dsf.defineAsyncComponent("DsfMobilePlatformPolyline",(function(){return n.e(24).then(n.bind(null,1022))})),Fs=dsf.defineAsyncComponent("DsfMobilePlatformBar",(function(){return n.e(24).then(n.bind(null,1023))})),qs=dsf.defineAsyncComponent("DsfMobilePlatformPie",(function(){return n.e(24).then(n.bind(null,1024))})),Us=dsf.defineAsyncComponent("DsfMobilePlatformMixinAxis",(function(){return n.e(24).then(n.bind(null,1025))})),Ws=dsf.defineAsyncComponent("DsfMobilePlatformRadar",(function(){return n.e(24).then(n.bind(null,1026))})),Js=dsf.defineAsyncComponent("DsfMobilePlatformMapChart",(function(){return n.e(24).then(n.bind(null,1027))})),Xs=dsf.defineAsyncComponent("DsfMobilePlatformScatter",(function(){return n.e(24).then(n.bind(null,1028))})),Ks={DsfMobilePlatformPolyline:zs,DsfMobilePlatformBar:Fs,DsfMobilePlatformPie:qs,DsfMobilePlatformMixinAxis:Us,DsfMobilePlatformRadar:Ws,DsfMobilePlatformMapChart:Js,DsfMobilePlatformScatter:Xs},Gs=dsf.createDsfVueInstall("platform",Ks),Qs={install:Gs},Zs={DsfMobileAuditState:dsf.defineAsyncComponent("DsfMobileAuditState",(function(){return n.e(17).then(n.bind(null,1029))}))},ea=dsf.createDsfVueInstall("platform",Zs),ta=ea;function na(e){e.use(Pn),e.use(En),e.use(qn),e.use(ds),e.use(js),e.use(Hs["a"]),e.use(Vs),e.use(Rs),e.use(ta),e.use(Qs),e.use(window.vant.Lazyload,{lazyComponent:!0}),dsf.init.registerInitCall((function(){dsf.client.pc()||1!=dsf.config.setting_public_mobile_vconsole||dsf.http.importFiles([dsf.url.getWebPath("$/js/libs/vConsole/vconsole.min.js")]).then((function(){new window.VConsole})).catch((function(e){dsf.error(e)}))}))}var ia=na;n(341);!function(e,t){Vue.use(ia),(t=e.$platformRouter.mobile).push.apply(t,L()(H))}(dsf.global||(dsf.global={}))},,,function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar"},[n("div",{staticClass:"dsf-calendar-header"},[n("span",{staticClass:"dsf-calendar-header-title"},["date"===e.type?[e._v("选择日期")]:"year"===e.type?[e._v("选择年份")]:"month"===e.type?[e._v("选择月份")]:"datetime_s"===e.type||"datetime"===e.type?[e._v("选择时间")]:"quarter"===e.type?[e._v("选择季度")]:"halfyear"===e.type?[e._v("选择半年")]:"tendays"===e.type?[e._v("选择旬")]:e._e()],2),n("div",{staticClass:"dsf-calendar-header-current",on:{click:e.chooseActive}},["day"==e.currentView||"tendays"==e.currentView?n("span",[e._v(e._s(e.dayView.activeMonth&&e.dayView.activeMonth.key||""))]):"month"==e.currentView?n("span",[e._v(e._s(e.monthView&&e.monthView.activeText||""))]):"year"==e.currentView?n("span",[e._v(e._s(e.yearView&&e.yearView.activeText||""))]):"quarter"==e.currentView||"halfyear"==e.currentView?n("span",[e._v(e._s(e.monthView&&e.monthView.activeText||""))]):e._e()]),n("i",{staticClass:"dsf-calendar-header-close iconfont icon-guanbi2",on:{click:function(t){return e.$emit("cancel")}}})]),n("div",{staticClass:"dsf-calendar-body"},["datetime_s"===e.type||"datetime"===e.type?n("div",{staticClass:"dsf-calendar-value"},[n("div",{on:{click:function(t){return e.chooseTime(0)}}},[e._v(e._s(e.valueText[0][0])),n("span",[e._v(e._s(e.valueText[0][1]))])]),2==e.valueText.length?[n("span",[e._v("至")]),n("div",{on:{click:function(t){return e.chooseTime(1)}}},[e._v(e._s(e.valueText[1][0])),n("span",[e._v(e._s(e.valueText[1][1]))])])]:e._e()],2):e._e(),n("calendar-year-box",{directives:[{name:"show",rawName:"v-show",value:"year"==e.currentView,expression:"currentView == 'year'"}],attrs:{"box-height":e.boxHeight,type:e.type,"min-time":e.minTime,"max-time":e.maxTime,multiple:e.multiple,range:e.range},on:{change:e.yearChang},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),"year"!=e.type?n("calendar-month-box",{directives:[{name:"show",rawName:"v-show",value:"month"==e.currentView,expression:"currentView == 'month'"}],attrs:{"box-height":e.boxHeight,type:e.type,"min-time":e.minTime,"max-time":e.maxTime,multiple:e.multiple,range:e.range},on:{change:e.monthChang},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),"quarter"===e.type||"halfyear"===e.type?n("calendar-quarter-box",{attrs:{"box-height":e.boxHeight,type:e.type,"min-time":e.minTime,"max-time":e.maxTime,multiple:e.multiple,range:e.range},on:{change:e.monthChang},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),"tendays"===e.type?n("calendar-tendays-box",{attrs:{"box-height":e.boxHeight,"row-height":e.boxHeight/10-8,type:e.type,"min-time":e.minTime,"max-time":e.maxTime,multiple:e.multiple,range:e.range,defaultTime:e.defaultTime},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),"year"!=e.type&&"month"!=e.type&&"tendays"!=e.type?n("calendar-day-box",{directives:[{name:"show",rawName:"v-show",value:"day"==e.currentView,expression:"currentView == 'day'"}],attrs:{"box-height":e.boxHeight,"row-height":e.boxHeight/5-8,type:e.type,"min-time":e.minTime,"max-time":e.maxTime,multiple:e.multiple,range:e.range,defaultTime:e.defaultTime},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e()],1),n("div",{staticClass:"dsf-calendar-footer"},[n("van-goods-action",[e.type!=e.currentView&&"day"!=e.currentView?n("van-goods-action-icon",{attrs:{icon:"revoke",text:"返回"},on:{click:e.backView}}):e._e(),"year"!=e.currentView?n("van-goods-action-icon",{attrs:{icon:"share-o",text:"跳转"},on:{click:e.chooseActive}}):e._e(),n("van-goods-action-icon",{directives:[{name:"show",rawName:"v-show",value:e.now.getTime()>=e.minTime.MTime&&e.now.getTime()<=e.maxTime.MTime,expression:"now.getTime() >= minTime.MTime && now.getTime() <= maxTime.MTime"}],attrs:{icon:"location-o",text:"今天"},on:{click:function(t){return e.doLocation()}}}),e.clearable?n("van-goods-action-button",{attrs:{type:"info",text:"重 置"},on:{click:e.onReset}}):e._e(),n("van-goods-action-button",{attrs:{type:"primary",text:"确 定"},on:{click:e.onConfirm}})],1),n("div",{staticClass:"bottom-safe-area"})],1),"datetime_s"==e.type||"datetime"==e.type?n("dsf-mobile-calendar-time-box",{attrs:{type:e.type,"min-time":e.minTime.time,"max-time":e.maxTime.time}}):e._e()],1)},s=[],a=n(5),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main",style:{height:e.pxToRem(e.boxHeight+"px")}},[e._m(0),n("div",{directives:[{name:"virtual-scroll",rawName:"v-virtual-scroll",value:e.onScroll,expression:"onScroll"}],ref:"box",staticClass:"dsf-calendar-main__calendar"},e._l(e.showCalendar,(function(t,i){var s=t.key,a=t.month,r=t.year,o=t.days;return n("div",{key:s,staticClass:"dsf-calendar-main__calendar-item",style:{height:e.pxToRem(e.rowHeight*o.length+40+"px")}},[i>e.active-3&&i<e.active+3?[n("div",{staticClass:"dsf-calendar-main__calendar-item-date"},[e._v(e._s(s))]),n("div",{staticClass:"dsf-calendar-main__calendar-item-body day"},[n("div",{staticClass:"dsf-calendar-main__calendar-item-bg"},[n("span",{staticClass:"month"},[e._v(e._s(a))])]),e._l(o,(function(t,i){return n("div",{key:i,staticClass:"dsf-calendar-main__calendar-item-week"},e._l(t,(function(t,i){var s=t.date,o=t.offset;t.active;return n("div",{key:i,staticClass:"dsf-calendar-main__calendar-item-day",class:e.cellClass(s,a,r,o),on:{click:function(t){return e.cellClick(s)}}},[n("span",[e._v(e._s(s.getDate()))])])})),0)}))],2)]:e._e()],2)})),0)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main__weekdays"},[n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("一")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("二")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("三")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("四")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("五")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("六")]),n("span",{staticClass:"dsf-calendar-main__weekday"},[e._v("日")])])}],l=n(2),c=n.n(l);function u(e){var t=Math.abs(e)/30;return t<.01&&(t=.01),Math.abs(e)&&(e<0?(e+=t,e>0&&(e=0)):e>0&&(e-=t,e<0&&(e=0))),e}var d={inserted:function(e,t){var n=t.value;function i(){var t=e._diffX,i=e._diffY,s=e.scrollLeft,a=e.scrollTop;e.scrollTo(s-t,a-i),n()}function s(){var t=e._speedX,n=e._speedY;if(t||n){var a=Date.now(),r=a-e._timeStamp;e._speedX=u(t),e._speedY=u(n),e._diffX=r*e._speedX,e._diffY=r*e._speedY,e._timeStamp=a,i(),e._animation=window.requestAnimationFrame(s)}}e.__touchstart=function(t){var n;e._doScroll=!0,window.cancelAnimationFrame(e._animation);var i=(null===(n=t.changedTouches)||void 0===n?void 0:n[0])||t,s=i.screenX,a=i.screenY;e._screenX=s,e._screenY=a,e._points=[[Date.now(),s,a]]},e.__touchmove=function(t){var n;if(e._doScroll){var s=(null===(n=t.changedTouches)||void 0===n?void 0:n[0])||t,a=s.screenX,r=s.screenY;e._diffX=a-e._screenX,e._diffY=r-e._screenY,e._screenX=a,e._screenY=r,e._timeStamp=Date.now(),10===e._points.length&&e._points.shift(),e._points.push([e._timeStamp,a,r]),i()}},e.__touchend=function(){if(e._doScroll){e._doScroll=!1;var t=e._points;if(!(t.length<2)){var n=t.pop(),i=t[0],a=n[0]-i[0],r=n[1]-i[1],o=n[2]-i[2];e._speedX=r/a,e._speedY=o/a,window.requestAnimationFrame(s)}}},e.addEventListener("touchstart",e.__touchstart),e.addEventListener("mousedown",e.__touchstart),document.addEventListener("touchmove",e.__touchmove),document.addEventListener("touchend",e.__touchend),document.addEventListener("mousemove",e.__touchmove),document.addEventListener("mouseup",e.__touchend)},unbind:function(e){e.removeEventListener("touchstart",e.__touchstart),document.removeEventListener("touchmove",e.__touchmove),document.removeEventListener("touchend",e.__touchend),document.removeEventListener("mousemove",e.__touchmove),document.removeEventListener("mouseup",e.__touchend)}},h={name:"CalendarDayBox",inject:["$calendar"],directives:{virtualScroll:d},props:{boxHeight:{type:Number,required:!0},rowHeight:{type:Number,required:!0},type:{type:String,required:!0},minTime:{type:Object,required:!0},maxTime:{type:Object,required:!0},value:{type:Array,required:!0},multiple:{type:Boolean,required:!0},range:{type:Boolean,required:!1},defaultTime:{type:[String,Array],default:function(){return["00:00:00","23:59:59"]}}},data:function(){return{loaded:!1,active:0,showCalendar:[],calendar:{}}},computed:{activeMonth:function(){return this.showCalendar.length>this.active?this.showCalendar[this.active]:null}},watch:{"$calendar.currentView":function(e){var t,n,i=this.$calendar,s=this.loaded,a=this.value,r=this.range,o=this.doLocation;"day"!=e||s||(this.loaded=!0,r&&(a=null===(t=a)||void 0===t?void 0:t[0]),o((null===(n=a)||void 0===n?void 0:n[0])||i.defaultViewDate||i.now))}},created:function(){this.$calendar.dayView=this.$calendar.$dayView=this},mounted:function(){var e,t,n=this.$refs,i=this.$calendar,s=this.value,a=this.range,r=this.doLocation;(this.$box=n.box,"day"==i.currentView)&&(this.loaded=!0,a&&(s=null===(e=s)||void 0===e?void 0:e[0]),r((null===(t=s)||void 0===t?void 0:t[0])||i.defaultViewDate||i.now))},methods:{cellClass:function(e,t,n,i){if(i)return{offset:i};var s={toDay:this.$calendar.now.getTime()==e.getTime(),disabled:this.minTime.DTime>e.getTime()||e.getTime()>this.maxTime.DTime};if(this.range&&this.multiple);else if(this.range&&!this.multiple){if(this.$calendar.tempValue.length>0){var r=this.$calendar.tempValue[0].getTime()-e.getTime();if(r>=0&&r<a["h"]&&(s.activeS=!0),2==this.$calendar.tempValue.length){var o=this.$calendar.tempValue[1].getTime()-e.getTime();o>=0&&o<a["h"]&&(s.activeE=!0),r<0&&o>=a["h"]&&(s.activeC=!0)}}}else this.multiple||this.value.length&&this.value.find((function(t){var n=t.getTime()-e.getTime();return n>=0&&n<a["h"]}))&&(s.active=!0);return s},cellClick:function(e){var t=this.minTime.DTime>e.getTime()||e.getTime()>this.maxTime.DTime;t||(this.range&&this.multiple?this.formatValueByCheckboxRange(e):this.range&&!this.multiple?this.formatValueByRadioRange(e):this.multiple?this.formatValueByCheckbox(e):this.formatValueByRadio(e))},formatValueByRadio:function(e){if(["date","month","year"].indexOf(this.type)>-1)this.$calendar.value=[e];else if(["datetime","datetime_s"].indexOf(this.type)>-1){var t,n=dsf.date.format(e,"yyyy/mm/dd");t=this.value.length?dsf.date.format(this.value[0],"datetime"==this.type?"hh:ii:00":"hh:ii:ss"):dsf.date.format(new Date,"datetime"==this.type?"hh:ii:00":"hh:ii:ss"),n=new Date(n+" "+t),this.$calendar.value=[n]}},formatValueByRadioRange:function(e){if(this.$calendar.tempValue.length&&2!=this.$calendar.tempValue.length){var t=new Date(dsf.date.format(e,"yyyy/mm/dd hh:ii:ss").substr(0,11)+this.defaultTime[1]),n=this.$calendar.tempValue[0];n>t?(t=new Date(dsf.date.format(e,"yyyy/mm/dd hh:ii:ss").substr(0,11)+this.defaultTime[0]),n=new Date(dsf.date.format(n,"yyyy/mm/dd hh:ii:ss").substr(0,11)+this.defaultTime[1]),this.$calendar.tempValue=[t]):n=t,this.$calendar.tempValue.push(n),this.$calendar.value=[c()(this.$calendar.tempValue)]}else{var i=new Date(dsf.date.format(e,"yyyy/mm/dd hh:ii:ss").substr(0,11)+this.defaultTime[0]);this.$calendar.tempValue=[i],this.$calendar.value=[]}},formatValueByCheckbox:function(e){if(["date","month","year","datetime","datetime_s"].indexOf(this.type)>-1){var t=this.value.findIndex((function(t){var n=e.getTime()-t.getTime();return n>=0&&n<a["h"]}));t>-1?this.value.splice(t,1):this.value.push(e)}},formatValueByCheckboxRange:function(){},onScroll:function(){var e=this,t=this.$box,n=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop;if(s<3*n){var a=this.onChange(-3),r=a.height,o=a.n;i+=r,s+=r,this.active+=o,this.$nextTick((function(){s!==e.$box.scrollTop&&(e.$box.scrollTop=s)}))}else i-n-s<3*n&&this.onChange(3);var l=i/this.showCalendar.length,c=Math.floor(s/l),u=this.showCalendar.length-Math.floor((i-n-s)/l)-1,d=n/2,h=Math.min(c,u);h=h<0?0:h;var f=Math.max(c,u)+1;for(f=f>this.showCalendar.length?this.showCalendar.length:f;h<f;h++){var p=this.$box.children[h];if(!p)break;var m=p.offsetTop-s;if(m<d&&m+p.offsetHeight>=d){this.active=h;break}}},onChange:function(e){var t=0,n=0;if(e<0)for(var i=this.showCalendar[0],s=-1;s>=e;s--){var r=Object(a["d"])(i.year,i.month,s),o=r.year,l=r.month;if(this.minTime.Y>o||this.minTime.Y==o&&this.minTime.M>l)break;var c=this.setCalendar({year:o,month:l});this.showCalendar.unshift(c),t+=c.height+40,n++}else if(e>0)for(var u=this.showCalendar[this.showCalendar.length-1],d=1;d<=e;d++){var h=Object(a["d"])(u.year,u.month,d),f=h.year,p=h.month;if(this.maxTime.Y<f||this.maxTime.Y==f&&this.maxTime.M<p)break;var m=this.setCalendar({year:f,month:p});this.showCalendar.push(m),t+=m.height+40,n++}return{height:t,n:n}},doLocation:function(e){e=e||this.$calendar.now;var t=e.getFullYear(),n=e.getMonth()+1;this.reset(t,n)},reset:function(e,t){var n=this;(this.minTime.Y>e||this.minTime.Y==e&&this.minTime.M>t)&&(e=this.minTime.Y,t=this.minTime.M),(this.maxTime.Y<e||this.maxTime.Y==e&&this.maxTime.M<t)&&(e=this.maxTime.Y,t=this.maxTime.M),this.showCalendar=[this.setCalendar({year:e,month:t})];var i=this.onChange(-4),s=i.height,a=i.n;this.onChange(4),this.active=a,this.$nextTick((function(){n.$box.scrollTo(0,s+40)}))},setCalendar:function(e){var t=e.year,n=e.month;if(!this.calendar[t+"-"+n]){var i=dsf.date.getCalendar(t,n-1);this.calendar[t+"-"+n]={key:t+"年"+n+"月",year:t,month:n,days:i,height:this.rowHeight*i.length}}return this.calendar[t+"-"+n]}}},f=h,p=n(0),m=Object(p["a"])(f,r,o,!1,null,null,null),v=m.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main",style:{height:e.pxToRem(e.boxHeight+"px")}},[n("div",{directives:[{name:"virtual-scroll",rawName:"v-virtual-scroll",value:e.onScroll,expression:"onScroll"}],ref:"box",staticClass:"dsf-calendar-main__calendar year"},e._l(e.showYearE-e.showYearS+1,(function(t){return n("div",{key:(e.year=e.showYearS+t-1)>0?e.year:e.year=e.year-1,staticClass:"dsf-calendar-main__calendar-item year",class:e.cellClass(e.year),on:{click:function(n){return e.cellClick(e.showYearS+t-1)}}},[n("span",[e._v(e._s(e.year))]),e._v("年 ")])})),0)])},y=[],b={name:"CalendarYearBox",inject:["$calendar"],directives:{virtualScroll:d},props:{boxHeight:{type:Number,required:!0},type:{type:String,required:!0},minTime:{type:Object,required:!0},maxTime:{type:Object,required:!0},value:{type:Array,required:!0},multiple:{type:Boolean,required:!0},range:{type:Boolean,required:!1}},data:function(){return{showYearS:0,showYearE:0,activeYearS:0,activeYearE:0}},computed:{activeText:function(){return this.activeYearS==this.activeYearE?this.activeYearS+"年":this.activeYearS+"年 - "+this.activeYearE+"年"},showYearMin:function(){var e=this.minTime.Y;return e==-1/0?-1/0:e%4-7+e},showYearMax:function(){var e=this.maxTime.Y;return e==1/0?1/0:8-e%4+e}},watch:{"$calendar.currentView":function(e){if("year"==e){var t,n,i=this.$calendar,s=this.reset,a=this.range,r=this.value;a&&(r=null===(t=r)||void 0===t?void 0:t[0]);var o=null===(n=r)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.getFullYear(),l=null;i.$monthView&&(l=Math.floor((i.$monthView.activeYearS+i.$monthView.activeYearE)/2));var c=o||l||i.now.getFullYear();s(c)}}},created:function(){this.$calendar.yearView=this.$calendar.$yearView=this},mounted:function(){var e=this.$refs,t=this.$calendar,n=this.reset,i=this.range,s=this.value;if(this.$box=e.box,"year"==t.currentView){var a,r,o;i&&(s=null===(a=s)||void 0===a?void 0:a[0]);var l=null===(r=s)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.getFullYear(),c=null===(o=t.defaultViewDate)||void 0===o?void 0:o.getFullYear(),u=l||c||t.now.getFullYear();n(u)}},methods:{cellClass:function(e){var t=this.$calendar.now.getFullYear(),n={};if(this.minTime.Y>e||this.maxTime.Y<e?n.disabled=!0:t==e&&(n.toDay=!0),this.range&&this.multiple);else if(this.range&&!this.multiple){if(this.$calendar.tempValue.length>0){var i=this.$calendar.tempValue[0].getFullYear();if(i==e&&(n.activeS=!0),2==this.$calendar.tempValue.length){var s=this.$calendar.tempValue[1].getFullYear();s==e&&(n.activeE=!0),i<e&&s>e&&(n.activeC=!0)}}}else this.multiple||this.value.length&&e==this.value[0].getFullYear()&&(n.active=!0);return n},cellClick:function(e){e=e<1?e-1:e,"year"!=this.type?this.$emit("change",e):this.range&&this.multiple?this.formatValueByCheckboxRange(e):this.range&&!this.multiple?this.formatValueByRadioRange(e):this.multiple?this.formatValueByCheckbox(e):this.formatValueByRadio(e)},formatValueByCheckbox:function(e){var t=this.value.findIndex((function(t){return t.getFullYear()==e}));-1==t?this.$calendar.value.push(new Date("".concat(e,"/1/1"))):this.$calendar.value.splice(t,1)},formatValueByRadio:function(e){this.$calendar.value=[new Date("".concat(e,"/1/1"))]},formatValueByCheckboxRange:function(e){},formatValueByRadioRange:function(e){if(this.$calendar.tempValue.length&&2!=this.$calendar.tempValue.length){var t=this.$calendar.tempValue[0],n=t.getFullYear();n>e?this.$calendar.tempValue=[new Date("".concat(e,"/1/1"))]:n=e,this.$calendar.tempValue.push(new Date("".concat(n,"/12/31 23:59:59"))),this.$calendar.value=[c()(this.$calendar.tempValue)]}else this.$calendar.tempValue=[new Date("".concat(e,"/1/1"))],this.$calendar.value=[this.$calendar.tempValue[0]]},onScroll:function(){var e=this,t=this.$box,n=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop,a=4*i/(this.showYearE-this.showYearS);if(this.showYearS>=this.showYearMin&&s<3*n){var r=this.showYearS-32;this.showYearS=r=r<this.showYearMin?this.showYearMin:r,this.$nextTick((function(){var t=s+8*a;t!==e.$box.scrollTop&&(e.$box.scrollTop=t)}))}else if(this.showYearE<=this.showYearMax&&i-n-s<3*n){var o=this.showYearE+32;this.showYearE=o>this.showYearMax?this.showYearMax:o}this.__oldScrollTop=s,this.updateActive(i,s,n)},doLocation:function(e){e=e||this.$calendar.now;var t=e.getFullYear();this.reset(t)},reset:function(e){var t=this,n=this.$box.children[0].offsetHeight,i=n?4*Math.floor(3.5*this.boxHeight/n):72,s=(e-1)%4,a=e-s-i,r=e-s+i;this.showYearS=a=a<this.showYearMin?this.showYearMin:a,this.showYearE=r=r>this.showYearMax?this.showYearMax:r,this.$nextTick((function(){n=t.$box.children[0].offsetHeight,t.$box.scrollTo(0,n*(.5+Math.floor((e-a)/4))-t.boxHeight/2),t.$nextTick((function(){var e=t.$box,n=e.offsetHeight,i=e.scrollHeight,s=e.scrollTop;t.updateActive(i,s,n)}))}))},updateActive:function(e,t,n){var i=this.$box.children[0].offsetHeight,s=4*Math.floor(t/i+.4)+this.showYearS,a=4*Math.floor((t+n)/i+.6)+this.showYearS-1;this.activeYearS=s<this.showYearS?this.showYearS:s,this.activeYearE=a>this.showYearE?this.showYearE:a}}},x=b,w=Object(p["a"])(x,g,y,!1,null,null,null),C=w.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main",style:{height:e.pxToRem(e.boxHeight+"px")}},[n("div",{directives:[{name:"virtual-scroll",rawName:"v-virtual-scroll",value:e.onScroll,expression:"onScroll"}],ref:"box",staticClass:"dsf-calendar-main__calendar"},e._l(e.showMonthE-e.showMonthS+1,(function(t){return n("div",{key:(e.year=e.showMonthS+t-1)>0?e.year:e.year=e.year-1,staticClass:"dsf-calendar-main__calendar-item"},[n("div",{staticClass:"dsf-calendar-main__calendar-item-date"},[e._v(e._s(e.year)+"年")]),n("div",{staticClass:"dsf-calendar-main__calendar-item-body month"},e._l(12,(function(i){return n("div",{key:i,staticClass:"dsf-calendar-main__calendar-item-month",class:e.cellClass(e.year,i),on:{click:function(n){return e.cellClick(e.showMonthS+t-1,i)}}},[n("span",[e._v(e._s(i))]),e._v("月 ")])})),0)])})),0)])},S=[],D={name:"CalendarMonthBox",inject:["$calendar"],directives:{virtualScroll:d},props:{boxHeight:{type:Number,required:!0},type:{type:String,required:!0},minTime:{type:Object,required:!0},maxTime:{type:Object,required:!0},value:{type:Array,required:!0},multiple:{type:Boolean,required:!0},range:{type:Boolean,required:!1}},data:function(){return{showMonthS:0,showMonthE:0,activeYearS:0,activeYearE:0}},computed:{activeText:function(){return this.activeYearS==this.activeYearE?this.activeYearS+"年":this.activeYearS+"年 - "+this.activeYearE+"年"}},watch:{"$calendar.currentView":function(e,t){if("year"!=t&&"month"==e){var n,i,s,a=this.$calendar,r=this.reset,o=this.range,l=this.value;o&&(l=null===(n=l)||void 0===n?void 0:n[0]);var c=null===(i=l)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.getFullYear(),u=null===(s=a.$dayView)||void 0===s?void 0:s.activeMonth,d=c||(null===u||void 0===u?void 0:u.year)||a.now.getFullYear();r(d)}}},created:function(){this.$calendar.monthView=this.$calendar.$monthView=this},mounted:function(){var e=this.$refs,t=this.$calendar,n=this.reset,i=this.range,s=this.value;if(this.$box=e.box,"month"==t.currentView){var a,r,o;i&&(s=null===(a=s)||void 0===a?void 0:a[0]);var l=null===(r=s)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.getFullYear(),c=null===(o=t.defaultViewDate)||void 0===o?void 0:o.getFullYear(),u=l||c||t.now.getFullYear();n(u)}},methods:{cellClass:function(e,t){var n=this.$calendar.now.getFullYear(),i=this.$calendar.now.getMonth()+1,s={};if(this.minTime.Y>e||this.maxTime.Y<e||this.minTime.Y==e&&this.minTime.M>t||this.maxTime.Y==e&&this.maxTime.M<t?s.disabled=!0:n==e&&t==i&&(s.toDay=!0),this.range&&this.multiple);else if(this.range&&!this.multiple){if(this.$calendar.tempValue.length>0){var a=this.$calendar.tempValue[0].getFullYear(),r=this.$calendar.tempValue[0].getMonth()+1;if(a==e&&r==t&&(s.activeS=!0),2==this.$calendar.tempValue.length){var o=this.$calendar.tempValue[1].getFullYear(),l=this.$calendar.tempValue[1].getMonth()+1;o==e&&l==t&&(s.activeE=!0),(a<e||a==e&&r<t)&&(o>e||o==e&&l>t)&&(s.activeC=!0)}}}else this.multiple||this.value.length&&this.value.find((function(n){return e==n.getFullYear()&&t==n.getMonth()+1}))&&(s.active=!0);return s},cellClick:function(e,t){e=e<1?e-1:e,"month"!=this.type?this.$emit("change",e,t):this.range&&this.multiple?this.formatValueByCheckboxRange(e,t):this.range&&!this.multiple?this.formatValueByRadioRange(e,t):this.multiple?this.formatValueByCheckbox(e,t):this.formatValueByRadio(e,t)},formatValueByCheckbox:function(e,t){var n=this.value.findIndex((function(n){return n.getFullYear()==e&&n.getMonth()+1==t}));-1==n?this.$calendar.value.push(new Date("".concat(e,"/").concat(t,"/1"))):this.$calendar.value.splice(n,1)},formatValueByRadio:function(e,t){this.$calendar.value=[new Date("".concat(e,"/").concat(t,"/1"))]},formatValueByCheckboxRange:function(e,t){},formatValueByRadioRange:function(e,t){if(this.$calendar.tempValue.length&&2!=this.$calendar.tempValue.length){var n=this.$calendar.tempValue[0],i=n.getFullYear(),s=n.getMonth()+1;i>e||i==e&&s>t?this.$calendar.tempValue=[new Date("".concat(e,"/").concat(t,"/1"))]:(i=e,s=t);var r=Object(a["d"])(i,s,1),o=r.year,l=r.month;n=new Date("".concat(o,"/").concat(l,"/1")),this.$calendar.tempValue.push(new Date(n.getTime()-1)),this.$calendar.value=[c()(this.$calendar.tempValue)]}else this.$calendar.tempValue=[new Date("".concat(e,"/").concat(t,"/1"))],this.$calendar.value=[this.$calendar.tempValue[0]]},doLocation:function(e){e=e||this.$calendar.now;var t=e.getFullYear();this.reset(t)},reset:function(e){var t=this,n=this.$box.children[0].offsetHeight,i=n?Math.floor(3.5*this.boxHeight/n):4,s=e-i,a=e+i;this.showMonthS=s=s<this.minTime.Y?this.minTime.Y:s,this.showMonthE=a=a>this.maxTime.Y?this.maxTime.Y:a;var r=this.showMonthE-this.showMonthS+1;r<2?(this.activeYearS=this.showMonthS,this.activeYearE=this.showMonthE):2==r?this.$nextTick((function(){t.updateActive(t.$box.offsetHeight,0,t.boxHeight)})):this.$nextTick((function(){t.$box.offsetHeight;t.$box.scrollTo(0,n*(.5+e-s)-t.boxHeight/2+20),t.$nextTick((function(){var e=t.$box.offsetHeight,n=t.$box.scrollHeight,i=t.$box.scrollTop;t.updateActive(n,i,e)}))}))},onScroll:function(){var e=this,t=this.$box,n=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop,a=i/(this.showMonthE-this.showMonthS);if(this.showMonthS>=this.minTime.Y&&s<3*n){var r=this.showMonthS-8;this.showMonthS=r<this.minTime.Y?this.minTime.Y:r,this.$nextTick((function(){var t=s+8*a;t!==e.$box.scrollTop&&(e.$box.scrollTop=t)}))}else if(this.showMonthE<=this.maxTime.Y&&i-n-s<3*n){var o=this.showMonthE+8;this.showMonthE=o>this.maxTime.Y?this.maxTime.Y:o}this.updateActive(i,s,n)},updateActive:function(e,t,n){var i=this.$box.children[0].offsetHeight,s=Math.floor((t+20)/i)+this.showMonthS,a=Math.floor((t+n-10)/i-.1)+this.showMonthS;this.activeYearS=s<this.showMonthS?this.showMonthS:s,this.activeYearE=a>this.showMonthE?this.showMonthE:a}}},$=D,M=Object(p["a"])($,k,S,!1,null,null,null),T=M.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main",style:{height:e.pxToRem(e.boxHeight+"px")}},[n("div",{directives:[{name:"virtual-scroll",rawName:"v-virtual-scroll",value:e.onScroll,expression:"onScroll"}],ref:"box",staticClass:"dsf-calendar-main__calendar"},e._l(e.showMonthE-e.showMonthS+1,(function(t){return n("div",{key:(e.year=e.showMonthS+t-1)>0?e.year:e.year=e.year-1,staticClass:"dsf-calendar-main__calendar-item"},[n("div",{staticClass:"dsf-calendar-main__calendar-item-date"},[e._v(e._s(e.year)+"年")]),n("div",{staticClass:"dsf-calendar-main__calendar-item-body quarter"},e._l(e.dataList[e.type],(function(i){return n("div",{key:i.value,staticClass:"dsf-calendar-main__calendar-item-quarter",class:e.cellClass(e.year,i.value),on:{click:function(n){return e.cellClick(e.showMonthS+t-1,i.value)}}},[n("span",[e._v(e._s(i.name))])])})),0)])})),0)])},I=[],P={quarter:{1:3,4:6,7:9,10:12},halfyear:{1:6,7:12}},A={name:"calendarQuarterBox",inject:["$calendar"],directives:{virtualScroll:d},props:{boxHeight:{type:Number,required:!0},type:{type:String,required:!0},minTime:{type:Object,required:!0},maxTime:{type:Object,required:!0},value:{type:Array,required:!0},multiple:{type:Boolean,required:!0},range:{type:Boolean,required:!1}},data:function(){return{showMonthS:0,showMonthE:0,activeYearS:0,activeYearE:0,dataList:{quarter:[{name:"第一季度",value:1},{name:"第二季度",value:4},{name:"第三季度",value:7},{name:"第四季度",value:10}],halfyear:[{name:"上半年",value:1},{name:"下半年",value:7}]}}},computed:{activeText:function(){return this.activeYearS==this.activeYearE?this.activeYearS+"年":this.activeYearS+"年 - "+this.activeYearE+"年"}},watch:{"$calendar.currentView":function(e,t){if("year"!=t&&"month"==e){var n,i,s,a=this.$calendar,r=this.reset,o=this.range,l=this.value;o&&(l=null===(n=l)||void 0===n?void 0:n[0]);var c=null===(i=l)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.getFullYear(),u=null===(s=a.$dayView)||void 0===s?void 0:s.activeMonth,d=c||(null===u||void 0===u?void 0:u.year)||a.now.getFullYear();r(d)}}},created:function(){"tendays"===this.type?this.$calendar.dayView=this.$calendar.$dayView=this:this.$calendar.monthView=this.$calendar.$monthView=this},mounted:function(){var e=this.$refs,t=this.$calendar,n=this.reset,i=this.range,s=this.value;this.$box=e.box;var a=["quarter","halfyear"];if(a.includes(t.currentView)){var r,o,l;i&&(s=null===(r=s)||void 0===r?void 0:r[0]);var c=null===(o=s)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.getFullYear(),u=null===(l=t.defaultViewDate)||void 0===l?void 0:l.getFullYear(),d=c||u||t.now.getFullYear();n(d)}},methods:{cellClass:function(e,t){var n=this.$calendar.now.getFullYear(),i=this.$calendar.now.getMonth()+1;"halfyear"===this.type?i=i<7?1:7:"quarter"===this.type&&(i=_.inRange(i,1,4)?1:_.inRange(i,4,7)?4:_.inRange(i,7,10)?7:10);var s={};if(this.minTime.Y>e||this.maxTime.Y<e||this.minTime.Y==e&&this.minTime.M>t||this.maxTime.Y==e&&this.maxTime.M<t?s.disabled=!0:n==e&&t==i&&(s.toDay=!0),this.range&&this.multiple);else if(this.range&&!this.multiple){if(this.$calendar.tempValue.length>0){var a=this.$calendar.tempValue[0].getFullYear(),r=this.$calendar.tempValue[0].getMonth()+1;if(a==e&&r==t&&(s.activeS=!0),2==this.$calendar.tempValue.length){var o=this.$calendar.tempValue[1].getFullYear(),l=this.$calendar.tempValue[1].getMonth()+1;o==e&&l==t&&(s.activeE=!0),(a<e||a==e&&r<t)&&(o>e||o==e&&l>t)&&(s.activeC=!0)}}}else this.multiple||this.value.length&&this.value.find((function(n){return e==n.getFullYear()&&t==n.getMonth()+1}))&&(s.active=!0);return s},cellClick:function(e,t){e=e<1?e-1:e,this.range&&this.multiple?this.formatValueByCheckboxRange(e,t):this.range&&!this.multiple?this.formatValueByRadioRange(e,t):this.multiple?this.formatValueByCheckbox(e,t):this.formatValueByRadio(e,t)},formatValueByCheckbox:function(e,t){var n=this.value.findIndex((function(n){return n.getFullYear()==e&&n.getMonth()+1==t}));-1==n?this.$calendar.value.push(new Date("".concat(e,"/").concat(t,"/1"))):this.$calendar.value.splice(n,1)},formatValueByRadio:function(e,t){this.$calendar.value=[new Date("".concat(e,"/").concat(t,"/1"))]},formatValueByCheckboxRange:function(e,t){},formatValueByRadioRange:function(e,t){if(this.$calendar.tempValue.length&&2!=this.$calendar.tempValue.length){var n=this.$calendar.tempValue[0],i=n.getFullYear(),s=n.getMonth()+1;i>e||i==e&&s>t?this.$calendar.tempValue=[new Date("".concat(e,"/").concat(t,"/1"))]:(i=e,s=t);var r=Object(a["d"])(i,s,1),o=r.year,l=r.month;n=new Date("".concat(o,"/").concat(l,"/1")),this.$calendar.tempValue.push(new Date(n.getTime()-1));var c=this.handleEndTime(this.$calendar.tempValue[1]);this.$calendar.value=[[this.$calendar.tempValue[0],c]]}else this.$calendar.tempValue=[new Date("".concat(e,"/").concat(t,"/1"))],this.$calendar.value=[this.$calendar.tempValue[0]]},handleEndTime:function(e){if(this.range){var t=e.getFullYear(),n=e.getMonth()+1;if("quarter"===this.type)return new Date(t,P.quarter[n],0);if("halfyear"===this.type)return new Date(t,P.halfyear[n],0)}return time},doLocation:function(e){e=e||this.$calendar.now;var t=e.getFullYear();this.reset(t)},reset:function(e){var t=this,n=this.$box.children[0].offsetHeight,i=n?Math.floor(3.5*this.boxHeight/n):4,s=e-i,a=e+i;this.showMonthS=s=s<this.minTime.Y?this.minTime.Y:s,this.showMonthE=a=a>this.maxTime.Y?this.maxTime.Y:a;var r=this.showMonthE-this.showMonthS+1;r<2?(this.activeYearS=this.showMonthS,this.activeYearE=this.showMonthE):2==r?this.$nextTick((function(){t.updateActive(t.$box.offsetHeight,0,t.boxHeight)})):this.$nextTick((function(){t.$box.offsetHeight;t.$box.scrollTo(0,n*(.5+e-s)-t.boxHeight/2+20),t.$nextTick((function(){var e=t.$box.offsetHeight,n=t.$box.scrollHeight,i=t.$box.scrollTop;t.updateActive(n,i,e)}))}))},onScroll:function(){var e=this,t=this.$box,n=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop,a=i/(this.showMonthE-this.showMonthS);if(this.showMonthS>=this.minTime.Y&&s<3*n){var r=this.showMonthS-8;this.showMonthS=r<this.minTime.Y?this.minTime.Y:r,this.$nextTick((function(){var t=s+8*a;t!==e.$box.scrollTop&&(e.$box.scrollTop=t)}))}else if(this.showMonthE<=this.maxTime.Y&&i-n-s<3*n){var o=this.showMonthE+8;this.showMonthE=o>this.maxTime.Y?this.maxTime.Y:o}this.updateActive(i,s,n)},updateActive:function(e,t,n){var i=this.$box.children[0].offsetHeight,s=Math.floor((t+20)/i)+this.showMonthS,a=Math.floor((t+n-10)/i-.1)+this.showMonthS;this.activeYearS=s<this.showMonthS?this.showMonthS:s,this.activeYearE=a>this.showMonthE?this.showMonthE:a}}},O=A,N=Object(p["a"])(O,j,I,!1,null,null,null),L=N.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-calendar-main",style:{height:e.pxToRem(e.boxHeight+"px")}},[n("div",{directives:[{name:"virtual-scroll",rawName:"v-virtual-scroll",value:e.onScroll,expression:"onScroll"}],ref:"box",staticClass:"dsf-calendar-main__calendar"},e._l(e.showCalendar,(function(t,i){var s=t.key,a=t.month,r=t.year,o=t.days;return n("div",{key:s,staticClass:"dsf-calendar-main__calendar-item",style:{height:e.pxToRem(e.rowHeight*o.length+40+"px")}},[i>e.active-3&&i<e.active+3?[n("div",{staticClass:"dsf-calendar-main__calendar-item-date"},[e._v(e._s(s))]),n("div",{staticClass:"dsf-calendar-main__calendar-item-body tendays"},[n("div",{staticClass:"dsf-calendar-main__calendar-item-bg"},[n("span",{staticClass:"month"},[e._v(e._s(a))])]),e._l(o,(function(t,i){return n("div",{key:i,staticClass:"dsf-calendar-main__calendar-item-tendays",class:e.cellClass(t.date,a,r,t.offset,t.value),on:{click:function(n){return e.cellClick(t.date)}}},[n("span",[e._v(e._s(t.name))])])}))],2)]:e._e()],2)})),0)])},H=[],B={1:10,11:20,21:0},E={name:"CalendarTendaysBox",inject:["$calendar"],directives:{virtualScroll:d},props:{boxHeight:{type:Number,required:!0},type:{type:String,required:!0},rowHeight:{type:Number,required:!0},minTime:{type:Object,required:!0},maxTime:{type:Object,required:!0},value:{type:Array,required:!0},multiple:{type:Boolean,required:!0},range:{type:Boolean,required:!1},defaultTime:{type:[String,Array],default:function(){return["00:00:00","23:59:59"]}}},data:function(){return{loaded:!1,active:0,showCalendar:[],calendar:{}}},computed:{activeMonth:function(){var e=this.showCalendar.length>this.active?this.showCalendar[this.active]:null;return e}},watch:{"$calendar.currentView":function(e){var t,n,i=this.$calendar,s=this.loaded,a=this.value,r=this.range,o=this.doLocation;"tendays"!=e||s||(this.loaded=!0,r&&(a=null===(t=a)||void 0===t?void 0:t[0]),o((null===(n=a)||void 0===n?void 0:n[0])||i.defaultViewDate||i.now))}},created:function(){this.$calendar.dayView=this.$calendar.$dayView=this},mounted:function(){var e,t,n=this.$refs,i=this.$calendar,s=this.value,a=this.range,r=this.doLocation;(this.$box=n.box,"tendays"==i.currentView)&&(this.loaded=!0,a&&(s=null===(e=s)||void 0===e?void 0:e[0]),r((null===(t=s)||void 0===t?void 0:t[0])||i.defaultViewDate||i.now))},methods:{cellClass:function(e,t,n,i,s){if(i)return{offset:i};var r=this.$calendar.now.getFullYear(),o=this.$calendar.now.getMonth()+1,l=this.$calendar.now.getDate();l=_.inRange(l,1,11)?1:_.inRange(l,11,21)?11:21;var c={toDay:r==n&&o==t&&l==s,disabled:this.minTime.DTime>e.getTime()||e.getTime()>this.maxTime.DTime};if(this.range&&this.multiple);else if(this.range&&!this.multiple){if(this.$calendar.tempValue.length>0){var u=this.$calendar.tempValue[0].getTime()-e.getTime();if(u>=0&&u<a["h"]&&(c.activeS=!0),2==this.$calendar.tempValue.length){var d=this.$calendar.tempValue[1].getTime()-e.getTime();d>=0&&d<a["h"]&&(c.activeE=!0),u<0&&d>=a["h"]&&(c.activeC=!0)}}}else this.multiple||this.value.length&&this.value.find((function(t){var n=t.getTime()-e.getTime();return n>=0&&n<a["h"]}))&&(c.active=!0);return c},cellClick:function(e){var t=this.minTime.DTime>e.getTime()||e.getTime()>this.maxTime.DTime;t||(this.range&&this.multiple?this.formatValueByCheckboxRange(e):this.range&&!this.multiple?this.formatValueByRadioRange(e):this.multiple?this.formatValueByCheckbox(e):this.formatValueByRadio(e))},formatValueByRadio:function(e){var t,n=dsf.date.format(e,"yyyy/mm/dd");t=this.value.length?dsf.date.format(this.value[0],"datetime"==this.type?"hh:ii:00":"hh:ii:ss"):dsf.date.format(new Date,"datetime"==this.type?"hh:ii:00":"hh:ii:ss"),n=new Date(n+" "+t),this.$calendar.value=[n]},formatValueByRadioRange:function(e){if(this.$calendar.tempValue.length&&2!=this.$calendar.tempValue.length){var t=new Date(dsf.date.format(e,"yyyy-mm-dd hh:ii:ss").substr(0,11)+this.defaultTime[1]),n=this.$calendar.tempValue[0];n>t?(t=new Date(dsf.date.format(e,"yyyy-mm-dd hh:ii:ss").substr(0,11)+this.defaultTime[0]),n=new Date(dsf.date.format(n,"yyyy-mm-dd hh:ii:ss").substr(0,11)+this.defaultTime[1]),this.$calendar.tempValue=[t]):n=t,this.$calendar.tempValue.push(n);var i=new Date(dsf.date.format(this.handleEndTime(n),"yyyy-mm-dd hh:ii:ss").substr(0,11)+this.defaultTime[1]);this.$calendar.value=[[this.$calendar.tempValue[0],i]]}else{var s=new Date(dsf.date.format(e,"yyyy-mm-dd hh:ii:ss").substr(0,11)+this.defaultTime[0]);this.$calendar.tempValue=[s],this.$calendar.value=[]}},handleEndTime:function(e){if(this.range){var t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),s=B[i];return new Date(t,0==s?n+1:n,s)}return time},formatValueByCheckbox:function(e){if(["date","month","year","datetime","datetime_s"].indexOf(this.type)>-1){var t=this.value.findIndex((function(t){var n=e.getTime()-t.getTime();return n>=0&&n<a["h"]}));t>-1?this.value.splice(t,1):this.value.push(e)}},formatValueByCheckboxRange:function(){},onScroll:function(){var e=this,t=this.$box,n=t.offsetHeight,i=t.scrollHeight,s=t.scrollTop;if(s<3*n){var a=this.onChange(-3),r=a.height,o=a.n;i+=r,s+=r,this.active+=o,this.$nextTick((function(){s!==e.$box.scrollTop&&(e.$box.scrollTop=s)}))}else i-n-s<3*n&&this.onChange(3);var l=i/this.showCalendar.length,c=Math.floor(s/l),u=this.showCalendar.length-Math.floor((i-n-s)/l)-1,d=n/2,h=Math.min(c,u);h=h<0?0:h;var f=Math.max(c,u)+1;for(f=f>this.showCalendar.length?this.showCalendar.length:f;h<f;h++){var p=this.$box.children[h];if(!p)break;var m=p.offsetTop-s;if(m<d&&m+p.offsetHeight>=d){this.active=h;break}}},onChange:function(e){var t=0,n=0;if(e<0)for(var i=this.showCalendar[0],s=-1;s>=e;s--){var r=Object(a["d"])(i.year,i.month,s),o=r.year,l=r.month;if(this.minTime.Y>o||this.minTime.Y==o&&this.minTime.M>l)break;var c=this.setCalendar({year:o,month:l});this.showCalendar.unshift(c),t+=c.height+40,n++}else if(e>0)for(var u=this.showCalendar[this.showCalendar.length-1],d=1;d<=e;d++){var h=Object(a["d"])(u.year,u.month,d),f=h.year,p=h.month;if(this.maxTime.Y<f||this.maxTime.Y==f&&this.maxTime.M<p)break;var m=this.setCalendar({year:f,month:p});this.showCalendar.push(m),t+=m.height+40,n++}return{height:t,n:n}},doLocation:function(e){e=e||this.$calendar.now;var t=e.getFullYear(),n=e.getMonth()+1;this.reset(t,n)},reset:function(e,t){var n=this;(this.minTime.Y>e||this.minTime.Y==e&&this.minTime.M>t)&&(e=this.minTime.Y,t=this.minTime.M),(this.maxTime.Y<e||this.maxTime.Y==e&&this.maxTime.M<t)&&(e=this.maxTime.Y,t=this.maxTime.M),this.showCalendar=[this.setCalendar({year:e,month:t})];var i=this.onChange(-4),s=i.height,a=i.n;this.onChange(4),this.active=a,this.$nextTick((function(){n.$box.scrollTo(0,s+40)}))},setCalendar:function(e){var t=e.year,n=e.month;if(!this.calendar[t+"-"+n]){var i=[{name:"上旬",value:1,date:new Date(t,n-1,1),offset:!1},{name:"中旬",value:11,date:new Date(t,n-1,11),offset:!1},{name:"下旬",value:21,date:new Date(t,n-1,21),offset:!1}];this.calendar[t+"-"+n]={key:t+"年"+n+"月",year:t,month:n,days:i,height:this.rowHeight*i.length}}return this.calendar[t+"-"+n]}}},Y=E,R=Object(p["a"])(Y,V,H,!1,null,null,null),z=R.exports,F={quarter:{3:1,6:4,9:7,12:10},halfyear:{12:7,6:1},tendays:{10:1,20:11}},q={name:"DsfMobileCalendar",components:{CalendarDayBox:v,CalendarYearBox:C,CalendarMonthBox:T,CalendarQuarterBox:L,CalendarTendaysBox:z},provide:function(){return{$calendar:this}},props:{show:{type:Boolean,default:!1},defaultValue:{type:[Date,Array],required:!1},type:{type:String,default:"date"},multiple:{type:Boolean,default:!1},range:{type:Boolean,default:!1},minDate:{type:Date,required:!1},maxDate:{type:Date,required:!1},defaultView:{type:String,default:"day"},defaultViewDate:{type:Date,required:!1},clearable:{type:Boolean,default:!1},defaultTime:{type:[String,Array],default:function(){return["00:00:00","23:59:59"]}}},data:function(){return{now:new Date(dsf.date.toDay()),currentView:"day",yearView:{},monthView:{},dayView:{},timeView:{},boxHeight:360,value:[],tempValue:[]}},computed:{minTime:function(){var e=this.minDate;return(!e||e<new Date("1801/01/01"))&&(e=new Date("1801/01/01")),Object(a["a"])(e)},maxTime:function(){var e=this.maxDate;return(!e||e>new Date("2500/12/31"))&&(e=new Date("2500/12/31")),Object(a["a"])(e,!0)},valueText:function(){var e=[];return this.range?(e.push(Object(a["g"])(this.tempValue.length&&this.tempValue[0],this.type)),e.push(Object(a["g"])(2==this.tempValue.length?this.tempValue[1]:null,this.type))):e.push(Object(a["g"])(this.value.length&&this.value[0],this.type)),e}},watch:{show:{immediate:!0,handler:function(e){if(e)switch(this.type){case"year":this.currentView="year";break;case"month":this.currentView="year"==this.defaultView?"year":"month";break;case"quarter":this.currentView="quarter";break;case"halfyear":this.currentView="halfyear";break;case"tendays":this.currentView="tendays";break;default:this.currentView=this.defaultView;break}}},type:function(e){switch(e){case"year":this.currentView="year";break;case"month":this.currentView="month";break;case"quarter":this.currentView="quarter";break;case"halfyear":this.currentView="halfyear";break;case"tendays":this.currentView="tendays";break;default:this.currentView="day";break}}},created:function(){this.initValue(this.defaultValue)},methods:{initValue:function(e){if(e)if(this.multiple&&this.range);else if(!this.multiple&&this.range){if(Array.isArray(e)&&2==e.length){this.value=[[e[0],e[1]]];var t=new Date(e[1]).getFullYear(),n=new Date(e[1]).getMonth()+1,i=new Date(e[1]).getDate(),s="";if("quarter"===this.type)s=new Date(t,F.quarter[n]-1,1);else if("halfyear"===this.type)s=new Date(t,F.halfyear[n]-1,1);else if("tendays"===this.type){var a=F.tendays[i]||21;s=new Date(t,n-1,a)}else s=e[1];this.tempValue=[e[0],s]}}else this.multiple?Array.isArray(e)?this.value=e:this.value=[e]:Array.isArray(e)?this.value=[e[0]]:this.value=[e];else this.value=[]},onConfirm:function(){var e=this.value;this.multiple||this.value.length&&(e=e.length?e[0]:null),this.$emit("change",e),this.$emit("confirm",e)},onReset:function(){this.value=[],this.tempValue=[]},chooseTime:function(e){var t=this;"datetime_s"!=this.type&&"datetime"!=this.type||!this.value.length||(this.range?this.$timeView.open(this.value[0][e]).then((function(n){var i=new Date(dsf.date.format(t.value[0][e],"yyyy/mm/dd")+" "+n);t.$set(t.value[0],e,i),t.$set(t.tempValue,e,i)})).catch((function(e){})):this.$timeView.open(this.value[0]).then((function(e){var n=new Date(dsf.date.format(t.value[0],"yyyy/mm/dd")+" "+e);t.$set(t.value,0,n)})))},doLocation:function(e){this.now=new Date(dsf.date.toDay()),e=e||this.now,["day","tendays"].includes(this.currentView)?this.$dayView.doLocation(e):["month","halfyear","quarter"].includes(this.currentView)?this.$monthView.doLocation(e):"year"==this.currentView&&this.$yearView.doLocation(e)},formatter:function(e,t){return"month"===e?"".concat(+t,"月"):"year"===e?"".concat(t,"年"):t},chooseActive:function(){"day"==this.currentView?this.currentView="month":"month"==this.currentView&&(this.currentView="year")},backView:function(){"year"==this.currentView?this.currentView="month":"month"==this.currentView&&(this.currentView="day")},monthChang:function(e,t){var n=this;this.currentView="day",this.$nextTick((function(){n.doLocation(new Date("".concat(e,"/").concat(t,"/1")))}))},yearChang:function(e){var t,n=this;this.currentView="month";var i=(null===(t=this.$dayView)||void 0===t?void 0:t.activeMonth.month)||this.now.getMonth()+1;this.$nextTick((function(){n.doLocation(new Date("".concat(e,"/").concat(i,"/1")))}))}}},U=q,W=Object(p["a"])(U,i,s,!1,null,null,null);t["default"]=W.exports},,function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-cascader dsf-picker",class:{multiple:e.config.multiple}},[n("header",{staticClass:"header van-hairline--bottom"},[n("div",{staticClass:"title"},[n("span",{staticClass:"text"},[e._v(e._s(e.title||"级联选择"))]),n("span",{staticClass:"num",on:{click:function(t){e.showChecked=!0}}},[e.config.multiple?[e._v("已选"+e._s(e.checkedNodes.length)+"个")]:[e._v(e._s(e.checkedNodes.length?"已选":"未选"))]],2)])]),e.showTab?n("van-tabs",{ref:"tab",staticClass:"dsf-cascader__columns",attrs:{ellipsis:!1,animated:"",swipeable:""}},e._l(e.menus,(function(t,i){return n("van-tab",{key:i,attrs:{title:t.title,name:i}},[n("div",{staticClass:"dsf-cascader__column"},e._l(t.items,(function(s){return n("cascader-node",{key:s.uid,attrs:{index:i,node:s,active:s.uid===t.value},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,null,t)]}}],null,!0)})})),1)])})),1):e._e(),n("cascader-checked-list",{scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",null,null,t)]}}],null,!0),model:{value:e.showChecked,callback:function(t){e.showChecked=t},expression:"showChecked"}}),n("footer",{staticClass:"footer van-hairline--top"},[n("van-goods-action",[n("van-goods-action-button",{attrs:{type:"info",text:"取 消"},on:{click:e.cancel}}),e.config.multiple?n("van-goods-action-button",{attrs:{type:"primary",text:"确 定"},on:{click:e.confirm}}):e._e()],1),n("div",{staticClass:"bottom-safe-area"})],1)],1)},s=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-cascader__row",class:e.elClass,on:{click:e.itemClick}},[n("div",{staticClass:"text"},[e._t("default",(function(){return[e._v(e._s(e.node.label))]}),{node:e.node,data:e.node.data})],2),e.node.loading?n("van-loading",{attrs:{type:"spinner",size:"18"}}):e.node.isLeaf?e._e():n("i",{staticClass:"arrow van-icon van-icon-arrow"}),n("div",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.iconClick.apply(null,arguments)}}},[e.$cascader.hasCheckbox||e.node.isLeaf?n("i",{staticClass:"van-icon",class:[e.icon]}):e._e()])],1)},r=[],o={name:"CascaderNode",inject:["$cascader"],props:{node:{type:Object,required:!0},index:{type:Number,default:0},active:{type:Boolean,default:!1}},data:function(){return{checked:!1,isHalf:!1}},computed:{config:function(){return this.$cascader.config},icon:function(){return this.isHalf?"van-icon-minus":this.checked?"van-icon-success":""},parent:function(){var e;return(null===(e=this.node.parent)||void 0===e?void 0:e.vm)||null},elClass:function(){return{active:this.active,light:this.node.activePath}}},created:function(){var e=this.node,t=e.checked,n=e.isHalf;this.node.vm=this,this.checked=t,this.isHalf=n},methods:{itemClick:function(){var e=this.node;e.isLeaf?e.setChecked():this.$cascader.toNext(e,this.index)},iconClick:function(){this.node.setChecked()}}},l=o,c=n(0),u=Object(c["a"])(l,a,r,!1,null,null,null),d=u.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{style:{height:"60%"},attrs:{value:e.value,"lazy-render":!1,"get-container":"#app",position:"bottom",round:""},on:{input:function(t){return e.$emit("input",t)}}},[n("dsf-mobile-picker",{ref:"picker",attrs:{show:e.value,columns:e.list,multiple:e.multiple,"text-key":"label","value-key":"value",title:"已选列表","show-toolbar":""},on:{cancel:e.cancel,confirm:e.confirm}})],1)},f=[],p={name:"CascaderCheckedList",props:{value:{type:Boolean,default:!1}},data:function(){return{multiple:!1,list:[]}},watch:{value:function(e){var t=this;e&&(this.list=_.clone(this.$parent.checkedNodes),this.multiple=this.$parent.config.multiple,this.$nextTick((function(){t.$refs.picker.checkAll()})))}},methods:{cancel:function(){this.$emit("input",!1)},confirm:function(e,t){_.forEach(this.list,(function(e){-1===t.indexOf(e)&&e.setChecked(!1)})),this.$emit("input",!1)}}},m=p,v=Object(c["a"])(m,h,f,!1,null,null,null),g=v.exports;function y(e,t,n){var i=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.updateState=_.throttle(this._updateState,50,{leading:!1,trailing:!0}),this.config=t,this.rootVm=n,this.uid=dsf.uuid(),this.data=e,this.parent=s,this.root=!1,this.checked=!1,this.isHalf=!1,this.activePath=!1,this.label=e[t.label],this.value=e[t.value];var a=e[t.children];null!==a&&void 0!==a&&a.length?(this.hasChildren=!0,this.children=_.map(a,(function(e){return new y(e,t,n,i)}))):(this.hasChildren=!1,this.children=[]),this.isLeaf=dsf.isBoolean(e[t.leaf])?e[t.leaf]:!t.lazy&&!(null!==a&&void 0!==a&&a.length),this.loaded=!1,this.loading=!1,this.path=[this.value],this.pathLabels=[this.label],this.pathNodes=[this];while(s)this.path.unshift(s.value),this.pathLabels.unshift(s.label),this.pathNodes.unshift(s),s=s.parent}y.prototype={__setChecked:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.checked=e,this.vm&&(this.vm.checked=e)},__setHalf:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isHalf=e,this.vm&&(this.vm.isHalf=e)},_setChecked:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__setChecked(t);var n=this.config.multiple;n?t?dsf.array.ensure(this.rootVm.wholeNodes,this):dsf.array.remove(this.rootVm.wholeNodes,this):t?(_.forEachRight(this.rootVm.wholeNodes,(function(t){var n;t!==e&&(t.__setChecked(),null===(n=t.parent)||void 0===n||n.updateState())})),this.rootVm.wholeNodes=[this]):dsf.array.remove(this.rootVm.wholeNodes,this)},_setHalf:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.config,n=t.multiple,i=t.checkStrictly;n&&!i&&(this.isHalf=e,this.vm&&(this.vm.isHalf=e))},setChecked:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.checked;this.isHalf&&(t=!0,this._setHalf()),this._setChecked(t);var n=this.config;n.multiple&&!n.checkStrictly&&dsf.deepForEach(this.children,(function(e){return e._setChecked(t)})),this.updateState(),!n.multiple&&this.checked&&this.rootVm.$nextTick((function(){e.rootVm.confirm()}))},setHalf:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._setHalf(t),null===(e=this.parent)||void 0===e||e.updateState()},_updateState:function(){if(this.isLeaf){var e;null===(e=this.parent)||void 0===e||e.updateState()}else{for(var t=this.config,n=t.multiple,i=t.checkStrictly,s=!1,a=!1,r=!1,o=!1,l=0,c=this.children.length;l<c;l++){var u=this.children[l];if(u.isHalf){s=!0;break}u.activePath&&(o=!0),u.checked?a=!0:r=!0}n&&!i&&(s||!a||r?(this.__setChecked(),dsf.array.remove(this.rootVm.wholeNodes,this)):(this.__setChecked(!0),dsf.array.ensure(this.rootVm.wholeNodes,this))),this.activePath=o||a,this.setHalf(s||a&&r)}},setChildData:function(e){var t=this;this.children=_.map(e,(function(e){return new y(e,t.config,t.rootVm,t)})),this.hasChildren=!!this.children.length}};var b={name:"DsfMobileCascaderPicker",components:{CascaderNode:d,CascaderCheckedList:g},provide:function(){return{$cascader:this}},props:{show:{type:Boolean,default:!0},title:{type:String,default:""},options:{type:Array,default:function(){return[]}},props:{type:Object,required:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},filterMethod:{type:Function,required:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,required:!1}},data:function(){return{showTab:!1,showChecked:!1,menus:[],nodes:[],wholeNodes:[]}},computed:{config:function(){var e=this.props||{};return e.multiple=e.multiple||!1,e.checkStrictly=e.checkStrictly||!1,e.lazy=e.lazy||!1,e.lazyLoad=e.lazyLoad||function(){},e.value=e.value||"value",e.label=e.label||"label",e.children=e.children||"children",e.disabled=e.disabled||"disabled",e.leaf=e.leaf||"leaf",e},hasCheckbox:function(){return this.config.multiple||this.config.checkStrictly},checkedNodes:function(){return this.config.checkStrictly?this.wholeNodes:_.filter(this.wholeNodes,(function(e){return e.isLeaf}))}},watch:{show:{handler:function(e){e&&(this.showTab=!0)},immediate:!0},options:{handler:function(e){var t=this;this.nodes=_.map(e,(function(e){return new y(e,t.config,t)})),this.menus=[{title:"请选择",parentNode:null,items:this.nodes}]},deep:!0,immediate:!0},config:function(e){var t=this;y.prototype.rootVm=this,this.nodes=_.map(this.options,(function(n){return new y(n,e,t)})),this.menus=[{title:"请选择",parentNode:null,items:this.nodes}]}},created:function(){var e=this;this.config.lazy&&!this.options.length&&this.config.lazyLoad({root:!0},(function(t){e.items=t}))},methods:{confirm:function(){var e,t=this.checkedNodes;this.config.multiple?e=_.map(t,"data"):t.length?(t=t[0],e=t.data):(t=null,e=null),this.$emit("confirm",e,t)},cancel:function(){this.$emit("cancel")},toNext:function(e,t){var n=this,i=function(i){n.menus.length=t+1,n.menus[t].title=e.label,n.menus[t].value=e.uid;var s={title:"请选择",parentNode:e,items:e.children};i&&(s.items=e.children),n.menus.push(s),n.$nextTick((function(){var e;null===(e=n.$refs.tab)||void 0===e||e.scrollTo(t+1)}))};!this.config.lazy||e.loaded||e.loading?i():this.lazyLoad(e,i)},lazyLoad:function(e,t){var n,i,s=this;e.loading=!0,null===(n=(i=this.config).lazyLoad)||void 0===n||n.call(i,e,(function(n){e.loaded=!0,e.loading=!1,n.length?(e.setChildData(n),s.$nextTick((function(){null===t||void 0===t||t()}))):s.$set(e,"isLeaf",!0)}))},getNodeByKey:function(e){var t=dsf.isArray(e)?_.uniq(e):[e],n=[],i=t.length,s=0;return dsf.deepForEach(this.nodes,(function(e){if(t.indexOf(e.value)>-1&&(n.push(e),s++===i))return-1})),dsf.isArray(e)?n:(null===n||void 0===n?void 0:n[0])||null},setValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e||(e=[]),this.config.multiple)dsf.isArray(e)||(e=[e]);else if(dsf.isArray(e)&&e.length)e.length=1;else{if(!e||dsf.isArray(e))return;e=[e]}var t=_.clone(this.checkedNodes),n=[];_.forEach(e,(function(e){var i=_.findIndex(t,(function(t){return e===t.value}));-1===i?n.push(e):t.splice(i,1)})),_.forEach(this.getNodeByKey(n),(function(e){return e.setChecked(!0)})),_.forEach(t,(function(e){return e.setChecked(!1)}))}}},x=b,w=Object(c["a"])(x,i,s,!1,null,null,null);t["default"]=w.exports},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-picker",class:{notCanSelect:e.notCanSelect,multiple:e.multiple}},[n("header",{staticClass:"header van-hairline--bottom"},[n("div",{staticClass:"title"},[n("span",{staticClass:"text"},[e._v(e._s(e.title||(e.multiple?"下拉多选":"下拉单选")))]),n("span",{staticClass:"num"},[e.multiple?[e._v(e._s(e.checkItems.length)+" / "+e._s(e.$columns.length))]:[e._v(e._s(e.checkItems.length?"已选":"未选"))]],2)]),n("div",{staticClass:"buttons"},[e.multiple?n("button",{staticClass:"van-picker__confirm",attrs:{type:"button"},on:{click:e.choose}},[e._v(" "+e._s(e.canClear?"清空":"全选")+" ")]):e._e()])]),n("main",{staticClass:"main"},[e._l(e.$columns,(function(t){return[n("div",{key:t[e.valueKey],staticClass:"dsf-picker-item",class:{disabled:t.disabled,checked:e.checkItems.indexOf(t)>-1},on:{click:function(n){return e.itemClick(t)}}},[n("div",{staticClass:"text"},[e._t("default",(function(){return[e._v(e._s(t[e.textKey]))]}),{item:t})],2),e._m(0,!0)])]}))],2),n("footer",{staticClass:"footer van-hairline--top"},[n("van-goods-action",[n("van-goods-action-button",{attrs:{type:"info",text:"取 消"},on:{click:e.cancel}}),e.multiple?n("van-goods-action-button",{attrs:{type:"primary",text:"确 定"},on:{click:e.confirm}}):e._e()],1),n("div",{staticClass:"bottom-safe-area"})],1)])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon"},[n("i",{staticClass:"van-icon van-icon-success"})])}],a=n(3),r=n.n(a),o={name:"DsfMobilePicker",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},columns:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},max:{type:Number,default:0},valueKey:{type:String,default:"text"},textKey:{type:String,default:"text"}},data:function(){return{checkItems:[]}},computed:{notCanSelect:function(){return!(this.max<=0||this.max>this.checkItems.length)},canClear:function(){return this.checkItems.length==this.$columns.length},$columns:function(){var e=this;return this.columns.map((function(t){return"string"==dsf.type(t)?r()(r()({},e.valueText,t),e.valueKey,t):t}))},count:function(){return this.$columns.length}},watch:{multiple:function(e){!e&&this.checkItems.length>1&&(this.checkItems=[this.checkItems[0]])}},methods:{itemClick:function(e){var t=this;if(!e.disabled){var n=this.checkItems.indexOf(e);-1==n?this.multiple?this.notCanSelect||this.checkItems.push(e):(this.checkItems=[e],this.$nextTick((function(){t.confirm()}))):this.multiple?this.checkItems.splice(n,1):(this.checkItems=[],this.$nextTick((function(){t.confirm()})))}},getCheckValue:function(){return _.map(this.checkItems,this.valueKey)},checkAll:function(){this.checkItems=_.clone(this.$columns)},setValues:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){this.multiple?(t=_.uniq(t),this.max&&t.length>this.max&&(t.length=this.max)):t.length>1&&(t.length=1);var n=[],i=this.valueKey;_.forEach(t,(function(t){var s=_.find(e.$columns,(function(e){return e[i]===t}));s&&n.push(s)})),this.checkItems=n}else this.checkItems=[]},choose:function(){var e=this.checkItems,t=this.$columns,n=this.canClear,i=this.max,s=this.notCanSelect;if(n)this.checkItems=[];else if(i){if(s)for(var a=0,r=t.length,o=i-e.length;a<r;a++){if(o<=0)break;var l=t[a];-1==e.indexOf(l)&&(o--,e.push(l))}}else this.checkItems=_.clone(t)},confirm:function(){var e=this.getCheckValue();this.$emit("confirm",e,this.checkItems)},cancel:function(){this.$emit("cancel")}}},l=o,c=n(0),u=Object(c["a"])(l,i,s,!1,null,null,null);t["default"]=u.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-popup",{attrs:{"get-container":"#app",position:"bottom",round:""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("van-picker",{ref:"picker",attrs:{columns:e.columns,title:"选择时间","show-toolbar":""},on:{change:e.onChange,cancel:e.onCancel,confirm:e.onConfirm}})],1)},s=[],a=n(8),r=n.n(a),o=n(5),l={name:"DsfMobileCalendarTimeBox",inject:{$calendar:{default:null}},props:{unit:{type:Array,default:function(){return["点","分","秒"]}},type:{type:String,default:"datetime"},minTime:{type:Number,default:-1/0},maxTime:{type:Number,default:1/0},step:{type:Number,default:1}},data:function(){return{show:!1,columns:[]}},computed:{hours:function(){return Object(o["f"])(24,this.unit[0])},minutes:function(){return Object(o["f"])(60,this.unit[1])},seconds:function(){return Object(o["f"])(60,this.unit[2])}},created:function(){this.$calendar&&(this.$calendar.timeView=this.$calendar.$timeView=this)},methods:{updateColumns:function(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0,r=[e,t,n,s].join(",");this.lastOpt!=r&&(this.lastOpt=r,t||n||1!=s?i=this.getColumns(t,n,s,a):(this.cache=null,i=[{values:this.hours,defaultIndex:0},{values:this.minutes,defaultIndex:0}]),"datetime_s"==e&&i.push({values:this.seconds,defaultIndex:0}),this.columns=i)},getColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o["h"],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;n*=6e4;var s,a,r=Math.floor(i/o["h"]),l=Math.floor(e/o["h"]),c=Math.floor(t/o["h"]),u={h:[],H:{}};s=e%o["h"],a=t%o["h"],l==c||(r<=l?a=o["h"]-1:r>=c?(s=n-((c-l)*o["h"]-s)%n,a=t%o["h"]):(s=n-((r-l)*o["h"]-s)%n,a=o["h"]-1));do{var d=Object(o["j"])(Math.floor(s/36e5),this.unit[0]),h=Object(o["j"])(Math.floor(s%36e5/6e4),this.unit[1]);u.H[d]||(u.H[d]=[],u.h.push({text:d,disabled:!1})),u.H[d].push({text:h,disabled:!1}),s+=n}while(s<=a);return this.cache=u,[{values:u.h,defaultIndex:0},{values:u.H[u.h[0].text],defaultIndex:0}]},setIndexes:function(e){var t=this,n=Object(o["j"])(e.getHours(),this.unit[0]);n=this.columns[0].values.findIndex((function(e){var t=e.text;return t==n})),n=n<0?0:n,this.onChange(null,[this.columns[0].values[n]]);var i=Object(o["j"])(e.getMinutes(),this.unit[1]);i=this.columns[1].values.findIndex((function(e){var t=e.text;return t==i})),i=i<0?0:i;var s=[n,i];if("datetime_s"==this.type){var a=Object(o["j"])(e.getSeconds(),this.unit[2]);a=this.columns[2].values.findIndex((function(e){var t=e.text;return t==a})),a=a<0?0:a,s.push(a)}if(this.$refs.picker)this.$nextTick((function(){t.$refs.picker.setIndexes(s)}));else if(this.columns[0].defaultIndex=n,this.columns[1].defaultIndex=i,"datetime_s"==this.type){var r=Object(o["j"])(e.getSeconds(),this.unit[2]);r=this.columns[2].values.findIndex((function(e){var t=e.text;return t==r})),r=r<0?0:r,this.columns[2].defaultIndex=r}},open:function(e){var t=this;this.lastH=null;var n=this.minTime==-1/0?void 0:this.minTime+o["b"],i=this.maxTime==1/0?void 0:this.maxTime+o["b"];return this.updateColumns(this.type,n,i,this.step<2?1:this.step,e.getTime()),this.$nextTick((function(){t.setIndexes(e),t.show=!0})),new Promise((function(e,n){t.resolve=e,t.reject=n}))},onCancel:function(){this.show=!1,this.reject(),this.resolve=void 0},onConfirm:function(e){this.show=!1,this.resolve(e.map((function(e){return Object(o["i"])(parseInt(e.text))})).join(":")),this.reject=void 0},onChange:function(e,t){var n=this,i=r()(t,1),s=i[0];!this.cache||this.lastH&&this.lastH.text==s.text||(this.lastH=s,this.$set(this.columns[1],"values",this.cache.H[s.text]),e&&this.$nextTick((function(){n.$refs.picker.setColumnIndex(1,0)})))}}},c=l,u=n(0),d=Object(u["a"])(c,i,s,!1,null,null,null);t["default"]=d.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-image",e._b({staticClass:"dsf-mobile-image",on:{click:e.onclick,load:function(t){return e.$emit("load",t)},error:function(t){return e.$emit("error",t)}},scopedSlots:e._u([{key:"placeholder",fn:function(){return[e._t("loading",(function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]}))]},proxy:!0},{key:"error",fn:function(){return[e._t("error",(function(){return[e.defaultImg?n("img",{staticClass:"dsf-mobile-image-fail",attrs:{src:e.defaultImg,alt:""}}):[e._v("暂无图片")]]}))]},proxy:!0}],null,!0)},"van-image",e.$props,!1),[e._t("default")],2)},s=[],a={name:"DsfMobileImage",props:{src:{type:String,default:""},index:{type:Number,required:!1},fit:{type:String,default:"cover"},alt:{type:String,required:!1},width:{type:String,required:!1},height:{type:String,required:!1},radius:{type:String,required:!1},round:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!1},previewSrcList:{type:[Array,Boolean],default:!1},errorSrc:{type:String,required:!1}},computed:{defaultImg:function(){return this.errorSrc||dsf.config.setting_public_card_default_img}},methods:{onclick:function(e){this.preview(),this.$emit("click",e)},preview:function(){var e=this.previewSrcList;if(!1!==e&&(!0===e&&(e=[this.src]),e.length)){var t=void 0!==this.index?this.index:e.indexOf(this.src);window.vant.ImagePreview({images:e,startPosition:t})}}}},r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-picker",{ref:"picker",attrs:{title:e.title,columns:e.columns,"show-toolbar":""},on:{change:e.columnChange,confirm:e.onConfirm,cancel:function(t){return e.$emit("cancel")}},scopedSlots:e._u([{key:"option",fn:function(t){var n=t.value,i=t.type;return[e._v(" "+e._s(e.handleShowDate(n,i))+" ")]}}])})},s=[],a=n(5),r={year:"currentYear",month:"currentMonth",day:"currentDay",hour:"currentHour",minute:"currentMinute",second:"currentSecond",halfyear:"currentMonth",quarter:"currentMonth",tendays:"currentDay"},o={year:"年",month:"月",day:"日",hour:"时",minute:"分",second:"秒",halfyear:"",quarter:"",tendays:""},l={1:"上半年",7:"下半年"},c={1:"第一季度",4:"第二季度",7:"第三季度",10:"第四季度"},u={1:"上旬",11:"中旬",21:"下旬"},d={name:"DsfMobileDataTimePicker",props:{title:{type:String,default:"日期选择"},defaultValue:{type:Date,required:!1},type:{type:String,default:"date"},minDate:{type:Date,required:!1},maxDate:{type:Date,required:!1},defaultViewDate:{type:Date,default:function(){return new Date}},defaultTime:{type:String,default:"00:00:00"}},data:function(){return{unit:o,currentYear:2e3,currentMonth:1,currentDay:1,currentHour:0,currentMinute:0,currentSecond:0}},computed:{defaultData:function(){return Object(a["a"])(this.defaultValue||this.defaultViewDate)},minTime:function(){var e=this.minDate;return(!e||e<new Date("1801/01/01"))&&(e=new Date("1801/01/01")),Object(a["a"])(e)},maxTime:function(){var e=this.maxDate;return(!e||e>new Date("2300/12/31"))&&(e=new Date("2300/12/31")),Object(a["a"])(e,!0)},columns:function(){var e=this.type,t=this.minTime,n=this.maxTime,i=this.currentYear,s=this.currentMonth,r=this.currentDay,o=this.currentHour,l=this.currentMinute,c=this.currentSecond,u=1,d=12,h=1,f=Object(a["e"])(i,s),p=0,m=23,v=0,g=59,y=0,b=59;i==t.Y&&(u=t.M,s==t.M&&(h=t.D,r==t.D&&(p=t.h,o==t.h&&(v=t.m,l==t.m&&(y=t.s))))),i==n.Y&&(d=n.M,s==n.M&&(f=n.D,r==n.D&&(m=n.h,o==n.h&&(g=n.m,l==n.m&&(b=n.s)))));var _=d-u+1,x=f-h+1,w=m-p+1,C=g-v+1,k=b-y+1;switch(e){case"year":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year")];case"month":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),Object(a["c"])(s-u,u,_,"month")];case"datetime":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),Object(a["c"])(s-u,u,_,"month"),Object(a["c"])(r-h,h,x,"day"),Object(a["c"])(o-p,p,w,"hour"),Object(a["c"])(l-v,v,C,"minute")];case"datetime_s":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),Object(a["c"])(s-u,u,_,"month"),Object(a["c"])(r-h,h,x,"day"),Object(a["c"])(o-p,p,w,"hour"),Object(a["c"])(l-v,v,C,"minute"),Object(a["c"])(c-y,y,k,"second")];case"halfyear":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),this.getQuarterHalfYearTendays("halfyear")];case"quarter":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),this.getQuarterHalfYearTendays("quarter")];case"tendays":return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),Object(a["c"])(s-u,u,_,"month"),this.getQuarterHalfYearTendays("tendays")];default:return[Object(a["c"])(i-t.Y,t.Y,n.Y-t.Y+1,"year"),Object(a["c"])(s-u,u,_,"month"),Object(a["c"])(r-h,h,x,"day")]}}},created:function(){this.init()},methods:{init:function(){var e=this.minTime,t=this.maxTime,n=this.defaultData;e.Y>n.Y?this.currentYear=e.Y:t.Y<n.Y?this.currentYear=t.Y:this.currentYear=n.Y,e.Y==this.currentYear&&e.M>n.M?this.currentMonth=e.M:t.Y==this.currentYear&&t.M<n.M?this.currentMonth=t.M:this.currentMonth=n.M,e.Y==this.currentYear&&e.M==this.currentMonth&&e.D>n.D?this.currentDay=e.D:t.Y==this.currentYear&&t.M==this.currentMonth&&t.D<n.D?this.currentDay=t.D:this.currentDay=n.D,this.currentHour=n.h,this.currentMinute=n.m,this.currentSecond=n.s},handleShowDate:function(e,t){switch(t){case"halfyear":return l[e];case"quarter":return c[e];case"tendays":return u[e];default:return e+o[t]}},columnChange:function(e,t){var n=this;_.each(t,(function(e){var t=e.type,i=e.value;return n[r[t]]=i}))},onConfirm:function(){var e=this,t=this.$refs.picker.getValues();_.each(t,(function(t){var n=t.type,i=t.value;return e[r[n]]=i}));var n=this.currentYear,i=this.currentMonth,s=this.currentDay,o=this.currentHour,l=this.currentMinute,c=this.currentSecond,u=new Date(n,i,0).getDate();s>u&&(s=u);var d="".concat(n,"/").concat(Object(a["i"])(i),"/").concat(Object(a["i"])(s)," ").concat(Object(a["i"])(o),":").concat(Object(a["i"])(l),":").concat(Object(a["i"])(c)),h=new Date(d);this.$emit("change",h),this.$emit("confirm",h)},getQuarterHalfYearTendays:function(e){return"halfyear"===e?{defaultIndex:24,values:[{type:"halfyear",value:"1"},{type:"halfyear",value:"7"}]}:"quarter"===e?{defaultIndex:24,values:[{type:"quarter",value:"1"},{type:"quarter",value:"4"},{type:"quarter",value:"7"},{type:"quarter",value:"10"}]}:{defaultIndex:24,values:[{type:"tendays",value:"1"},{type:"tendays",value:"11"},{type:"tendays",value:"21"}]}}}},h=d,f=n(0),p=Object(f["a"])(h,i,s,!1,null,null,null);t["default"]=p.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-tabbar",{staticClass:"ds-bottom-nav ds_control",attrs:{fixed:!1,"safe-area-inset-bottom":!0},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.buttons,(function(t,i){return n("van-tabbar-item",{key:i,attrs:{name:i},on:{click:function(n){return n.stopPropagation(),e.go(t.href)}}},[n("span",[e._v(e._s(t.text))]),e.active==i?[t.activeIcon?n("DsfIcon",{attrs:{slot:"icon",name:t.activeIcon?t.activeIcon:"yiwen"},slot:"icon"}):t.icon?n("DsfIcon",{attrs:{slot:"icon",name:t.icon?t.icon:"yiwen"},slot:"icon"}):e._e()]:[t.icon?n("DsfIcon",{attrs:{slot:"icon",name:t.icon?t.icon:"yiwen"},slot:"icon"}):e._e()]],2)})),1)},s=[],a={name:"DsfMobileButtonNav",ctrlCaption:"底部导航",props:{buttons:{type:Array,default:function(){return[]}}},data:function(){return{active:0}},computed:{},watch:{$route:function(e,t){this.matchUrl(e)},buttons:{handler:function(e){this.matchUrl(this.$route)},immediate:!0}},created:function(){},beforeMount:function(){},mounted:function(){},beforeDestroy:function(){},destroyed:function(){},methods:{matchUrl:function(e){this.setActive(dsf.url.isIframeLoader(e)?e.fullPath:e.path)},setActive:function(e){var t=this,n=_.findIndex(this.buttons,(function(n){return t.urlSome(n.href,e)}));n>=0&&(this.active=n,window.$$state.active=e)},go:_.throttle((function(e){this.urlSome(this.$route.path,e)||(e=dsf.url.anchorToRoutePath(e),this.$router.push({path:e}))}),150),urlSome:function(e,t){return e=dsf.url.anchorToRoutePath(e),t=dsf.url.anchorToRoutePath(t),dsf.url.isIframeLoader(e)&&dsf.url.isIframeLoader(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e==t}}},r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isEnvShow()?n("div",{staticClass:"ds-control mobile nav-bar-wrap",class:e.getCss,style:{position:(e.isDesign,"relative")}},[n("van-nav-bar",{directives:[{name:"mobile-top-safe",rawName:"v-mobile-top-safe"}],style:{background:e.backgroundColor},on:{"click-left":function(t){return e.backPage()}},scopedSlots:e._u([e.showBack?{key:"left",fn:function(){return[n("div",{style:{color:e.fontColor}},[n("dsf-icon",{staticClass:"left-icon",style:{color:e.fontColor},attrs:{name:"left"}}),e._v(" "+e._s(e.label)+" ")],1)]},proxy:!0}:null,{key:"title",fn:function(){return[e.isScroll?n("span",{ref:"scroll-span",staticClass:"scroll-span",style:e.scrollStyle},[e._v(" "+e._s(e.getNavTitle)+" ")]):n("div",{staticClass:"van-ellipsis",style:{color:e.fontColor}},[e._v(" "+e._s(e.getNavTitle)+" ")])]},proxy:!0},e.rightIcon?{key:"right",fn:function(){return[e._t("right",(function(){return[n("dsf-icon",{staticClass:"right-icon",style:{color:e.fontColor},attrs:{name:e.rightIcon},on:{click:function(t){return e.$emit("right-click")}}})]}))]},proxy:!0}:null],null,!0)})],1):e._e()},s=[],a=dsf.component({name:"DsfMobileNavBar",ctrlCaption:"标题导航",mixins:[$mixins.control],props:{label:{type:String,default:"返回"},navTitle:{type:String,default:""},showBack:{type:Boolean,default:!0},rightIcon:{type:String,default:""},isEnvHide:{type:Boolean,default:!0},fontColor:{type:String,default:"#606266"},backgroundColor:{type:String,default:"#FFFFFF"},isScroll:{type:Boolean,default:!1}},computed:{scrollStyle:function(){return{color:this.fontColor,transform:"translateX(-".concat(this.percent,"px)")}},getNavTitle:function(){var e=this.$expressParams();return this.$replace(this.navTitle,e)}},data:function(){return{percent:0,timer:null}},mounted:function(){this.isScroll&&this.initScoll()},watch:{getNavTitles:function(){this.initScoll()},isScroll:function(e){e&&this.initScoll()}},methods:{initScoll:function(){var e=this;this.percent=0,clearTimeout(this.timer),this.$nextTick((function(){if(e.$refs["scroll-span"]){var t=e.$refs["scroll-span"],n=t.getBoundingClientRect().width,i=$(t).closest(".van-nav-bar__title"),s=i[0].getBoundingClientRect().width;n>s&&e.scroll(n)}}))},scroll:function(e){var t=this;this.percent<e?(this.percent+=.5,this.timer=setTimeout((function(){t.scroll(e)}),20)):(clearTimeout(this.timer),this.percent=0,setTimeout((function(){t.scroll(e)}),500))},backPage:function(){this.$listeners["back-page"]?this.$emit("back-page"):this.$router.back()},isEnvShow:function(){return!this.isEnvHide||!dsf.client.envHide()}},beforeDestroy:function(){clearTimeout(this.timer)}}),r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control ds-form-item ds-textbox mobile",class:e.getCss,attrs:{fromDirection:e.fromDirection}},[e.simple&&e.readOnly&&!e.isDesign?[n("DsfTextProxy",e._b({model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1)),e._t("error",(function(){return[e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(" "+e._s(e.errorsMsg)+" ")]):e._e()]}))]:[e.readOnly?n("van-field",{attrs:{"label-width":e.getLabelWidth(!0),disabled:e.disabled,readonly:e.readOnly,"error-message":e.errorsMsg,"error-message-align":e.inputAlign,"input-align":e.inputAlign},scopedSlots:e._u([{key:"input",fn:function(){return[n("DsfTextProxy",e._b({attrs:{"show-label":!1},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"DsfTextProxy",e._self.$props,!1))]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[n("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0)}):n("van-field",{class:{"ds-error-border":e.errors.length>0},attrs:{placeholder:e.placeholder,disabled:e.disabled,"label-width":e.getLabelWidth(!0),required:e.required,"input-align":e.$inputAlign,"error-message-align":e.$inputAlign,readonly:""},on:{click:e.inputFocusHandler},scopedSlots:e._u([{key:"prefix",fn:function(){return[e._t("prefix")]},proxy:!0},{key:"suffix",fn:function(){return[e._t("suffix")]},proxy:!0},e.showLabel?{key:"label",fn:function(){return[n("DsfFieldLabel",{attrs:{owner:e._self,"is-mobile":"","data-caption":e.dataCapion,showIcon:e.showDataCaptionIcon}},[e._v(e._s(e.label))])]},proxy:!0}:null],null,!0),model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),e._t("error",(function(){return[e.errors.length>0?n("div",{staticClass:"ds-error-text"},[e._v(" "+e._s(e.errorsMsg)+" ")]):e._e()]})),n("DsfMobileDialog",{ref:"mobileDialog",attrs:{position:e.position,width:e.dialogWidth,visible:e.dialogVisible,height:"100%","show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.onDialogClose,open:e.onDialogOpen}},[n("div",{staticClass:"ds-autocomplete-dialog"},[n("div",{staticClass:"ds-autocomplete-dialog-header"},[n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{placeholder:"请输入搜索关键词","input-align":"center","show-action":""},on:{input:e.onSearchInput,search:e.onSearch,cancel:e.onSearchCancel},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)]),n("div",{staticClass:"ds-autocomplete-dialog-body"},[e.showList?n("van-list",{ref:"list",attrs:{finished:e.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:e.onSearchLoad},model:{value:e.searchLoading,callback:function(t){e.searchLoading=t},expression:"searchLoading"}},e._l(e.list,(function(t,i){return n("van-cell",{key:i,attrs:{value:t.label},on:{click:function(n){return e.checkItem(t)}},scopedSlots:e._u([{key:"right-icon",fn:function(){return[t.checked?n("dsf-icon",{attrs:{name:"duigou"}}):e._e()]},proxy:!0}],null,!0)})})),1):[n("van-cell",{staticClass:"search-tags"},e._l(e.searchHistory,(function(t,i){return n("van-tag",{key:i,attrs:{type:"primary",size:"large",plain:"",closeable:""},on:{close:function(n){return e.closeTag(t)},click:function(n){return e.tag2search(t)}}},[e._v(" "+e._s(t)+" ")])})),1),e.searchHistory&&e.searchHistory.length>0?n("p",{staticClass:"search-bottom",on:{click:e.clearTag}},[e._v(" 清除所有搜索历史 ")]):e._e()]],2)])])]],2)},s=[],a=dsf.component({name:"DsfMobileAutoComplete",mixins:[$mixins.formControl],ctrlType:"autocomplete",ctrlCaption:"自动填充",props:{placeholder:{type:String,default:"请输入"},inputAlign:{type:String,default:"right"},metadata:{type:Object,default:function(){return dsf.metadata.get("text-meta-data")}},metaDataType:{type:String,default:"0"},chooseMetaData:{type:Object,default:function(){return{}}},source:{type:String,default:""},pageSize:{type:Number,default:10},position:{type:String,default:"right"},dialogWidth:{type:String,default:"100%"},autoSwitch:{type:Boolean,default:!0},fromDirection:{type:String,default:"horizontal"}},computed:{$inputAlign:function(){return this.inputAlign},inputValue:{get:function(){return this.value},set:function(e){this.emitValueChange(e)}},searchUrl:function(){return dsf.express.replace(this.source)}},data:function(){return{dialogVisible:!1,searchValue:"",list:[],pageNum:1,totalPage:null,totalRow:null,finished:!1,searchLoading:!1,showList:!1,searchHistory:[]}},created:function(){var e=this;this.onSearchInput=_.debounce((function(){e.list=[],e.searchValue?(e.pageNum=1,e.doSearch()):e.showList=!1}),300)},methods:{inputFocusHandler:function(){this.dialogVisible=!0},onDialogClose:function(){this.dialogVisible=!1},onDialogOpen:function(){this.searchValue="",this.list=[],this.pageNum=1,this.totalPage=null,this.totalRow=null,this.finished=!1,this.searchLoading=!1,this.showList=!1;var e=localStorage.getItem("autocomplete-search-history");this.searchHistory=e?e.split(","):[],this.$dispatch("open-dialog",this)},onSearch:function(e){this.pageNum=1,this.list=[],this.doSearch(),r.call(this)},doSearch:function(){var e=this,t=this;this.searchLoading=!0,this.$http.get(this.searchUrl,{pageNum:this.pageNum,pageSize:this.pageSize,keyWord:this.searchValue}).done((function(n){var i=n.data,s=n.success;s?_.isArray(i.list)?(t.totalPage=i.totalPage,t.totalRow=i.totalRow,i.list=i.list.map((function(e){return e.checked=!1,e})),t.list=t.list.concat(i.list),t.finished=t.pageNum>=i.totalPage):(i=i.map((function(e){return e.checked=!1,e})),t.list=t.list.concat(i),t.finished=t.pageSize>=i.length):(dsf.layer.message("搜索失败",!1),e.finished=!0),setTimeout((function(){t.$refs.list.check()}),300)})).error((function(t){dsf.layer.message("搜索失败",!1),e.finished=!0})).always((function(){e.showList=!0,e.searchLoading=!1}))},onSearchCancel:function(){this.dialogVisible=!1},onSearchLoad:function(){this.pageNum+=1,this.doSearch()},checkItem:function(e){var t=this;if(e.checked=!0,this.inputValue=e.value,r.call(this),this.$vm&&this.autoSwitch){var n=this.$vm.getScopeMetaDataDict(this);if(!this.local)return;_.forOwn(n,(function(n,i){var s=i.split("."),a=s[1]?s[1]:i;if(1===n.fieldsLength){var r=dsf.isDef(e[i])?e[i]:e[a];dsf.isDef(r)&&t.$vm.$set(t.local,i,r)}else if(n.fieldsLength>1){var o=dsf.isDef(e[i])?e[i]:e[a];if(dsf.isDef(o)&&(dsf.isObject(o)||dsf.isArray(o)))t.$vm.$set(t.local,i,o);else{var l=null;_.each(n.valueAttributes,(function(t,n){var s=dsf.isDef(e[i+"_"+t])?e[i+"_"+t]:e[a+"_"+t];if(dsf.isDef(s))if(s.indexOf("^")>=0){l||(l=[]);var r=s.split("^");_.each(r,(function(e,n){l[n]||(l[n]={}),l[n][t]=e}))}else l||(l={}),l[t]=s})),dsf.isDef(l)&&t.$vm.$set(t.local,i,l)}}}))}this.$nextTick((function(){t.dialogVisible=!1;var n=e.label||e.value;t.emitFormValidate(n),t.$nextTick((function(){t.$dispatch("select-complete",e)}))}))},closeTag:function(e){var t=this.searchHistory.indexOf(e);this.searchHistory.splice(t,1),localStorage.setItem("autocomplete-search-history",this.searchHistory.join(","))},clearTag:function(){this.searchHistory=[],localStorage.removeItem("autocomplete-search-history")},tag2search:function(e){this.searchValue=e,this.doSearch()}}});function r(){var e=this.searchHistory.indexOf(this.searchValue);-1===e&&(this.searchHistory.push(this.searchValue),localStorage.setItem("autocomplete-search-history",this.searchHistory.join(",")))}var o=a,l=n(0),c=Object(l["a"])(o,i,s,!1,null,null,null);t["default"]=c.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dsf-mobile-slide-warp"},[e._t("default"),n("div",{ref:"rightWarp",staticClass:"dsf-mobile-slide-warp-right"},[e._t("right")],2)],2)},s=[],a={name:"DsfMobileSlideWarp",props:{openSlide:{default:!1},openExclude:{default:!0}},created:function(){},methods:{touchstart:function(e){var t;window.dsfMobileExcludeSlideButtonWarp&&window.dsfMobileExcludeSlideButtonWarp!=this&&(null===(t=window.dsfMobileExcludeSlideButtonWarp)||void 0===t||t.close(),window.dsfMobileExcludeSlideButtonWarp=null);this.rightWarpWidth=this.$refs.rightWarp.clientWidth,this.rightWarpWidth&&(this.touchStart=e.touches[0].clientX,this.scrollWidth=this.$el.scrollWidth,this.olScrollLeft=this.$el.scrollLeft,this.startScroll=!1,document.removeEventListener("touchend",this.touchend),document.removeEventListener("touchmove",this.touchmove),document.addEventListener("touchend",this.touchend),document.addEventListener("touchmove",this.touchmove))},touchmove:function(e){this.scrollCha=this.touchStart-e.touches[0].clientX;var t=50;(this.olScrollLeft>0&&this.scrollCha<t||this.olScrollLeft<=0&&this.scrollCha>t)&&(e.stopPropagation(),$(document.documentElement).addClass("dsf-mobile-slide-warpall-scroll-hidden"),this.startScroll=!0),this.startScroll&&(this.$el.scrollLeft=this.olScrollLeft+this.scrollCha)},touchend:function(){if(document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend),$(document.documentElement).removeClass("dsf-mobile-slide-warpall-scroll-hidden"),this.startScroll=!1,this.scrollCha){var e=0,t=this.rightWarpWidth-this.scrollCha;Math.abs(this.scrollCha)>50&&this.scrollCha>0&&(e=this.rightWarpWidth),this.scrollCha=0,$(this.$el).animate({scrollLeft:e},t*(50/this.rightWarpWidth)),this.openExclude&&(window.dsfMobileExcludeSlideButtonWarp=this)}},close:function(){$(this.$el).animate({scrollLeft:0},50)}},watch:{openSlide:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.$el.removeEventListener("touchstart",t.touchstart),e&&t.$el.addEventListener("touchstart",t.touchstart)}))}}},destroyed:function(){$(document.documentElement).removeClass("all-scroll-hidden"),document.removeEventListener("touchmove",this.touchmove),document.removeEventListener("touchend",this.touchend),window.dsfMobileExcludeSlideButtonWarp==this&&(window.dsfMobileExcludeSlideButtonWarp=null)}},r=a,o=(n(309),n(0)),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports},function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ds-control mobile ds-platform-card-box",class:{horizontal:e.horizontal},style:e.rootPadding},[e.isDesign?e.$isPrototype?n("div",{staticClass:"ds-platform-card-list",style:e.listStyle},[n("div",{staticClass:"ds-platform-card-list",style:e.listStyle},[e._l(e.realData,(function(t,i){return[n("div",{key:t[e.rowKey],staticClass:"ds-platform-card-item",class:e.getItemClass(i),style:e.itemStyle,attrs:{"slot-name":"default"}},[e._t("default",null,null,{row:{},$index:0})],2)]}))],2)]):n("div",{staticClass:"ds-platform-card-list",style:e.listStyle},[n("div",{staticClass:"ds-platform-card-item no-margin-left no-margin-top",style:e.itemStyle,attrs:{"slot-name":"default"}},[e._t("default",null,null,{row:{},$index:0})],2),e._l(e.columnNumber*(e.horizontal?3:1)-1,(function(t){return[n("div",{key:t,staticClass:"ds-platform-card-item",class:e.getItemClass(t),style:e.itemStyle},[e._v(" "+e._s(t)+" ")])]}))],2):[e.realData.length?n("div",{staticClass:"ds-platform-card-list",style:e.listStyle},[e._l(e.realData,(function(t,i){return[n("div",{key:t[e.rowKey],staticClass:"ds-platform-card-item",class:e.getItemClass(i),style:e.itemStyle},[e._t("default",null,null,{row:t,$index:i})],2)]}))],2):[e.emptyPath?n("dsf-empty-data",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{image:e.emptyPath,description:"暂无数据"}}):n("dsf-empty-data",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],attrs:{description:"暂无数据"}})]]],2)},s=[],a=dsf.component({name:"DsfMobilePlatformCardBox",ctrlCaption:"卡片列表",mixins:[$mixins.cardList],props:{loading:{type:Boolean,default:!1},padding:{type:Array,default:function(){return["0","25px","0","25px"]}},columnNumber:{type:Number,default:2},columnWidth:{type:String,default:"150px"},marginTop:{type:String,default:"25px"},emptyimage:{type:String,default:""}},data:function(){return{defaultEmptyImage:n(65)}},computed:{rootPadding:function(){var e=this,t=_.map(this.padding,(function(t){return e.pxToRem(t)}));return this.horizontal?{"padding-top":t[0],"padding-bottom":t[2]}:{padding:t.join(" ")}},emptyPath:function(){return this.emptyimage}}}),r=a,o=n(0),l=Object(o["a"])(r,i,s,!1,null,null,null);t["default"]=l.exports}])["default"]}));
//# sourceMappingURL=../../../smap/platform/dsf-platform.mobile.js.map