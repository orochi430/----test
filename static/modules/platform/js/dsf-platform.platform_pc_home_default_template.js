/*!
 * Name: @dsf/cli-platform
 * Version: 5.17.0-alpha.5
 * Description: 平台基础包
 * BuildTime: 2024/6/19 17:49:40
*/
(("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[]).push([[45],{1150:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"ds-aside-menu",class:["level"+e.level]},[e._l(e.menuList,(function(t,i){return[n("dsf-default-home-menu-item",{key:t.menu_id,attrs:{menu:t,index:i,level:e.level,"has-icon":e.hasIcon},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}})]}))],2)},o=[],s={name:"DsfDefaultHomeMenu",props:{menuList:{type:Array,default:function(){return[]}},level:{type:Number,default:1}},data:function(){return{showKey:""}},computed:{hasIcon:function(){var e=dsf.config.setting_public_default_menu_icon;return!(!e&&!_.find(this.menuList,(function(e){return!!e.menu_icon})))}},methods:{mouseenter:function(e,t){this.$emit("mouseenter",e,t)},mouseleave:function(e){this.$emit("mouseleave",e)}}},l=s,r=n(0),a=Object(r["a"])(l,i,o,!1,null,null,null);t["default"]=a.exports},1151:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"ds-aside-menu-item",class:{active:e.isActive,show:e.showChildren,hover:e.homeAside.hoverMenu===e.menu},attrs:{"menu-key":e.menu.menu_id,"menu-level":e.level}},[n("div",{staticClass:"ds-aside-menu-item-box",style:{"padding-left":20*e.level+"px"},attrs:{title:0==e.mini||e.menu.children?e.menu.menu_name:""},on:{click:e.clickEvent}},[1===e.level&&e.hasIcon?n("el-tooltip",{ref:"tooltip",staticClass:"item",attrs:{disabled:0==e.mini||!!e.menu.children,content:e.menu.menu_name,effect:"light",placement:"right",transition:""}},[n("i",{staticClass:"ds-aside-menu-item-icon iconfont",class:[e.menu.menu_icon||e.defaultIcon]})]):e._e(),n("span",{staticClass:"ds-aside-menu-item-name ellipsis"},[e._v(e._s(e.menu.menu_name))]),e.menu.children?n("i",{staticClass:"iconfont ds-aside-menu-item-show",class:e.menuItemArrowClass}):n("span",{directives:[{name:"show",rawName:"v-show",value:e.badge,expression:"badge"}],staticClass:"ds-page-home-badge",class:[e.homeRoot.badgeStyle]},[e._v(e._s(e.badge))])],1),0==e.mini&&e.menu.children?n("div",{directives:[{name:"show",rawName:"v-show",value:e.showChildren,expression:"showChildren"}]},[n("dsf-default-home-menu",{attrs:{"menu-list":e.menu.children,level:e.level+1}})],1):e._e()])},o=[],s=n(40),l={name:"DsfDefaultHomeMenuItem",inject:["homeRoot","homeAside"],props:{menu:{type:Object,required:!0},level:{type:Number,required:!0},index:{type:Number,required:!0},hasIcon:{type:Boolean,default:!1}},data:function(){return{defaultIcon:dsf.config.setting_public_default_menu_icon||"",isActive:!1,showChildren:!1,parent:{}}},computed:{badge:function(){var e,t=this.menu["menu_id"];return t&&(null===(e=this.homeRoot.badges[t])||void 0===e?void 0:e.num)||0},mini:function(){return dsf.themeConfig.setting.defaultAsideMini},menuItemArrowClass:function(){var e=this.showChildren,t=this.mini,n=[];return e&&n.push("show"),0==t?n.push(e?"icon-xia1":"icon-zuo"):2==t&&n.push("icon-weibiaoti34"),n}},mounted:function(){this.parent=this.$parent,this.menu.children&&(this.$el.onmouseenter=this.mouseenter,this.$el.onmouseleave=this.mouseleave),this.$refs.tooltip&&(this.$refs.tooltip.debounceClose=this.$refs.tooltip.handleClosePopper)},beforeDestroy:function(){this.$el&&(this.$el.onmouseenter=null,this.$el.onmouseleave=null),this.$refs.tooltip&&(this.$refs.tooltip.debounceClose=null)},methods:{clickEvent:function(){this.menu.children?(this.showChildren=!this.showChildren,this.showChildren?this.homeAside.setShow(this,!0):(this.homeAside.setShow(this,!1),this.showChildren=!1)):this.linkTo(this.menu)},linkTo:function(e){var t,n,i;null!==(t=this.homeRoot)&&void 0!==t&&t.isPreview?null===(n=this.homeRoot)||void 0===n||null===(i=n.isPreviewLinkTo)||void 0===i||i.call(n,s["a"].findMenu(e)):s["a"].openPage.call(this.homeRoot,s["a"].findMenu(e))},mouseenter:function(e){this.$emit("mouseenter",e,this.menu)},mouseleave:function(e){this.$emit("mouseleave",e)}}},r=l,a=n(0),u=Object(a["a"])(r,i,o,!1,null,null,null);t["default"]=u.exports},1152:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-default-footer"},[e._v(" "+e._s(e.text)+" ")])},o=[],s={name:"DsfDefaultHomeFooter",inject:["homeRoot"],props:{text:{type:String,default:""}},created:function(){this.homeRoot.setHomeControl("DsfDefaultHomeFooter",this),this.homeRoot.setPosition("bottom","40px")},beforeDestroy:function(){this.homeRoot.removeHomeControl("DsfDefaultHomeFooter")}},l=s,r=n(0),a=Object(r["a"])(l,i,o,!1,null,null,null);t["default"]=a.exports},1153:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-default-breadcrumb",class:[e.size,{theme:e.theme}]},[e._t("default",(function(){return[e._m(0)]})),e.homeRoot.isPreview?e._e():[e.onlyLast?n("ul",[e.lastMenu?n("li",[e._t("default",(function(){return[n("a",[e._v(e._s(e.lastMenu.menu_name))])]}),{item:e.lastMenu}),e._t("separator",(function(){return[n("i",[e._v(e._s(e.separator))])]}))],2):e._e()]):n("ul",e._l(e.menuAction,(function(t){return n("li",{key:t.menu_id},[e._t("default",(function(){return[n("a",[e._v(e._s(t.menu_name))])]}),{item:t}),e._t("separator",(function(){return[n("i",[e._v(e._s(e.separator))])]}))],2)})),0)]],2)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"text"},[n("i",{staticClass:"iconfont icon-position"}),e._v(" 当前页:")])}],s={name:"DsfDefaultHomeBreadcrumb",inject:["homeRoot"],props:{size:{type:String,default:"normal"},theme:{type:Boolean,default:!0},separator:{type:String,default:"/"},onlyLast:{type:Boolean,default:!1}},data:function(){return{}},computed:{menuAction:function(){var e=this.homeRoot.menuAction.filter((function(e){return void 0!==e.menu_id}));if(0==e.length){var t=this.$route&&this.$route.meta||{};e=[{menu_name:t.title||""}]}return e},lastMenu:function(){var e=this.menuAction.length;return e?this.menuAction[e-1]:null},height:function(){return"big"==this.size?"50px":"small"==this.size?"42px":"46px"}},watch:{height:function(e){this.homeRoot.setPosition("breadcrumb",e)}},created:function(){this.homeRoot.setHomeControl("DsfDefaultHomeBreadcrumb",this),this.homeRoot.setPosition("breadcrumb",this.height)},beforeDestroy:function(){this.homeRoot.removeHomeControl("DsfDefaultHomeBreadcrumb")}},l=s,r=n(0),a=Object(r["a"])(l,i,o,!1,null,null,null);t["default"]=a.exports},1154:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-default-header-menu-children",class:{show:e.show},style:e.style,on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}},[n("div",{staticClass:"box"},[n("transition",{attrs:{name:"el-zoom-in-top"}},[n("header-menu-children",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{list:e.list}})],1)],1)])},o=[],s=n(606),l={name:"DsfDefaultHomeHeaderMenuChildren",inject:["homeRoot"],components:{HeaderMenuChildren:s["a"]},data:function(){return{list:[],show:!1,top:0,right:0}},computed:{style:function(){return{transform:"translate(-".concat(this.right,"px, ").concat(this.top,"px)")}}},created:function(){this.homeRoot.setHomeControl("DsfDefaultHomeHeaderMenuChildren",this)},mounted:function(){this.homeRoot.$el.querySelector(".ds-page-home-header-content").appendChild(this.$el),this.$parent.$on("show-menu-children",this.showMenuChildren),this.$parent.$on("hide-menu-children",this.hideMenuChildren)},beforeDestroy:function(){this.$el.remove(),this.$parent.$off("show-menu-children",this.showMenuChildren),this.$parent.$off("hide-menu-children",this.hideMenuChildren),this.homeRoot.removeHomeControl("DsfDefaultHomeHeaderMenuChildren")},methods:{showMenuChildren:function(e,t){var n,i=this;if(null!==(n=e.children)&&void 0!==n&&n.length){clearTimeout(this._t1),clearTimeout(this._t2);var o=t.target.getBoundingClientRect(),s=o.left,l=o.width;this.bottom=0,this.right=window.innerWidth-s-l/2,this.list=e.children,this.show||(this._t2=setTimeout((function(){i.show=!0}),10))}else this.hideMenuChildren()},hideMenuChildren:function(){var e=this;clearTimeout(this._t1),this._t1=setTimeout((function(){e.show=!1,e._t1=setTimeout((function(){e.list=[]}),200)}),200)},mouseenter:function(){clearTimeout(this._t1)},mouseleave:function(){this.hideMenuChildren()}}},r=l,a=n(0),u=Object(a["a"])(r,i,o,!1,null,null,null);t["default"]=u.exports},556:function(e,t,n){var i=n(752);"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=n(19).default;o("fc48f7b6",i,!0,{sourceMap:!1,shadowMode:!1})},606:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-menu"},[e._l(e.list,(function(t){return[n("div",{key:t.menu_id,staticClass:"header-menu-item",class:{active:e.homeRoot.menuKey.indexOf(t.menu_id)>-1}},[n("div",{staticClass:"info",on:{click:function(n){return e.itemClick(t)}}},[e.hasIcon?n("i",{staticClass:"iconfont icon",class:[t.menu_icon||"icon-shezhi"]}):e._e(),n("span",[e._v(e._s(t.menu_name))]),n("i",{staticClass:"iconfont more",class:{"icon-icon_more":t.children&&t.children.length}})]),t.children&&t.children.length?n("header-menu-children",{attrs:{list:t.children,"is-children":""}}):e._e()],1)]}))],2)},o=[],s=n(40),l={name:"HeaderMenuChildren",inject:["homeRoot"],props:{list:{type:Array,default:function(){return[]}},isChildren:{type:Boolean,default:!1}},computed:{hasIcon:function(){for(var e=0,t=this.list.length;e<t;e++){var n;if(null!==(n=this.list[e].menu_icon)&&void 0!==n&&n.trim())return!0}return!1}},mounted:function(){this.isChildren&&(this.$el.parentElement.onmouseenter=this.show,this.$el.parentElement.onmouseleave=this.hide)},methods:{show:function(){if(this.$el.style.display="block","visible"!==this.$el.style.visibility){this.$el.style.visibility="hidden",this.$el.style.top="0px";var e=this.$el.classList,t=window,n=t.innerWidth,i=t.innerHeight,o=this.$el.getBoundingClientRect(),s=o.width,l=o.height,r=o.top,a=this.$el.parentElement.getBoundingClientRect(),u=a.left,h=a.width;h+s+u+5>n?(e.remove("right"),e.add("left")):(e.remove("left"),e.add("right"));var c=0;c=5-r,c>0?this.$el.style.top=c+"px":(c=i-r-l-5,c<0&&(this.$el.style.top=c+"px")),this.$el.style.visibility="visible"}},hide:function(){this.$el.style.display="none"},itemClick:function(e){var t,n,i;null!==(t=this.homeRoot)&&void 0!==t&&t.isPreview?null===(n=this.homeRoot)||void 0===n||null===(i=n.isPreviewLinkTo)||void 0===i||i.call(n,s["a"].findMenu(e)):s["a"].openPage.call(this.homeRoot,s["a"].findMenu(e))}}},r=l,a=n(0),u=Object(a["a"])(r,i,o,!1,null,null,null);t["a"]=u.exports},751:function(e,t,n){"use strict";n(556)},752:function(e,t,n){"use strict";n.r(t)},972:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuList.length,expression:"menuList.length"}],staticClass:"page-home-default-aside",class:e.classList},[n("DsfVirtualScroll",{staticClass:"content",attrs:{width:"100%","scroll-y":""}},[n("dsf-default-home-menu",{ref:"menu",attrs:{"menu-list":e.menuList},on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}})],1),0!=e.mini?n("home-aside-menu-children",{ref:"children",on:{close:function(t){e.hoverMenu=null}}}):e._e()],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-default-aside-menu-children",class:{show:e.show},style:e.style,on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave,transitionend:e.transitionend}},[n("div",{ref:"box",staticClass:"box"},[n("transition",{attrs:{name:"el-zoom-in-left"}},[n("header-menu-children",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{list:e.list}})],1)],1)])},l=[],r=n(606),a={name:"HomeAsideMenuChildren",components:{HeaderMenuChildren:r["a"]},data:function(){return{list:[],show:!1,top:0,left:0}},computed:{style:function(){return{transform:"translate(".concat(this.left,"px, ").concat(this.top,"px)")}}},watch:{show:function(e){e||this.$emit("close")}},mounted:function(){document.querySelector("#app > .full-view").appendChild(this.$el)},beforeDestroy:function(){this.$el.remove()},methods:{showMenuChildren:function(e,t){var n,i=this;if(null==this.__scrollOverflow&&(this.__scrollOverflow=this.$el.parentElement.style.overflow,this.$el.parentElement.style.overflow="hidden"),null!==(n=e.children)&&void 0!==n&&n.length){clearTimeout(this._t1),clearTimeout(this._t2);var o=t.target.getBoundingClientRect(),s=o.left,l=o.top,r=o.width;this.top=l,this.left=s+r+5,this.list=e.children,this.show?this.$nextTick((function(){var e=i.$refs.box.offsetHeight,t=window,n=t.innerHeight;l+e>n&&(i.top=n-e)})):this._t2=setTimeout((function(){i.show=!0,i.$nextTick((function(){var e=i.$refs.box.offsetHeight,t=window,n=t.innerHeight;l+e>n&&(i.top=n-e)}))}),10)}else this.hideMenuChildren()},hideMenuChildren:function(){var e=this;clearTimeout(this._t1),this._t1=setTimeout((function(){e.show=!1,e._t1=setTimeout((function(){e.list=[]}),200)}),200)},mouseenter:function(){clearTimeout(this._t1)},mouseleave:function(){this.hideMenuChildren()},transitionend:function(e){"transform"==e.propertyName&&(this.$el.parentElement.style.overflow=this.__scrollOverflow,this.__scrollOverflow=null)}}},u=a,h=n(0),c=Object(h["a"])(u,s,l,!1,null,null,null),d=c.exports,m={name:"DsfDefaultHomeAsideMenu",inject:["homeRoot"],provide:function(){return{homeAside:this}},components:{HomeAsideMenuChildren:d},props:{position:{type:String,default:null}},data:function(){return{show:null,hoverMenu:null}},computed:{menuList:function(){var e=this.homeRoot.menuAction;e=e&&e.length?e[0]:{};var t=[];return e&&e.children&&(t=e.children),t},mini:function(){return dsf.themeConfig.setting.defaultAsideMini},width:function(){return 1==this.mini?"62px":"205px"},classList:function(){return["style-".concat(this.mini)]}},watch:{mini:function(e){var t=this;this.menuList.length&&(this.homeRoot.setPosition(this.position,this.width),e||this.$nextTick((function(){t.init(t.homeRoot.menuKey)})))},"menuList.length":function(e){e?this.homeRoot.setPosition(this.position,this.width):this.homeRoot.setPosition(this.position,"0")},"homeRoot.menuKey":{handler:function(e){var t=this;setTimeout((function(){t.init(e)}),0)},immediate:!0}},created:function(){this.homeRoot.setHomeControl("DsfDefaultHomeAsideMenu",this),this.menuList.length?this.homeRoot.setPosition(this.position,this.width):this.homeRoot.setPosition(this.position,"0")},beforeDestroy:function(){this.homeRoot.removeHomeControl("DsfDefaultHomeAsideMenu")},methods:{init:function(e){var t=this.$el,n=t.querySelectorAll(".ds-aside-menu-item.active");_.each(n,(function(e){e.__vue__.isActive=!1}));for(var i=1;i<e.length;i++){var o=e[i],s=t.querySelector('.ds-aside-menu-item.show[menu-level="'.concat(i,'"]'));s&&(s.__vue__.showChildren=!1);var l=t.querySelector('.ds-aside-menu-item[menu-key="'.concat(o,'"]'));l&&(l.__vue__.isActive=!0,l.__vue__.menu.children&&(l.__vue__.showChildren=!0,this.show=l.__vue__))}},setShow:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.show;if(t)while(n&&"dsf-default-home-menu-item"===n.$options._componentTag){if(n.showChildren=!1,n=n.$parent,!n)break;n=n.$parent}n=e;while(n&&"dsf-default-home-menu-item"===n.$options._componentTag){if(n.showChildren=!0,n=n.$parent,!n)break;n=n.$parent}this.show=e},mouseenter:function(e,t){var n;this.hoverMenu=t,null===(n=this.$refs.children)||void 0===n||n.showMenuChildren(t,e)},mouseleave:function(e){var t;null===(t=this.$refs.children)||void 0===t||t.hideMenuChildren(e)}}},f=m,v=Object(h["a"])(f,i,o,!1,null,null,null);t["default"]=v.exports},973:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home-default-header",class:["style-"+e.headerStyle,{ceiling:e.isCeiling}]},[n("div",{ref:"logoBox",staticClass:"logo-box"},[e._t("logo",(function(){return[e.disableHeadLogoUrl?[e.$logo?n("img",{ref:"logo",staticClass:"logo",attrs:{src:e._f("imgFormat")(e.$logo),alt:""},on:{error:function(t){e.logoLoadSuccess=!0},load:e.logoLoaded}}):e._e(),e.title&&e.title.length?n("div",{staticClass:"site-name"},[e._v(e._s(e.title))]):e._e(),n("span",{staticClass:"ds-system-secret"},[e._v(e._s(e.systemSecretText))])]:[n("a",{attrs:{href:e.indexUrl}},[e.$logo?n("img",{ref:"logo",staticClass:"logo",attrs:{src:e._f("imgFormat")(e.$logo),alt:""},on:{error:function(t){e.logoLoadSuccess=!0},load:e.logoLoaded}}):e._e(),e.title&&e.title.length?n("div",{staticClass:"site-name"},[e._v(e._s(e.title))]):e._e(),n("span",{staticClass:"ds-system-secret"},[e._v(e._s(e.systemSecretText))])])]]}))],2),n("div",{staticClass:"header-right"},[n("div",{ref:"headerRight",staticClass:"header-right-menu-wrap"},[!e.hideMenuBar&&e.logoLoadSuccess?n("dsf-default-home-menu-bar",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],attrs:{"header-style":e.headerStyle,"menu-list":e.menuList,"active-key":e.activeKey}},[e._t("default")],2):e._e()],1),e._t("menubar-append"),n("div",{ref:"headerUser",staticStyle:{flex:"none",height:"100%"}},[e._t("home-menu-right",(function(){return[n("div",{staticClass:"header-right-user",on:{"~mouseenter":function(t){e.loadUserInfoPanel=!0}}},[n("dsf-page-home-header-user",{staticClass:"__main"},[n("div",{staticClass:"username"},[n("span",[e._v(e._s(e.userName))]),e.hideDropdown?e._e():n("i",{staticClass:"iconfont",class:e.showDropdown?"icon-shangjiantou":"icon-xiajiantou"})])]),!e.hideDropdown&&e.loadUserInfoPanel?n("dsf-page-home-header-user-info-panel",{ref:"headerUserInfoPanel",attrs:{"dropdown-config":e.dropdownConfig,"custom-user-edit":e.customUserEdit},on:{show:function(t){e.showDropdown=t}},scopedSlots:e._u([{key:"reference",fn:function(){return[n("div",{staticClass:"__placeholder"})]},proxy:!0}],null,!1,1523975005)}):e._e()],1)]}))],2)],2)])},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-menu"},[n("div",{ref:"bt1",staticClass:"header-menu-bt __left",attrs:{disabled:e.disabledLeft},on:{click:function(t){return e.doPagination(1)}}},[n("i",{staticClass:"iconfont icon-arrow-left2"})]),n("div",{ref:"box",staticClass:"header-menu-box"},[n("div",{ref:"content",staticClass:"header-menu-content"},e._l(e.menuList,(function(t){return n("div",{key:t.menu_id,staticClass:"header-menu-item",class:{active:t.menu_id===e.activeKey},on:{click:function(n){return e.linkTo(t)},mouseenter:function(n){return e.$emit("show-menu-children",t,n)},mouseleave:function(n){return e.$emit("hide-menu-children",t,n)}}},[n("div",{staticClass:"header-menu-item-box"},[n("i",{staticClass:"iconfont",class:[t.menu_icon||e.defaultIcon]}),n("div",[e._v(e._s(t.menu_name))]),t.children&&t.children.length||!t["mark_type"]||!e.badge[t["menu_id"]]?e._e():n("span",{directives:[{name:"show",rawName:"v-show",value:e.badge[t["menu_id"]]["num"]>0,expression:"badge[item['menu_id']]['num']>0"}],staticClass:"ds-page-home-badge",class:[e.homeRoot.badgeStyle]},[e._v(" "+e._s(e.badge[t["menu_id"]]["num"])+" ")])])])})),0)]),n("div",{ref:"bt2",staticClass:"header-menu-bt __right",attrs:{disabled:e.disabledRight},on:{click:function(t){return e.doPagination(-1)}}},[n("i",{staticClass:"iconfont icon-arrow-right2"})]),e._t("default")],2)},l=[],r=n(8),a=n.n(r),u=n(40),h=!1,c={name:"DsfDefaultHomeMenuBar",inject:["homeRoot"],props:{menuList:{type:Array,default:function(){return[]}},activeKey:{type:String,default:null},headerStyle:{type:Number,default:0}},data:function(){return{defaultIcon:dsf.config.setting_public_default_menu_icon||"",disabledLeft:!1,disabledRight:!1,boxWidth:0,contentWidth:0}},computed:{badge:function(){return this.homeRoot.badges},showBt:function(){return this.contentWidth>this.boxWidth}},watch:{showBt:function(e){var t=this,n=e?"":"none";this.$refs.bt1.style.display=n,this.$refs.bt2.style.display=n,this.$nextTick((function(){t.updateBtStatus()}))}},mounted:function(){var e=this;this.__resizeObserver1=new ResizeObserver((function(t){var n=a()(t,1),i=n[0];i&&(e.boxWidth=Math.ceil(i.contentRect.width))})),this.__resizeObserver1.observe(this.$refs.box),this.__resizeObserver2=new ResizeObserver((function(t){var n=a()(t,1),i=n[0];i&&(e.contentWidth=Math.ceil(i.contentRect.width))})),this.__resizeObserver2.observe(this.$refs.content);var t=this.showBt?"":"none";this.$refs.bt1.style.display=t,this.$refs.bt2.style.display=t},beforeDestroy:function(){var e,t;null===(e=this.__resizeObserver1)||void 0===e||e.disconnect(),null===(t=this.__resizeObserver2)||void 0===t||t.disconnect()},methods:{linkTo:function(e){var t,n,i;e.menu_id!==this.activeKey&&(null!==(t=this.homeRoot)&&void 0!==t&&t.isPreview?null===(n=(i=this.homeRoot).isPreviewLinkTo)||void 0===n||n.call(i,e):u["a"].openPage.call(this.homeRoot,u["a"].findMenu(e)))},doPagination:function(e){var t=this;if(!h){var n=this.$refs.content.querySelectorAll(".header-menu-item"),i=n[0].offsetWidth,o=this.boxWidth,s=this.contentWidth,l=this.$refs.box.scrollLeft,r=s-o-l,a=(l+o)/i,u=l/i;if(e<0&&r>0){h=!0;var c="start",d=Math.floor(a);d===u&&d++,d>=n.length&&(c="end",d=n.length-1),n[d].scrollIntoView({behavior:"smooth",inline:c}),setTimeout((function(){t.updateBtStatus(),h=!1}),500)}else if(e>0&&l>0){h=!0;var m="end",f=Math.floor(u);f+1===a&&f--,f<0&&(m="start",f=0),n[f].scrollIntoView({behavior:"smooth",inline:m}),setTimeout((function(){t.updateBtStatus(),h=!1}),500)}}},updateBtStatus:function(){var e=this.boxWidth,t=this.contentWidth-2,n=this.$refs.box.scrollLeft;this.disabledLeft=!1,this.disabledRight=!1,n<2?this.disabledLeft=!0:e+n>=t&&(this.disabledRight=!0)}}},d=c,m=n(0),f=Object(m["a"])(d,s,l,!1,null,null,null),v=f.exports,p={name:"DsfDefaultHomeHeader",inject:["homeRoot"],components:{DsfDefaultHomeMenuBar:v},props:{noMenu:{type:Boolean,default:!1},dropdownConfig:{type:[Array,String],default:""},title:{default:function(){return dsf.config.setting_public_logo_title}},hideDropdown:{type:Boolean,default:!1},user_name:{default:function(){return"欢迎您,"+dsf.session.get("user_name")}},customUserEdit:{type:Function,default:null},logoClickUrl:{type:String,default:null}},data:function(){return{logo:dsf.config.setting_public_logo_image,headIcon:"",defaultHeader:dsf.config.setting_public_user_default_header,disableHeadLogoUrl:dsf.config.setting_public_disable_head_logo_url,showIcon:!1,showDropdown:!1,menuWidth:0,logoLoadSuccess:!1,loadUserInfoPanel:!1}},computed:{userName:function(){return this.homeRoot.isPreview?"欢迎您,"+decodeURIComponent(dsf.url.queryString("userName")||""):this.user_name},indexUrl:function(){return this.logoClickUrl||dsf.config.setting_public_logo_click_url||location.href.replace(/#.*/,"")},menuList:function(){return this.homeRoot.$menuList||[]},activeKey:function(){return this.homeRoot.menuKey.length>0?this.homeRoot.menuKey[0]:""},showMenu:function(){return this.menuList.length},headerStyle:function(){return dsf.themeConfig.setting.defaultHeaderMini},isCeiling:function(){return!!dsf.themeConfig.setting.defaultHeaderCeiling},$logo:function(){return this.$replace(dsf.url.getWebPath(this.logo))},systemSecretText:function(){return"1"==dsf.config.setting_security_is_open_classified&&dsf.config.setting_security_app_secret?"(".concat(dsf.config.setting_security_app_secret,")"):""},hideMenuBar:function(){return this.noMenu||!this.menuList.length||"1"==dsf.config.setting_public_nav_menu_to_left}},watch:{noMenu:{handler:function(e){this.homeRoot.isEncircleMenu=e},immediate:!0},headerStyle:function(e){this.homeRoot.setPosition("top",1==e?"60px":"94px")}},created:function(){this.homeRoot.setHomeControl("DsfDefaultHomeHeader",this),this.homeRoot.setPosition("top",1==this.headerStyle?"60px":"94px"),this.initHeadIcon(),this.$logo||(this.logoLoadSuccess=!0)},beforeDestroy:function(){this.homeRoot.removeHomeControl("DsfDefaultHomeHeader")},methods:{initHeadIcon:function(){var e=dsf.getCookie("photoRelativePath");e&&(this.headIcon=decodeURIComponent(e))},headLoadSuccess:function(){this.showIcon=!0},headLoadError:function(){this.showIcon=!1},handleCommand:function(e){var t=this.dropdownConfig[+e];this.$emit("dropdown-click",t)},logoLoaded:function(e){var t=this,n=e.target;this.$nextTick((function(){n.style.display="block",t.logoLoadSuccess=!0,n=null}))}}},_=p,g=(n(751),Object(m["a"])(_,i,o,!1,null,null,null));t["default"]=g.exports}}]);
//# sourceMappingURL=../../../smap/platform/dsf-platform.platform_pc_home_default_template.js.map