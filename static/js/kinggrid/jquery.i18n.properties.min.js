(function(m){function v(a){a.debug&&(f("callbackIfComplete()"),f("totalFiles: "+a.totalFiles),f("filesLoaded: "+a.filesLoaded));a.async&&a.filesLoaded===a.totalFiles&&a.callback&&a.callback()}function q(a,c){c.debug&&f("loadAndParseFiles");null!==a&&0<a.length?w(a[0],c,function(){a.shift();q(a,c)}):v(c)}function w(a,c,n){c.debug&&(f("loadAndParseFile('"+a+"')"),f("totalFiles: "+c.totalFiles),f("filesLoaded: "+c.filesLoaded));null!==a&&"undefined"!==typeof a&&(e.onreadystatechange=function(){4==e.readyState&&
200==e.status&&(c.debug&&(f("Succeeded in downloading "+a+"."),f(e.responseText)),x(e.responseText,c),n())},e.open("GET",a,c.cache),e.onerror=function(){c.debug&&f("Failed to download or parse "+a+". errorThrown: ");404===jqXHR.status&&--c.totalFiles;n()},e._send())}function x(a,c){var n="";a=a.split(/\n/);for(var g=/(\{\d+})/g,b=/\{(\d+)}/g,d=/(\\u.{4})/ig,f=0,h=a.length;f<h;f++){var l=a[f];l=l.trim();if(0<l.length&&"#"!=l.match("^#")){var e=l.split("=");if(0<e.length){l=decodeURI(e[0]).trim();for(var k=
1==e.length?"":e[1];-1!=k.search(/\\$/);)k=k.substring(0,k.length-1),k+=a[++f].trimRight();for(var p=2;p<e.length;p++)k+="="+e[p];k=k.trim();if("map"==c.mode||"both"==c.mode)(e=k.match(d))&&e.forEach(function(a){k=k.replace(a,y(a))}),c.namespace?m.kgi18n.map[c.namespace][l]=k:m.kgi18n.map[l]=k;if("vars"==c.mode||"both"==c.mode)if(k=k.replace(/"/g,'\\"'),z(l),g.test(k)){var q=!0,r="",t=[];k.split(g).forEach(function(a){!g.test(a)||0!==t.length&&-1!=t.indexOf(a)||(q||(r+=","),r+=a.replace(b,"v$1"),
t.push(a),q=!1)});n+=l+"=function("+r+"){";l='"'+k.replace(b,'"+v$1+"')+'"';n+="return "+l+";};"}else n+=l+'="'+k+'";'}}}eval(n);c.filesLoaded+=1}function z(a){if(/\./.test(a)){var c="";a=a.split(/\./);for(var n=0,g=a.length;n<g;n++){var b=a[n];0<n&&(c+=".");c+=b;eval("typeof "+c+' == "undefined"')&&eval(c+"={};")}}}function y(a){var c=[];a=parseInt(a.substr(2),16);0<=a&&a<Math.pow(2,16)&&c.push(a);return c.reduce(function(a,c){return a+String.fromCharCode(c)},"")}m.kgi18n={};m.kgi18n.map={};var f=
function(a){window.console&&console.log("i18n::"+a)};Function.prototype.method=function(a,c){this.prototype[a]=c;return this};String.prototype.trim||(String.method("trim",function(){return this.replace(/^\s+|\s+$/g,"")}),String.method("ltrim",function(){return this.replace(/^\s+/g,"")}),String.method("rtrim",function(){return this.replace(/\s+$/g,"")}));m.kgi18n.properties=function(a){a=m.extend({name:"Messages",language:"",path:"",namespace:null,mode:"vars",cache:!1,debug:!1,encoding:"UTF-8",async:!1,
callback:null},a);a.namespace&&"string"==typeof a.namespace&&(a.namespace.match(/^[a-z]*$/)?m.kgi18n.map[a.namespace]={}:(f("Namespaces can only be lower case letters, a - z"),a.namespace=null));a.path.match(/\/$/)||(a.path+="/");a.language=this.normaliseLanguageCode(a);var c=a.name&&a.name.constructor===Array?a.name:[a.name];a.totalFiles=2*c.length+(5<=a.language.length?c.length:0);a.debug&&f("totalFiles: "+a.totalFiles);a.filesLoaded=0;c.forEach(function(c){a.language.substring(0,2);if(5<=a.language.length){var g=
a.language.substring(0,5);g=a.path+c+"_"+g+".properties"}q([g],a)});a.callback&&!a.async&&a.callback()};m.kgi18n.prop=function(a){var c=[].slice.call(arguments);if(2==c.length)if(m.isArray(c[1]))var f=c[1];else if("object"===typeof c[1]){var g=c[1].namespace;var b=c[1].replacements;c.splice(-1,1);b&&Array.prototype.push.apply(c,b)}b=g?m.kgi18n.map[g][a]:m.kgi18n.map[a];if(null===b)return"["+(g?g+"#"+a:a)+"]";var d;if("string"==typeof b){for(d=0;-1!=(d=b.indexOf("\\",d));)b="t"==b.charAt(d+1)?b.substring(0,
d)+"\t"+b.substring(d++ +2):"r"==b.charAt(d+1)?b.substring(0,d)+"\r"+b.substring(d++ +2):"n"==b.charAt(d+1)?b.substring(0,d)+"\n"+b.substring(d++ +2):"f"==b.charAt(d+1)?b.substring(0,d)+"\f"+b.substring(d++ +2):"\\"==b.charAt(d+1)?b.substring(0,d)+"\\"+b.substring(d++ +2):b.substring(0,d)+b.substring(d+1);var e=[],h;for(d=0;d<b.length;)if("'"==b.charAt(d))if(d==b.length-1)b=b.substring(0,d);else if("'"==b.charAt(d+1))b=b.substring(0,d)+b.substring(++d);else{for(h=d+2;-1!=(h=b.indexOf("'",h));)if(h==
b.length-1||"'"!=b.charAt(h+1)){b=b.substring(0,d)+b.substring(d+1,h)+b.substring(h+1);d=h-1;break}else b=b.substring(0,h)+b.substring(++h);-1==h&&(b=b.substring(0,d)+b.substring(d+1))}else if("{"==b.charAt(d))if(h=b.indexOf("}",d+1),-1==h)d++;else{var l=parseInt(b.substring(d+1,h));!isNaN(l)&&0<=l?(d=b.substring(0,d),""!==d&&e.push(d),e.push(l),d=0,b=b.substring(h+1)):d=h+1}else d++;""!==b&&e.push(b);b=e;g?m.kgi18n.map[settings.namespace][a]=e:m.kgi18n.map[a]=e}if(!b||0===b.length)return"";if(1==
b.length&&"string"==typeof b[0])return b[0];g="";d=0;for(h=b.length;d<h;d++)g="string"==typeof b[d]?g+b[d]:f&&b[d]<f.length?g+f[b[d]]:!f&&b[d]+1<c.length?g+c[b[d]+1]:g+("{"+b[d]+"}");return g};if(window.XMLHttpRequest)var e=new XMLHttpRequest;else if(window.ActiveXObject)for(var u=["MSXML2.XMLHTTP","Microsoft.XMLHTTP"],p=0;p<u.length;p++)try{e=new ActiveXObject(u[p]);break}catch(a){}m.kgi18n.normaliseLanguageCode=function(a){var c=a.language;if(!c||2>c.length)a.debug&&f("No language supplied. Pulling it from the browser ..."),
c=navigator.languages&&0<navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage||"en",a.debug&&f("Language from browser: "+c);c=c.toLowerCase();c=c.replace(/-/,"_");3<c.length&&(c=c.substring(0,3)+c.substring(3).toUpperCase());return c}})(jQuery);
// V2.1.0.498    
