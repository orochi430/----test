!function(a){var b=a.navigator&&a.navigator.userAgent||"",c={isIOS:/Mobile/.test(b)&&b.match(/iPad|iPod|iPhone/),isAndroid:/Mobile/.test(b)&&/Android/i.test(b)};a.JSBridge={_SURPPORTED_API:null,H5API:{},_callback:{},_event:{},onSuccess:function(a,b){if("string"==typeof a&&"object"==typeof b)try{window.JSBridge._callback[a](b)}catch(c){}else try{"string"==typeof b&&(b=JSON.parse(decodeURIComponent(b))),window.JSBridge._callback[a](b)}catch(c){}},onError:function(){},requestHybrid:function(a){var c,d,b=this;a.callback&&(c=a.callbackName||"token_"+(new Date).getTime(),b._callback[c]=function(d){a.callback(d),delete b._callback[c]},a._token=c),d=b._getUrlByParams(a,a.callbackName),b._postToNative(d)},_getUrlByParams:function(a){var b="",c="native://";return b+=c+a.method,a.data?("object"==typeof a.data&&(a.data=JSON.stringify(a.data)),b+="?data="+encodeURIComponent(a.data),b+="&callback="+a._token):b+="?callback="+a._token,b},_postToNative:function(a){var b=document.createElement("iframe");b.src=a,b.style.display="none",document.body.appendChild(b),document.body.removeChild(b),b=null},"native":function(a,b,c){if(window.Promise&&c)return window.JSBridge.nativePromise(a,b);var d=null;return setTimeout(function(){window.JSBridge.requestHybrid({method:a,data:b,callback:function(a){d&&d(a)}})},0),{then:function(a){d=a}}},nativePromise:function(a,b){return new Promise(function(c,d){window.JSBridge.requestHybrid({method:a,data:b,callback:function(a){200===a.code?c(a):d(a)}})})},noMenu:function(a){var b=function(){window.JSBridge.native("menu",[])};c.isIOS&&!a?setTimeout(b,500):b()},toast:function(a,b){window.JSBridge.native("toast",{msg:a,time:b||3})},confirm:function(a,b,c,d,e){return window.JSBridge.native("confirm",{title:a,msg:b,ok:c,cancel:d},e)}}}(window);